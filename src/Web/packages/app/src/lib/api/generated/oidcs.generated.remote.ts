// AUTO-GENERATED - DO NOT EDIT
// Generated by @nocturne/remote-function-codegen
// Source: openapi.json

import { getRequestEvent, command } from '$app/server';
import { error } from '@sveltejs/kit';
import { z } from 'zod';

/** Logout and revoke the session */
export const logout = command(z.object({ providerId: z.string().optional() }).optional(), async (params) => {
  const { locals } = getRequestEvent();
  const { apiClient } = locals;
  try {
    const result = await apiClient.oidc.logout(params?.providerId);
    return result;
  } catch (err) {
    console.error('Error in oidc.logout:', err);
    throw error(500, 'Failed to logout');
  }
});
