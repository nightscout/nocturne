{
  "x-generator": "NSwag v14.6.3.0 (NJsonSchema v11.5.2.0 (Newtonsoft.Json v13.0.0.0))",
  "openapi": "3.0.0",
  "info": {
    "title": "Nocturne API",
    "description": "Modern C# rewrite of Nightscout API with 1:1 compatibility",
    "contact": {
      "name": "Nocturne API",
      "url": "https://github.com/ryceg/nocturne"
    },
    "license": {
      "name": "Use under LICX",
      "url": "https://example.com/license"
    },
    "version": "v1"
  },
  "paths": {
    "/": {
      "get": {
        "operationId": "Get",
        "responses": {
          "200": {
            "description": ""
          }
        }
      }
    },
    "/api/Analytics/status": {
      "get": {
        "tags": [
          "Analytics"
        ],
        "summary": "Get the current analytics configuration and status",
        "operationId": "Analytics_GetAnalyticsStatus",
        "responses": {
          "200": {
            "description": "Analytics configuration and collection status",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/api/Analytics/metrics/performance": {
      "get": {
        "tags": [
          "Analytics"
        ],
        "summary": "Get current performance metrics",
        "operationId": "Analytics_GetPerformanceMetrics",
        "responses": {
          "200": {
            "description": "System performance metrics",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PerformanceMetrics"
                }
              }
            }
          }
        }
      }
    },
    "/api/Analytics/metrics/usage": {
      "get": {
        "tags": [
          "Analytics"
        ],
        "summary": "Get current usage statistics",
        "operationId": "Analytics_GetUsageStatistics",
        "responses": {
          "200": {
            "description": "Usage statistics",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UsageStatistics"
                }
              }
            }
          }
        }
      }
    },
    "/api/Analytics/data/pending": {
      "get": {
        "tags": [
          "Analytics"
        ],
        "summary": "Get pending analytics data that would be transmitted (for transparency)",
        "operationId": "Analytics_GetPendingAnalyticsData",
        "responses": {
          "200": {
            "description": "Pending analytics data or null if none",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AnalyticsBatch"
                }
              }
            }
          }
        }
      }
    },
    "/api/Analytics/config": {
      "put": {
        "tags": [
          "Analytics"
        ],
        "summary": "Update analytics collection configuration",
        "operationId": "Analytics_UpdateAnalyticsConfig",
        "requestBody": {
          "x-name": "config",
          "description": "New analytics configuration",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AnalyticsCollectionConfig"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Updated configuration",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AnalyticsCollectionConfig"
                }
              }
            }
          }
        }
      }
    },
    "/api/Analytics/data": {
      "delete": {
        "tags": [
          "Analytics"
        ],
        "summary": "Clear all stored analytics data",
        "operationId": "Analytics_ClearAnalyticsData",
        "responses": {
          "200": {
            "description": "Confirmation message",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/api/Analytics/privacy": {
      "get": {
        "tags": [
          "Analytics"
        ],
        "summary": "Get information about what data is collected and privacy policy",
        "operationId": "Analytics_GetPrivacyInformation",
        "responses": {
          "200": {
            "description": "Privacy and data collection information",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/api/Analytics/events": {
      "post": {
        "tags": [
          "Analytics"
        ],
        "summary": "Track a custom analytics event (for testing or manual tracking)",
        "operationId": "Analytics_TrackCustomEvent",
        "requestBody": {
          "x-name": "eventData",
          "description": "Custom event data",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AnalyticsEvent"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Confirmation message",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/verifyauth": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Verify authentication status and permissions for the current request\nThis endpoint provides 1:1 compatibility with Nightscout's /api/v1/verifyauth endpoint",
        "operationId": "Authentication_VerifyAuthentication",
        "responses": {
          "200": {
            "description": "Authentication status and permission information",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VerifyAuthResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/authorization/request/{accessToken}": {
      "get": {
        "tags": [
          "Authorization"
        ],
        "summary": "Generate JWT token from access token",
        "operationId": "Authorization_GenerateJwtFromAccessToken",
        "parameters": [
          {
            "name": "accessToken",
            "in": "path",
            "required": true,
            "description": "Access token to exchange for JWT",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "JWT token response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthorizationResponse"
                }
              }
            }
          },
          "401": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/authorization/permissions": {
      "get": {
        "tags": [
          "Authorization"
        ],
        "summary": "Get all permissions that have been seen by the system",
        "operationId": "Authorization_GetAllPermissions",
        "responses": {
          "200": {
            "description": "List of permissions with usage statistics",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PermissionsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/authorization/permissions/trie": {
      "get": {
        "tags": [
          "Authorization"
        ],
        "summary": "Get permission hierarchy structure as a trie",
        "operationId": "Authorization_GetPermissionTrie",
        "responses": {
          "200": {
            "description": "Permission trie structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PermissionTrieResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/authorization/subjects": {
      "get": {
        "tags": [
          "Authorization"
        ],
        "summary": "Get all subjects (users/devices)",
        "operationId": "Authorization_GetAllSubjects",
        "responses": {
          "200": {
            "description": "List of all subjects",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Subject"
                  }
                }
              }
            }
          },
          "401": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "403": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Authorization"
        ],
        "summary": "Create a new subject",
        "operationId": "Authorization_CreateSubject",
        "requestBody": {
          "x-name": "subject",
          "description": "Subject to create",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Subject"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "201": {
            "description": "Created subject",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Subject"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "401": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "403": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Authorization"
        ],
        "summary": "Update an existing subject",
        "operationId": "Authorization_UpdateSubject",
        "requestBody": {
          "x-name": "subject",
          "description": "Subject to update",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Subject"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Updated subject",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Subject"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "401": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "403": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/authorization/subjects/{id}": {
      "delete": {
        "tags": [
          "Authorization"
        ],
        "summary": "Delete a subject by ID",
        "operationId": "Authorization_DeleteSubject",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Subject ID to delete",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "204": {
            "description": "Success response"
          },
          "401": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "403": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/authorization/roles": {
      "get": {
        "tags": [
          "Authorization"
        ],
        "summary": "Get all roles",
        "operationId": "Authorization_GetAllRoles",
        "responses": {
          "200": {
            "description": "List of all roles",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Role"
                  }
                }
              }
            }
          },
          "401": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "403": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Authorization"
        ],
        "summary": "Create a new role",
        "operationId": "Authorization_CreateRole",
        "requestBody": {
          "x-name": "role",
          "description": "Role to create",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Role"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "201": {
            "description": "Created role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Role"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "401": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "403": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Authorization"
        ],
        "summary": "Update an existing role",
        "operationId": "Authorization_UpdateRole",
        "requestBody": {
          "x-name": "role",
          "description": "Role to update",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Role"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Updated role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Role"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "401": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "403": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/authorization/roles/{id}": {
      "delete": {
        "tags": [
          "Authorization"
        ],
        "summary": "Delete a role by ID",
        "operationId": "Authorization_DeleteRole",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Role ID to delete",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "204": {
            "description": "Success response"
          },
          "401": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "403": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/connectors/status": {
      "get": {
        "tags": [
          "ConnectorStatus"
        ],
        "summary": "Gets the current status and metrics for all registered connectors",
        "operationId": "ConnectorStatus_GetStatus",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ConnectorStatusDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/auth/local/config": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Get local identity provider configuration",
        "operationId": "LocalAuth_GetConfig",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LocalAuthConfigResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/local/register": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Register a new user account",
        "operationId": "LocalAuth_Register",
        "requestBody": {
          "x-name": "request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RegisterResponse"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/local/login": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Log in with email and password",
        "operationId": "LocalAuth_Login",
        "requestBody": {
          "x-name": "request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoginRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/local/verify-email": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Verify email address",
        "operationId": "LocalAuth_VerifyEmail",
        "parameters": [
          {
            "name": "token",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "302": {
            "description": ""
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/local/forgot-password": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Request password reset",
        "operationId": "LocalAuth_ForgotPassword",
        "requestBody": {
          "x-name": "request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForgotPasswordRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ForgotPasswordResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/local/reset-password": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Reset password with token",
        "operationId": "LocalAuth_ResetPassword",
        "requestBody": {
          "x-name": "request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResetPasswordRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResetPasswordResponse"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/local/change-password": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Change password for authenticated user",
        "operationId": "LocalAuth_ChangePassword",
        "requestBody": {
          "x-name": "request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChangePasswordRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChangePasswordResponse"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/auth/local/check-email": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Check if email is allowed to register (for form validation)",
        "operationId": "LocalAuth_CheckEmail",
        "parameters": [
          {
            "name": "email",
            "in": "query",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CheckEmailResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/local/resend-verification": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Resend email verification",
        "operationId": "LocalAuth_ResendVerification",
        "requestBody": {
          "x-name": "request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResendVerificationRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResendVerificationResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/local/admin/password-resets": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Get pending password reset requests (admin only)",
        "operationId": "LocalAuth_GetPendingPasswordResets",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PasswordResetRequestListResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/local/admin/set-temporary-password": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Set a temporary password for a user (admin only)",
        "operationId": "LocalAuth_SetTemporaryPassword",
        "requestBody": {
          "x-name": "request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SetTemporaryPasswordRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SetTemporaryPasswordResponse"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/local/admin/handle-password-reset/{requestId}": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Handle a password reset request by generating a reset link (admin only)",
        "operationId": "LocalAuth_HandlePasswordReset",
        "parameters": [
          {
            "name": "requestId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HandlePasswordResetResponse"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/Metadata/websocket-events": {
      "get": {
        "tags": [
          "Metadata"
        ],
        "summary": "Get WebSocket event types metadata\nThis endpoint exists primarily to ensure NSwag generates TypeScript types for WebSocket events",
        "operationId": "Metadata_GetWebSocketEvents",
        "responses": {
          "200": {
            "description": "WebSocket events metadata",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebSocketEventsMetadata"
                }
              }
            }
          }
        }
      }
    },
    "/api/Metadata/external-urls": {
      "get": {
        "tags": [
          "Metadata"
        ],
        "summary": "Get external URLs for documentation and website\nThis endpoint provides a single source of truth for all external Nocturne URLs",
        "operationId": "Metadata_GetExternalUrls",
        "responses": {
          "200": {
            "description": "External URLs configuration",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExternalUrls"
                }
              }
            }
          }
        }
      }
    },
    "/api/Metadata/treatment-event-types": {
      "get": {
        "tags": [
          "Metadata"
        ],
        "summary": "Get treatment event types metadata\nThis endpoint exposes all available treatment event types for type-safe usage in frontend clients",
        "operationId": "Metadata_GetTreatmentEventTypes",
        "responses": {
          "200": {
            "description": "Treatment event types metadata",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TreatmentEventTypesMetadata"
                }
              }
            }
          }
        }
      }
    },
    "/api/Metadata/widget-definitions": {
      "get": {
        "tags": [
          "Metadata"
        ],
        "summary": "Get widget definitions metadata\nThis endpoint provides all available dashboard widget definitions for frontend configuration",
        "operationId": "Metadata_GetWidgetDefinitions",
        "responses": {
          "200": {
            "description": "Widget definitions metadata",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WidgetDefinitionsMetadata"
                }
              }
            }
          }
        }
      }
    },
    "/auth/providers": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Get available OIDC providers for login",
        "operationId": "Oidc_GetProviders",
        "responses": {
          "200": {
            "description": "List of enabled providers",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/OidcProviderInfo"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/auth/login": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Initiate OIDC login flow\nRedirects to the OIDC provider's authorization endpoint",
        "operationId": "Oidc_Login",
        "parameters": [
          {
            "name": "provider",
            "in": "query",
            "description": "Provider ID (optional, uses default if not specified)",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "returnUrl",
            "in": "query",
            "description": "URL to return to after login",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 2
          }
        ],
        "responses": {
          "302": {
            "description": ""
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/auth/callback": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Handle OIDC callback from provider\nExchanges authorization code for tokens and creates session",
        "operationId": "Oidc_Callback",
        "parameters": [
          {
            "name": "code",
            "in": "query",
            "description": "Authorization code from provider",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "state",
            "in": "query",
            "description": "State parameter for CSRF verification",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 2
          },
          {
            "name": "error",
            "in": "query",
            "description": "Error code from provider (if any)",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 3
          },
          {
            "name": "error_description",
            "in": "query",
            "description": "Error description from provider",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 4
          }
        ],
        "responses": {
          "302": {
            "description": ""
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/auth/refresh": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Refresh the session tokens\nUses the refresh token to get a new access token",
        "operationId": "Oidc_Refresh",
        "responses": {
          "200": {
            "description": "New token response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OidcTokenResponse"
                }
              }
            }
          },
          "401": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/auth/logout": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Logout and revoke the session",
        "operationId": "Oidc_Logout",
        "parameters": [
          {
            "name": "providerId",
            "in": "query",
            "description": "Provider ID for RP-initiated logout (optional)",
            "schema": {
              "type": "string",
              "format": "guid",
              "nullable": true
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Logout result with optional provider logout URL",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LogoutResponse"
                }
              }
            }
          }
        }
      }
    },
    "/auth/userinfo": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Get current user information",
        "operationId": "Oidc_GetUserInfo",
        "responses": {
          "200": {
            "description": "User information from the current session",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OidcUserInfo"
                }
              }
            }
          },
          "401": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/auth/session": {
      "get": {
        "tags": [
          "Authentication"
        ],
        "summary": "Get current session information",
        "operationId": "Oidc_GetSession",
        "responses": {
          "200": {
            "description": "Session status",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SessionInfo"
                }
              }
            }
          }
        }
      }
    },
    "/pebble": {
      "get": {
        "tags": [
          "Pebble"
        ],
        "summary": "Get pebble-formatted data for smartwatch apps and CGM monitors\nReturns current glucose, trend, delta, battery, IOB, and COB information",
        "operationId": "Pebble_GetPebbleData",
        "parameters": [
          {
            "name": "units",
            "in": "query",
            "description": "Units for glucose display (mg/dl or mmol)",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "count",
            "in": "query",
            "description": "Number of glucose readings to return (default: 1)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            },
            "x-position": 2
          }
        ],
        "responses": {
          "200": {
            "description": "Pebble-formatted response with bgs, cals, and status",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PebbleResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Statistics/basic-stats": {
      "post": {
        "tags": [
          "Statistics"
        ],
        "summary": "Calculate basic glucose statistics from provided glucose values",
        "operationId": "Statistics_CalculateBasicStats",
        "requestBody": {
          "x-name": "values",
          "description": "Array of glucose values in mg/dL",
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "type": "number",
                  "format": "double"
                }
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Basic glucose statistics including mean, median, percentiles, etc.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BasicGlucoseStats"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Statistics/glycemic-variability": {
      "post": {
        "tags": [
          "Statistics"
        ],
        "summary": "Calculate comprehensive glycemic variability metrics",
        "operationId": "Statistics_CalculateGlycemicVariability",
        "requestBody": {
          "x-name": "request",
          "description": "Request containing glucose values and entries",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GlycemicVariabilityRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Comprehensive glycemic variability metrics",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GlycemicVariability"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Statistics/time-in-range": {
      "post": {
        "tags": [
          "Statistics"
        ],
        "summary": "Calculate time in range metrics",
        "operationId": "Statistics_CalculateTimeInRange",
        "requestBody": {
          "x-name": "request",
          "description": "Request containing entries and optional thresholds",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TimeInRangeRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Time in range metrics including percentages, durations, and episodes",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TimeInRangeMetrics"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Statistics/glucose-distribution": {
      "post": {
        "tags": [
          "Statistics"
        ],
        "summary": "Calculate glucose distribution across configurable bins",
        "operationId": "Statistics_CalculateGlucoseDistribution",
        "requestBody": {
          "x-name": "request",
          "description": "Request containing entries and optional bins",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GlucoseDistributionRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Collection of distribution data points",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DistributionDataPoint"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Statistics/averaged-stats": {
      "post": {
        "tags": [
          "Statistics"
        ],
        "summary": "Calculate averaged statistics for each hour of the day (0-23)",
        "operationId": "Statistics_CalculateAveragedStats",
        "requestBody": {
          "x-name": "entries",
          "description": "Array of glucose entries",
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Entry"
                }
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Collection of averaged statistics for each hour",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AveragedStats"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Statistics/treatment-summary": {
      "post": {
        "tags": [
          "Statistics"
        ],
        "summary": "Calculate treatment summary for a collection of treatments",
        "operationId": "Statistics_CalculateTreatmentSummary",
        "requestBody": {
          "x-name": "treatments",
          "description": "Array of treatments",
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Treatment"
                }
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Treatment summary with totals and counts",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TreatmentSummary"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Statistics/overall-averages": {
      "post": {
        "tags": [
          "Statistics"
        ],
        "summary": "Calculate overall averages across multiple days",
        "operationId": "Statistics_CalculateOverallAverages",
        "requestBody": {
          "x-name": "dailyDataPoints",
          "description": "Array of daily data points",
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/DayData"
                }
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Overall averages or null if no data",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OverallAverages"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Statistics/comprehensive-analytics": {
      "post": {
        "tags": [
          "Statistics"
        ],
        "summary": "Master glucose analytics function that calculates comprehensive metrics",
        "operationId": "Statistics_AnalyzeGlucoseData",
        "requestBody": {
          "x-name": "request",
          "description": "Request containing entries, treatments, and configuration",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GlucoseAnalyticsRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Comprehensive glucose analytics",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GlucoseAnalytics"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Statistics/extended-analytics": {
      "post": {
        "tags": [
          "Statistics"
        ],
        "summary": "Extended glucose analytics including GMI, GRI, and clinical target assessment",
        "operationId": "Statistics_AnalyzeGlucoseDataExtended",
        "requestBody": {
          "x-name": "request",
          "description": "Request containing entries, treatments, population type, and configuration",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExtendedGlucoseAnalyticsRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Extended glucose analytics with modern clinical metrics",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExtendedGlucoseAnalytics"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Statistics/gmi/{meanGlucose}": {
      "get": {
        "tags": [
          "Statistics"
        ],
        "summary": "Calculate Glucose Management Indicator (GMI)",
        "operationId": "Statistics_CalculateGMI",
        "parameters": [
          {
            "name": "meanGlucose",
            "in": "path",
            "required": true,
            "description": "Mean glucose in mg/dL",
            "schema": {
              "type": "number",
              "format": "double"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "GMI with value and interpretation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GlucoseManagementIndicator"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Statistics/gri": {
      "post": {
        "tags": [
          "Statistics"
        ],
        "summary": "Calculate Glycemic Risk Index (GRI) from time in range metrics",
        "operationId": "Statistics_CalculateGRI",
        "requestBody": {
          "x-name": "timeInRange",
          "description": "Time in range metrics",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TimeInRangeMetrics"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "GRI with score, zone, and interpretation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GlycemicRiskIndex"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Statistics/clinical-assessment": {
      "post": {
        "tags": [
          "Statistics"
        ],
        "summary": "Assess glucose data against clinical targets for a specific population",
        "operationId": "Statistics_AssessAgainstTargets",
        "requestBody": {
          "x-name": "request",
          "description": "Request containing analytics and population type",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ClinicalAssessmentRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Clinical target assessment with actionable insights",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClinicalTargetAssessment"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Statistics/data-sufficiency": {
      "post": {
        "tags": [
          "Statistics"
        ],
        "summary": "Assess data sufficiency for a valid clinical report",
        "operationId": "Statistics_AssessDataSufficiency",
        "requestBody": {
          "x-name": "request",
          "description": "Request containing entries and optional period settings",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DataSufficiencyRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Data sufficiency assessment",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DataSufficiencyAssessment"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Statistics/clinical-targets/{population}": {
      "get": {
        "tags": [
          "Statistics"
        ],
        "summary": "Get clinical targets for a specific diabetes population",
        "operationId": "Statistics_GetClinicalTargets",
        "parameters": [
          {
            "name": "population",
            "in": "path",
            "required": true,
            "description": "Population type (Type1Adult, Type2Adult, Elderly, Pregnancy, etc.)",
            "schema": {
              "$ref": "#/components/schemas/DiabetesPopulation"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Clinical targets for the specified population",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ClinicalTargets"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Statistics/estimated-a1c/{averageGlucose}": {
      "get": {
        "tags": [
          "Statistics"
        ],
        "summary": "Calculate estimated A1C from average glucose",
        "operationId": "Statistics_CalculateEstimatedA1C",
        "parameters": [
          {
            "name": "averageGlucose",
            "in": "path",
            "required": true,
            "description": "Average glucose in mg/dL",
            "schema": {
              "type": "number",
              "format": "double"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Estimated A1C percentage",
            "content": {
              "application/json": {
                "schema": {
                  "type": "number",
                  "format": "double"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Statistics/convert/mgdl-to-mmol/{mgdl}": {
      "get": {
        "tags": [
          "Statistics"
        ],
        "summary": "Convert mg/dL to mmol/L",
        "operationId": "Statistics_MgdlToMMOL",
        "parameters": [
          {
            "name": "mgdl",
            "in": "path",
            "required": true,
            "description": "Glucose value in mg/dL",
            "schema": {
              "type": "number",
              "format": "double"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Glucose value in mmol/L",
            "content": {
              "application/json": {
                "schema": {
                  "type": "number",
                  "format": "double"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Statistics/convert/mmol-to-mgdl/{mmol}": {
      "get": {
        "tags": [
          "Statistics"
        ],
        "summary": "Convert mmol/L to mg/dL",
        "operationId": "Statistics_MmolToMGDL",
        "parameters": [
          {
            "name": "mmol",
            "in": "path",
            "required": true,
            "description": "Glucose value in mmol/L",
            "schema": {
              "type": "number",
              "format": "double"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Glucose value in mg/dL",
            "content": {
              "application/json": {
                "schema": {
                  "type": "number",
                  "format": "double"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Statistics/format/insulin/{value}": {
      "get": {
        "tags": [
          "Statistics"
        ],
        "summary": "Format insulin value for display",
        "operationId": "Statistics_FormatInsulinDisplay",
        "parameters": [
          {
            "name": "value",
            "in": "path",
            "required": true,
            "description": "Insulin value",
            "schema": {
              "type": "number",
              "format": "double"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Formatted insulin string",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Statistics/format/carb/{value}": {
      "get": {
        "tags": [
          "Statistics"
        ],
        "summary": "Format carb value for display",
        "operationId": "Statistics_FormatCarbDisplay",
        "parameters": [
          {
            "name": "value",
            "in": "path",
            "required": true,
            "description": "Carb value",
            "schema": {
              "type": "number",
              "format": "double"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Formatted carb string",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Statistics/validate/treatment": {
      "post": {
        "tags": [
          "Statistics"
        ],
        "summary": "Validate treatment data for completeness and consistency",
        "operationId": "Statistics_ValidateTreatmentData",
        "requestBody": {
          "x-name": "treatment",
          "description": "Treatment to validate",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Treatment"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "True if treatment data is valid",
            "content": {
              "application/json": {
                "schema": {
                  "type": "boolean"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Statistics/clean/treatments": {
      "post": {
        "tags": [
          "Statistics"
        ],
        "summary": "Clean and filter treatment data",
        "operationId": "Statistics_CleanTreatmentData",
        "requestBody": {
          "x-name": "treatments",
          "description": "Array of treatments to clean",
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Treatment"
                }
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Cleaned collection of treatments",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Treatment"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Statistics/periods": {
      "get": {
        "tags": [
          "Statistics"
        ],
        "summary": "Get comprehensive statistics for multiple time periods (1, 3, 7, 30, 90 days)\nUses in-memory cache for performance with daily expiration",
        "operationId": "Statistics_GetMultiPeriodStatistics",
        "responses": {
          "200": {
            "description": "Multi-period statistics with comprehensive analytics for each time period",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MultiPeriodStatistics"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Statistics/site-change-impact": {
      "post": {
        "tags": [
          "Statistics"
        ],
        "summary": "Analyze glucose patterns around site changes to identify impact of site age on control",
        "operationId": "Statistics_CalculateSiteChangeImpact",
        "requestBody": {
          "x-name": "request",
          "description": "Request containing entries, treatments, and analysis parameters",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SiteChangeImpactRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Site change impact analysis with averaged glucose patterns",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SiteChangeImpactAnalysis"
                }
              }
            }
          }
        }
      }
    },
    "/api/Versions": {
      "get": {
        "tags": [
          "Versions"
        ],
        "summary": "Get the list of supported API versions",
        "operationId": "Versions_GetVersions",
        "responses": {
          "200": {
            "description": "List of supported API versions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VersionsResponse"
                }
              }
            }
          }
        }
      }
    },
    "/.well-known/openid-configuration": {
      "get": {
        "tags": [
          "OIDC Discovery"
        ],
        "summary": "OpenID Connect Discovery Document",
        "operationId": "WellKnown_GetOpenIdConfiguration",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OpenIdConfiguration"
                }
              }
            }
          }
        }
      }
    },
    "/.well-known/jwks.json": {
      "get": {
        "tags": [
          "OIDC Discovery"
        ],
        "summary": "JSON Web Key Set (JWKS) - for token signature verification\nNote: Since we use HMAC symmetric keys, we only expose the algorithm info\nActual key verification happens server-side",
        "operationId": "WellKnown_GetJwks",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/JsonWebKeySet"
                }
              }
            }
          }
        }
      }
    },
    "/.well-known/oauth-authorization-server": {
      "get": {
        "tags": [
          "OIDC Discovery"
        ],
        "summary": "OAuth 2.0 Authorization Server Metadata",
        "operationId": "WellKnown_GetOAuthMetadata",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OAuthAuthorizationServerMetadata"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/Battery/current": {
      "get": {
        "tags": [
          "V4 Battery"
        ],
        "summary": "Get the current battery status for all tracked devices",
        "operationId": "Battery_GetCurrentBatteryStatus",
        "parameters": [
          {
            "name": "recentMinutes",
            "in": "query",
            "description": "How many minutes back to consider for \"recent\" readings (default: 30)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 30
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Current battery status for all devices",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CurrentBatteryStatus"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v4/Battery/readings": {
      "get": {
        "tags": [
          "V4 Battery"
        ],
        "summary": "Get battery readings for a device over a time period",
        "operationId": "Battery_GetBatteryReadings",
        "parameters": [
          {
            "name": "device",
            "in": "query",
            "description": "Device identifier (optional, returns all devices if not specified)",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "from",
            "in": "query",
            "description": "Start time in milliseconds since Unix epoch",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 2
          },
          {
            "name": "to",
            "in": "query",
            "description": "End time in milliseconds since Unix epoch",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 3
          }
        ],
        "responses": {
          "200": {
            "description": "Battery readings for the specified period",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BatteryReading"
                  }
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v4/Battery/statistics": {
      "get": {
        "tags": [
          "V4 Battery"
        ],
        "summary": "Get battery statistics for a device or all devices",
        "operationId": "Battery_GetBatteryStatistics",
        "parameters": [
          {
            "name": "device",
            "in": "query",
            "description": "Device identifier (optional, returns all devices if not specified)",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "from",
            "in": "query",
            "description": "Start time in milliseconds since Unix epoch (default: 7 days ago)",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 2
          },
          {
            "name": "to",
            "in": "query",
            "description": "End time in milliseconds since Unix epoch (default: now)",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 3
          }
        ],
        "responses": {
          "200": {
            "description": "Battery statistics for the specified period",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/BatteryStatistics"
                  }
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v4/Battery/cycles": {
      "get": {
        "tags": [
          "V4 Battery"
        ],
        "summary": "Get charge cycle history for a device",
        "operationId": "Battery_GetChargeCycles",
        "parameters": [
          {
            "name": "device",
            "in": "query",
            "description": "Device identifier (optional, returns all devices if not specified)",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "from",
            "in": "query",
            "description": "Start time in milliseconds since Unix epoch",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 2
          },
          {
            "name": "to",
            "in": "query",
            "description": "End time in milliseconds since Unix epoch",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 3
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Maximum number of cycles to return (default: 100)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 100
            },
            "x-position": 4
          }
        ],
        "responses": {
          "200": {
            "description": "Charge cycles for the specified period",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ChargeCycle"
                  }
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v4/Battery/devices": {
      "get": {
        "tags": [
          "V4 Battery"
        ],
        "summary": "Get list of all known devices with battery data",
        "operationId": "Battery_GetKnownDevices",
        "responses": {
          "200": {
            "description": "List of device identifiers",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v4/ChartData/dashboard": {
      "get": {
        "tags": [
          "V4 Chart Data"
        ],
        "summary": "Get dashboard chart data with pre-calculated IOB, COB, and basal time series",
        "operationId": "ChartData_GetDashboardChartData",
        "parameters": [
          {
            "name": "startTime",
            "in": "query",
            "description": "Start time in Unix milliseconds",
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "x-position": 1
          },
          {
            "name": "endTime",
            "in": "query",
            "description": "End time in Unix milliseconds",
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "x-position": 2
          },
          {
            "name": "intervalMinutes",
            "in": "query",
            "description": "Interval for IOB/COB calculations (default: 5)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 5
            },
            "x-position": 3
          }
        ],
        "responses": {
          "200": {
            "description": "Chart data with all calculated series",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DashboardChartData"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v4/compatibility/config": {
      "get": {
        "tags": [
          "Compatibility"
        ],
        "summary": "Get current proxy configuration",
        "operationId": "Compatibility_GetConfiguration",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProxyConfigurationDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/compatibility/metrics": {
      "get": {
        "tags": [
          "Compatibility"
        ],
        "summary": "Get overall compatibility metrics",
        "operationId": "Compatibility_GetMetrics",
        "parameters": [
          {
            "name": "fromDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "toDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            },
            "x-position": 2
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CompatibilityMetrics"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/compatibility/endpoints": {
      "get": {
        "tags": [
          "Compatibility"
        ],
        "summary": "Get per-endpoint compatibility metrics",
        "operationId": "Compatibility_GetEndpointMetrics",
        "parameters": [
          {
            "name": "fromDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "toDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            },
            "x-position": 2
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/EndpointMetrics"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/compatibility/analyses": {
      "get": {
        "tags": [
          "Compatibility"
        ],
        "summary": "Get list of analyses with filtering and pagination",
        "operationId": "Compatibility_GetAnalyses",
        "parameters": [
          {
            "name": "requestPath",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "overallMatch",
            "in": "query",
            "schema": {
              "oneOf": [
                {
                  "nullable": true,
                  "oneOf": [
                    {
                      "$ref": "#/components/schemas/ResponseMatchType"
                    }
                  ]
                }
              ]
            },
            "x-position": 2
          },
          {
            "name": "requestMethod",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 3
          },
          {
            "name": "fromDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            },
            "x-position": 4
          },
          {
            "name": "toDate",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            },
            "x-position": 5
          },
          {
            "name": "count",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 100
            },
            "x-position": 6
          },
          {
            "name": "skip",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            },
            "x-position": 7
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AnalysesListResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/compatibility/analyses/{id}": {
      "get": {
        "tags": [
          "Compatibility"
        ],
        "summary": "Get detailed analysis by ID",
        "operationId": "Compatibility_GetAnalysisDetail",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AnalysisDetailDto"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/compatibility/test": {
      "post": {
        "tags": [
          "Compatibility"
        ],
        "summary": "Test API compatibility by comparing responses from Nightscout and Nocturne",
        "operationId": "Compatibility_TestApiComparison",
        "requestBody": {
          "x-name": "request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ManualTestRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ManualTestResult"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/connector-food-entries/import": {
      "post": {
        "tags": [
          "V4 Connector Food Entries"
        ],
        "summary": "Import connector food entries.",
        "operationId": "ConnectorFoodEntries_ImportEntries",
        "requestBody": {
          "x-name": "imports",
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/ConnectorFoodEntryImport"
                }
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ConnectorFoodEntry"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/debug/echo/{echo}": {
      "get": {
        "tags": [
          "V4 Debug"
        ],
        "summary": "Echo endpoint for debugging MongoDB queries\nReturns information about how REST API parameters translate into MongoDB queries",
        "operationId": "Debug_EchoQuery",
        "parameters": [
          {
            "name": "echo",
            "in": "path",
            "required": true,
            "description": "Storage type to query (entries, treatments, devicestatus, activity)",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Query information returned successfully",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v4/debug/echo/{echo}/{model}": {
      "get": {
        "tags": [
          "V4 Debug"
        ],
        "summary": "Echo endpoint for debugging MongoDB queries with model\nReturns information about how REST API parameters translate into MongoDB queries",
        "operationId": "Debug_EchoQueryWithModel",
        "parameters": [
          {
            "name": "echo",
            "in": "path",
            "required": true,
            "description": "Storage type to query (entries, treatments, devicestatus, activity)",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          },
          {
            "name": "model",
            "in": "path",
            "required": true,
            "description": "Model specification",
            "schema": {
              "type": "string"
            },
            "x-position": 2
          }
        ],
        "responses": {
          "200": {
            "description": "Query information returned successfully",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v4/debug/echo/{echo}/{model}/{spec}": {
      "get": {
        "tags": [
          "V4 Debug"
        ],
        "summary": "Echo endpoint for debugging MongoDB queries with model and spec\nReturns information about how REST API parameters translate into MongoDB queries",
        "operationId": "Debug_EchoQueryWithModelAndSpec",
        "parameters": [
          {
            "name": "echo",
            "in": "path",
            "required": true,
            "description": "Storage type to query (entries, treatments, devicestatus, activity)",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          },
          {
            "name": "model",
            "in": "path",
            "required": true,
            "description": "Model specification",
            "schema": {
              "type": "string"
            },
            "x-position": 2
          },
          {
            "name": "spec",
            "in": "path",
            "required": true,
            "description": "Specification parameter",
            "schema": {
              "type": "string"
            },
            "x-position": 3
          }
        ],
        "responses": {
          "200": {
            "description": "Query information returned successfully",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v4/debug/entries/preview": {
      "post": {
        "tags": [
          "V4 Debug"
        ],
        "summary": "Preview endpoint for entry creation without persistence\nAllows previewing entry data without actually storing it in the database",
        "operationId": "Debug_PreviewEntries",
        "requestBody": {
          "x-name": "entries",
          "description": "Entry data to preview (single object or array)",
          "content": {
            "application/json": {
              "schema": {}
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Entry data previewed successfully",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "Invalid entry data",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v4/admin/deduplication/run": {
      "post": {
        "tags": [
          "Deduplication"
        ],
        "summary": "Start a deduplication job to link related records from different data sources.\nThe job runs in the background and can be monitored using the status endpoint.",
        "operationId": "Deduplication_StartDeduplicationJob",
        "responses": {
          "202": {
            "description": "Job ID for tracking progress",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeduplicationJobResponse"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v4/admin/deduplication/status/{jobId}": {
      "get": {
        "tags": [
          "Deduplication"
        ],
        "summary": "Get the status of a deduplication job.",
        "operationId": "Deduplication_GetJobStatus",
        "parameters": [
          {
            "name": "jobId",
            "in": "path",
            "required": true,
            "description": "The job ID returned from the run endpoint",
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Current status and progress of the job",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeduplicationJobStatus"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v4/admin/deduplication/cancel/{jobId}": {
      "post": {
        "tags": [
          "Deduplication"
        ],
        "summary": "Cancel a running deduplication job.",
        "operationId": "Deduplication_CancelJob",
        "parameters": [
          {
            "name": "jobId",
            "in": "path",
            "required": true,
            "description": "The job ID to cancel",
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Whether the job was successfully cancelled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CancelJobResponse"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v4/admin/deduplication/entries/{entryId}/sources": {
      "get": {
        "tags": [
          "Deduplication"
        ],
        "summary": "Get linked records for a specific entry by its canonical group.",
        "operationId": "Deduplication_GetEntryLinkedRecords",
        "parameters": [
          {
            "name": "entryId",
            "in": "path",
            "required": true,
            "description": "The entry ID",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "All linked records in the same canonical group",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LinkedRecordsResponse"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v4/admin/deduplication/treatments/{treatmentId}/sources": {
      "get": {
        "tags": [
          "Deduplication"
        ],
        "summary": "Get linked records for a specific treatment by its canonical group.",
        "operationId": "Deduplication_GetTreatmentLinkedRecords",
        "parameters": [
          {
            "name": "treatmentId",
            "in": "path",
            "required": true,
            "description": "The treatment ID",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "All linked records in the same canonical group",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LinkedRecordsResponse"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v4/admin/deduplication/state-spans/{stateSpanId}/sources": {
      "get": {
        "tags": [
          "Deduplication"
        ],
        "summary": "Get linked records for a specific state span by its canonical group.",
        "operationId": "Deduplication_GetStateSpanLinkedRecords",
        "parameters": [
          {
            "name": "stateSpanId",
            "in": "path",
            "required": true,
            "description": "The state span ID",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "All linked records in the same canonical group",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LinkedRecordsResponse"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v4/devices/alerts": {
      "get": {
        "tags": [
          "V4 Device Alerts"
        ],
        "summary": "Get active device alerts for the current user",
        "operationId": "DeviceAlerts_GetActiveDeviceAlerts",
        "parameters": [
          {
            "name": "deviceId",
            "in": "query",
            "description": "Optional device ID filter",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "List of active device alerts",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DeviceAlert"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/devices/alerts/summary": {
      "get": {
        "tags": [
          "V4 Device Alerts"
        ],
        "summary": "Get device alerts summary by type",
        "operationId": "DeviceAlerts_GetDeviceAlertSummary",
        "responses": {
          "200": {
            "description": "Alert summary",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeviceAlertSummary"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/devices/alerts/{alertId}/acknowledge": {
      "post": {
        "tags": [
          "V4 Device Alerts"
        ],
        "summary": "Acknowledge a device alert",
        "operationId": "DeviceAlerts_AcknowledgeDeviceAlert",
        "parameters": [
          {
            "name": "alertId",
            "in": "path",
            "required": true,
            "description": "Alert identifier",
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Success response",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/devices/alerts/test/{deviceId}": {
      "post": {
        "tags": [
          "V4 Device Alerts"
        ],
        "summary": "Test device alert generation for a specific device",
        "operationId": "DeviceAlerts_TestDeviceAlerts",
        "parameters": [
          {
            "name": "deviceId",
            "in": "path",
            "required": true,
            "description": "Device identifier",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "List of generated alerts",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DeviceAlert"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/devices/alerts/settings": {
      "get": {
        "tags": [
          "V4 Device Alerts"
        ],
        "summary": "Get alert settings/preferences for device alerts",
        "operationId": "DeviceAlerts_GetAlertSettings",
        "responses": {
          "200": {
            "description": "Alert settings",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeviceAlertSettings"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "V4 Device Alerts"
        ],
        "summary": "Update alert settings/preferences for device alerts",
        "operationId": "DeviceAlerts_UpdateAlertSettings",
        "requestBody": {
          "x-name": "settings",
          "description": "Alert settings",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DeviceAlertSettings"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Success response",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/devices": {
      "get": {
        "tags": [
          "V4 Device Health"
        ],
        "summary": "Get all devices for the current user",
        "operationId": "DeviceHealth_GetUserDevices",
        "responses": {
          "200": {
            "description": "List of user's devices",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DeviceHealth"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "V4 Device Health"
        ],
        "summary": "Register a new device",
        "operationId": "DeviceHealth_RegisterDevice",
        "requestBody": {
          "x-name": "request",
          "description": "Device registration request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DeviceRegistrationRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Registered device information",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeviceHealth"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/devices/{id}": {
      "get": {
        "tags": [
          "V4 Device Health"
        ],
        "summary": "Get device information",
        "operationId": "DeviceHealth_GetDevice",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Device identifier",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Device information",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeviceHealth"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "V4 Device Health"
        ],
        "summary": "Remove a device from the registry",
        "operationId": "DeviceHealth_RemoveDevice",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Device identifier",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Success response",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/devices/{id}/settings": {
      "put": {
        "tags": [
          "V4 Device Health"
        ],
        "summary": "Update device settings",
        "operationId": "DeviceHealth_UpdateDeviceSettings",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Device identifier",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "settings",
          "description": "Device settings update",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DeviceSettingsUpdate"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "Success response",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/devices/{id}/health": {
      "put": {
        "tags": [
          "V4 Device Health"
        ],
        "summary": "Update device health metrics",
        "operationId": "DeviceHealth_UpdateDeviceHealth",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Device identifier",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "update",
          "description": "Device health update",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DeviceHealthUpdate"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "Success response",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/Discrepancy/metrics": {
      "get": {
        "tags": [
          "V4 Discrepancy"
        ],
        "summary": "Get overall compatibility metrics for dashboard overview",
        "operationId": "Discrepancy_GetCompatibilityMetrics",
        "parameters": [
          {
            "name": "fromDate",
            "in": "query",
            "description": "Start date for metrics (optional)",
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "toDate",
            "in": "query",
            "description": "End date for metrics (optional)",
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            },
            "x-position": 2
          }
        ],
        "responses": {
          "200": {
            "description": "Compatibility metrics including success rate and response times",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CompatibilityMetrics"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/Discrepancy/endpoints": {
      "get": {
        "tags": [
          "V4 Discrepancy"
        ],
        "summary": "Get per-endpoint compatibility metrics",
        "operationId": "Discrepancy_GetEndpointMetrics",
        "parameters": [
          {
            "name": "fromDate",
            "in": "query",
            "description": "Start date for metrics (optional)",
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "toDate",
            "in": "query",
            "description": "End date for metrics (optional)",
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            },
            "x-position": 2
          }
        ],
        "responses": {
          "200": {
            "description": "List of endpoint-specific compatibility metrics",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/EndpointMetrics"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/Discrepancy/analyses": {
      "get": {
        "tags": [
          "V4 Discrepancy"
        ],
        "summary": "Get detailed discrepancy analyses with filtering and pagination",
        "operationId": "Discrepancy_GetDiscrepancyAnalyses",
        "parameters": [
          {
            "name": "requestPath",
            "in": "query",
            "description": "Filter by request path (optional)",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "overallMatch",
            "in": "query",
            "description": "Filter by overall match type (optional)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "nullable": true
            },
            "x-position": 2
          },
          {
            "name": "fromDate",
            "in": "query",
            "description": "Start date for filter (optional)",
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            },
            "x-position": 3
          },
          {
            "name": "toDate",
            "in": "query",
            "description": "End date for filter (optional)",
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            },
            "x-position": 4
          },
          {
            "name": "count",
            "in": "query",
            "description": "Number of results to return (default: 100, max: 1000)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 100
            },
            "x-position": 5
          },
          {
            "name": "skip",
            "in": "query",
            "description": "Number of results to skip for pagination (default: 0)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            },
            "x-position": 6
          }
        ],
        "responses": {
          "200": {
            "description": "List of detailed discrepancy analyses",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DiscrepancyAnalysisDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/Discrepancy/analyses/{id}": {
      "get": {
        "tags": [
          "V4 Discrepancy"
        ],
        "summary": "Get a specific discrepancy analysis by ID",
        "operationId": "Discrepancy_GetDiscrepancyAnalysis",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Analysis ID",
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Detailed discrepancy analysis",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DiscrepancyAnalysisDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/Discrepancy/status": {
      "get": {
        "tags": [
          "V4 Discrepancy"
        ],
        "summary": "Get real-time compatibility status summary",
        "operationId": "Discrepancy_GetCompatibilityStatus",
        "responses": {
          "200": {
            "description": "Current compatibility status",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CompatibilityStatus"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/Discrepancy/ingest": {
      "post": {
        "tags": [
          "V4 Discrepancy"
        ],
        "summary": "Receive forwarded discrepancies from remote Nocturne instances",
        "operationId": "Discrepancy_IngestDiscrepancy",
        "requestBody": {
          "x-name": "request",
          "description": "The forwarded discrepancy data",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ForwardedDiscrepancyDto"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Acknowledgement of receipt",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "401": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v4/foods/favorites": {
      "get": {
        "tags": [
          "V4 Foods"
        ],
        "summary": "Get current user's favorite foods.",
        "operationId": "Foods_GetFavorites",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Food"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/foods/{foodId}/favorite": {
      "post": {
        "tags": [
          "V4 Foods"
        ],
        "summary": "Add a food to favorites.",
        "operationId": "Foods_AddFavorite",
        "parameters": [
          {
            "name": "foodId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "V4 Foods"
        ],
        "summary": "Remove a food from favorites.",
        "operationId": "Foods_RemoveFavorite",
        "parameters": [
          {
            "name": "foodId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/foods/recent": {
      "get": {
        "tags": [
          "V4 Foods"
        ],
        "summary": "Get recently used foods (excluding favorites).",
        "operationId": "Foods_GetRecentFoods",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Food"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/migration/test": {
      "post": {
        "tags": [
          "Migration"
        ],
        "summary": "Test a migration source connection",
        "operationId": "Migration_TestConnection",
        "requestBody": {
          "x-name": "request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TestMigrationConnectionRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TestMigrationConnectionResult"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/migration/start": {
      "post": {
        "tags": [
          "Migration"
        ],
        "summary": "Start a new migration job",
        "operationId": "Migration_StartMigration",
        "requestBody": {
          "x-name": "request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StartMigrationRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "202": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MigrationJobInfo"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/migration/{jobId}/status": {
      "get": {
        "tags": [
          "Migration"
        ],
        "summary": "Get the status of a migration job",
        "operationId": "Migration_GetStatus",
        "parameters": [
          {
            "name": "jobId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MigrationJobStatus"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/migration/{jobId}/cancel": {
      "post": {
        "tags": [
          "Migration"
        ],
        "summary": "Cancel a running migration job",
        "operationId": "Migration_CancelMigration",
        "parameters": [
          {
            "name": "jobId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "204": {
            "description": ""
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/migration/history": {
      "get": {
        "tags": [
          "Migration"
        ],
        "summary": "Get migration job history",
        "operationId": "Migration_GetHistory",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MigrationJobInfo"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/migration/pending-config": {
      "get": {
        "tags": [
          "Migration"
        ],
        "summary": "Get pending migration configuration from environment variables",
        "operationId": "Migration_GetPendingConfig",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PendingMigrationConfig"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/migration/sources": {
      "get": {
        "tags": [
          "Migration"
        ],
        "summary": "Get saved migration sources with their last migration timestamps",
        "operationId": "Migration_GetSources",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MigrationSourceDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/connectors/myfitnesspal/settings": {
      "get": {
        "tags": [
          "V4 Connector Settings"
        ],
        "summary": "Get global MyFitnessPal matching settings.",
        "operationId": "MyFitnessPalSettings_GetSettings",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MyFitnessPalMatchingSettings"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "V4 Connector Settings"
        ],
        "summary": "Update global MyFitnessPal matching settings.",
        "operationId": "MyFitnessPalSettings_SaveSettings",
        "requestBody": {
          "x-name": "settings",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MyFitnessPalMatchingSettings"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MyFitnessPalMatchingSettings"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/predictions": {
      "get": {
        "tags": [
          "Prediction"
        ],
        "summary": "Get glucose predictions based on current data.\nReturns predicted glucose values for the next 4 hours in 5-minute intervals.",
        "operationId": "Prediction_GetPredictions",
        "parameters": [
          {
            "name": "profileId",
            "in": "query",
            "description": "Optional profile ID to use for predictions",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Glucose predictions including IOB, UAM, COB, and zero-temp curves",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GlucosePredictionResponse"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PredictionErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PredictionErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/predictions/status": {
      "get": {
        "tags": [
          "Prediction"
        ],
        "summary": "Check if the oref prediction library is available.",
        "operationId": "Prediction_GetStatus",
        "responses": {
          "200": {
            "description": "Status of the oref library",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PredictionStatusResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/processing/status/{correlationId}": {
      "get": {
        "tags": [
          "V4 Processing"
        ],
        "summary": "Get the processing status for a correlation ID",
        "operationId": "Processing_GetProcessingStatus",
        "parameters": [
          {
            "name": "correlationId",
            "in": "path",
            "required": true,
            "description": "The correlation ID to check",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Processing status or 404 if not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProcessingStatusResponse"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v4/processing/status/{correlationId}/wait": {
      "get": {
        "tags": [
          "V4 Processing"
        ],
        "summary": "Wait for processing to complete with long polling",
        "operationId": "Processing_WaitForCompletion",
        "parameters": [
          {
            "name": "correlationId",
            "in": "path",
            "required": true,
            "description": "The correlation ID to wait for",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          },
          {
            "name": "timeoutSeconds",
            "in": "query",
            "description": "Maximum time to wait in seconds (default: 30)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 30
            },
            "x-position": 2
          }
        ],
        "responses": {
          "200": {
            "description": "Processing status when completed or timeout response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProcessingStatusResponse"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "408": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v4/Retrospective/at": {
      "get": {
        "tags": [
          "V4 Retrospective"
        ],
        "summary": "Get retrospective data at a specific point in time\nReturns IOB, COB, glucose, basal rate, and recent treatments",
        "operationId": "Retrospective_GetRetrospectiveData",
        "parameters": [
          {
            "name": "time",
            "in": "query",
            "description": "Unix timestamp in milliseconds for the retrospective point",
            "schema": {
              "type": "integer",
              "format": "int64"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the retrospective data",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RetrospectiveDataResponse"
                }
              }
            }
          },
          "400": {
            "description": "If the time parameter is invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "If there was an internal server error"
          }
        }
      }
    },
    "/api/v4/Retrospective/timeline": {
      "get": {
        "tags": [
          "V4 Retrospective"
        ],
        "summary": "Get retrospective data for an entire day at specified interval\nReturns IOB, COB, glucose, and basal data for every interval throughout the day",
        "operationId": "Retrospective_GetRetrospectiveTimeline",
        "parameters": [
          {
            "name": "date",
            "in": "query",
            "description": "Date in YYYY-MM-DD format",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          },
          {
            "name": "intervalMinutes",
            "in": "query",
            "description": "Interval in minutes between data points (default: 5)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 5
            },
            "x-position": 2
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the retrospective timeline data",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RetrospectiveTimelineResponse"
                }
              }
            }
          },
          "400": {
            "description": "If parameters are invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "If there was an internal server error"
          }
        }
      }
    },
    "/api/v4/Retrospective/basal-timeline": {
      "get": {
        "tags": [
          "V4 Retrospective"
        ],
        "summary": "Get basal rate timeline for a day\nReturns basal rate data points showing scheduled and temp basal changes",
        "operationId": "Retrospective_GetBasalTimeline",
        "parameters": [
          {
            "name": "date",
            "in": "query",
            "description": "Date in YYYY-MM-DD format",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          },
          {
            "name": "intervalMinutes",
            "in": "query",
            "description": "Interval in minutes between data points (default: 5)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 5
            },
            "x-position": 2
          }
        ],
        "responses": {
          "200": {
            "description": "Basal rate timeline for the day",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BasalTimelineResponse"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v4/services": {
      "get": {
        "tags": [
          "Services"
        ],
        "summary": "Get a complete overview of services, data sources, and available integrations.",
        "operationId": "Services_GetServicesOverview",
        "responses": {
          "200": {
            "description": "Complete services overview including active data sources, connectors, and uploader apps",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ServicesOverview"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v4/services/data-sources": {
      "get": {
        "tags": [
          "Services"
        ],
        "summary": "Get all active data sources that have been sending data to this Nocturne instance.\nThis includes CGM apps, AID systems, and any other uploaders.",
        "operationId": "Services_GetActiveDataSources",
        "responses": {
          "200": {
            "description": "List of active data sources with their status",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DataSourceInfo"
                  }
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v4/services/data-sources/{id}": {
      "get": {
        "tags": [
          "Services"
        ],
        "summary": "Get detailed information about a specific data source.",
        "operationId": "Services_GetDataSource",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Data source ID or device ID",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Data source information if found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DataSourceInfo"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      },
      "delete": {
        "tags": [
          "Services"
        ],
        "summary": "Delete all data from a specific data source.\nWARNING: This is a destructive operation that cannot be undone.",
        "operationId": "Services_DeleteDataSourceData",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Data source ID or device ID",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Result of the delete operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DataSourceDeleteResult"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v4/services/connectors": {
      "get": {
        "tags": [
          "Services"
        ],
        "summary": "Get available connectors that can be configured to pull data into Nocturne.",
        "operationId": "Services_GetAvailableConnectors",
        "responses": {
          "200": {
            "description": "List of available connectors",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AvailableConnector"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/services/uploaders": {
      "get": {
        "tags": [
          "Services"
        ],
        "summary": "Get uploader apps that can push data to Nocturne with setup instructions.",
        "operationId": "Services_GetUploaderApps",
        "responses": {
          "200": {
            "description": "List of uploader apps with setup instructions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UploaderApp"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/services/api-info": {
      "get": {
        "tags": [
          "Services"
        ],
        "summary": "Get API endpoint information for configuring external apps.\nThis provides all the information needed to configure xDrip+, Loop, AAPS, etc.",
        "operationId": "Services_GetApiInfo",
        "responses": {
          "200": {
            "description": "API endpoint information",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiEndpointInfo"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/services/uploaders/{appId}/setup": {
      "get": {
        "tags": [
          "Services"
        ],
        "summary": "Get setup instructions for a specific uploader app.",
        "operationId": "Services_GetUploaderSetup",
        "parameters": [
          {
            "name": "appId",
            "in": "path",
            "required": true,
            "description": "The uploader app ID (e.g., \"xdrip\", \"loop\", \"aaps\")",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Setup instructions for the specified app",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploaderSetupResponse"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/services/data-sources/demo": {
      "delete": {
        "tags": [
          "Services"
        ],
        "summary": "Delete all demo data. This operation is safe as demo data can be easily regenerated.",
        "operationId": "Services_DeleteDemoData",
        "responses": {
          "200": {
            "description": "Result of the delete operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DataSourceDeleteResult"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v4/services/connectors/{id}/data": {
      "delete": {
        "tags": [
          "Services"
        ],
        "summary": "Delete all data from a specific connector.\nWARNING: This is a destructive operation that cannot be undone.",
        "operationId": "Services_DeleteConnectorData",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Connector ID (e.g., \"dexcom\")",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Result of the delete operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DataSourceDeleteResult"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v4/services/connectors/{id}/sync": {
      "post": {
        "tags": [
          "Services"
        ],
        "summary": "Trigger a manual sync for a specific connector with granular control.",
        "operationId": "Services_TriggerConnectorSync",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Connector ID",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "request",
          "description": "Sync request parameters",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SyncRequest"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "Result of the manual sync operation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SyncResult"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v4/services/connectors/{id}/capabilities": {
      "get": {
        "tags": [
          "Services"
        ],
        "summary": "Get the supported sync capabilities for a specific connector.",
        "operationId": "Services_GetConnectorCapabilities",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Connector ID",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "List of supported data types",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/SyncDataType"
                  }
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v4/services/connectors/{id}/sync-status": {
      "get": {
        "tags": [
          "Services"
        ],
        "summary": "Get sync status for a specific connector, including latest timestamps and connector state.\nUsed by connectors on startup to determine where to resume syncing from.",
        "operationId": "Services_GetConnectorSyncStatus",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "The connector ID (e.g., \"dexcom\", \"libre\", \"glooko\")",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Complete sync status including timestamps for entries, treatments, and connector state",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConnectorSyncStatus"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v4/state-spans": {
      "get": {
        "tags": [
          "StateSpans"
        ],
        "summary": "Query all state spans with optional filtering",
        "operationId": "StateSpans_GetStateSpans",
        "parameters": [
          {
            "name": "category",
            "in": "query",
            "schema": {
              "oneOf": [
                {
                  "nullable": true,
                  "oneOf": [
                    {
                      "$ref": "#/components/schemas/StateSpanCategory"
                    }
                  ]
                }
              ]
            },
            "x-position": 1
          },
          {
            "name": "state",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 2
          },
          {
            "name": "from",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 3
          },
          {
            "name": "to",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 4
          },
          {
            "name": "source",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 5
          },
          {
            "name": "active",
            "in": "query",
            "schema": {
              "type": "boolean",
              "nullable": true
            },
            "x-position": 6
          },
          {
            "name": "count",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 100
            },
            "x-position": 7
          },
          {
            "name": "skip",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            },
            "x-position": 8
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/StateSpan"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "StateSpans"
        ],
        "summary": "Create a new state span (manual entry)",
        "operationId": "StateSpans_CreateStateSpan",
        "requestBody": {
          "x-name": "request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateStateSpanRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StateSpan"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/state-spans/pump-modes": {
      "get": {
        "tags": [
          "StateSpans"
        ],
        "summary": "Get pump mode state spans",
        "operationId": "StateSpans_GetPumpModes",
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "to",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 2
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/StateSpan"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/state-spans/connectivity": {
      "get": {
        "tags": [
          "StateSpans"
        ],
        "summary": "Get connectivity state spans",
        "operationId": "StateSpans_GetConnectivity",
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "to",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 2
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/StateSpan"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/state-spans/overrides": {
      "get": {
        "tags": [
          "StateSpans"
        ],
        "summary": "Get override state spans",
        "operationId": "StateSpans_GetOverrides",
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "to",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 2
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/StateSpan"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/state-spans/profiles": {
      "get": {
        "tags": [
          "StateSpans"
        ],
        "summary": "Get profile state spans",
        "operationId": "StateSpans_GetProfiles",
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "to",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 2
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/StateSpan"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/state-spans/temp-basals": {
      "get": {
        "tags": [
          "StateSpans"
        ],
        "summary": "Get temp basal state spans",
        "operationId": "StateSpans_GetTempBasals",
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "to",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 2
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/StateSpan"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/state-spans/sleep": {
      "get": {
        "tags": [
          "StateSpans"
        ],
        "summary": "Get sleep state spans (user-annotated sleep periods)",
        "operationId": "StateSpans_GetSleep",
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "to",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 2
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/StateSpan"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/state-spans/exercise": {
      "get": {
        "tags": [
          "StateSpans"
        ],
        "summary": "Get exercise state spans (user-annotated activity periods)",
        "operationId": "StateSpans_GetExercise",
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "to",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 2
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/StateSpan"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/state-spans/illness": {
      "get": {
        "tags": [
          "StateSpans"
        ],
        "summary": "Get illness state spans (user-annotated illness periods)",
        "operationId": "StateSpans_GetIllness",
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "to",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 2
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/StateSpan"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/state-spans/travel": {
      "get": {
        "tags": [
          "StateSpans"
        ],
        "summary": "Get travel state spans (user-annotated travel/timezone change periods)",
        "operationId": "StateSpans_GetTravel",
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "to",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 2
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/StateSpan"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/state-spans/activities": {
      "get": {
        "tags": [
          "StateSpans"
        ],
        "summary": "Get all activity state spans (sleep, exercise, illness, travel)",
        "operationId": "StateSpans_GetActivities",
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "to",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 2
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/StateSpan"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/state-spans/{id}": {
      "get": {
        "tags": [
          "StateSpans"
        ],
        "summary": "Get a specific state span by ID",
        "operationId": "StateSpans_GetStateSpan",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StateSpan"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "StateSpans"
        ],
        "summary": "Update an existing state span",
        "operationId": "StateSpans_UpdateStateSpan",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateStateSpanRequest"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StateSpan"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "StateSpans"
        ],
        "summary": "Delete a state span",
        "operationId": "StateSpans_DeleteStateSpan",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/Status": {
      "get": {
        "tags": [
          "Status"
        ],
        "summary": "Get detailed system status information",
        "operationId": "Status_GetStatus",
        "responses": {
          "200": {
            "description": "Comprehensive system status including settings, api status, and server information",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StatusResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/Status/health": {
      "get": {
        "tags": [
          "Status"
        ],
        "summary": "Get a simple health check status",
        "operationId": "Status_GetHealthStatus",
        "responses": {
          "200": {
            "description": "Simple ok/error status",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v4/system-events": {
      "get": {
        "tags": [
          "SystemEvents"
        ],
        "summary": "Query system events with optional filtering",
        "operationId": "SystemEvents_GetSystemEvents",
        "parameters": [
          {
            "name": "type",
            "in": "query",
            "schema": {
              "oneOf": [
                {
                  "nullable": true,
                  "oneOf": [
                    {
                      "$ref": "#/components/schemas/SystemEventType"
                    }
                  ]
                }
              ]
            },
            "x-position": 1
          },
          {
            "name": "category",
            "in": "query",
            "schema": {
              "oneOf": [
                {
                  "nullable": true,
                  "oneOf": [
                    {
                      "$ref": "#/components/schemas/SystemEventCategory"
                    }
                  ]
                }
              ]
            },
            "x-position": 2
          },
          {
            "name": "from",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 3
          },
          {
            "name": "to",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 4
          },
          {
            "name": "source",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 5
          },
          {
            "name": "count",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 100
            },
            "x-position": 6
          },
          {
            "name": "skip",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            },
            "x-position": 7
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/SystemEvent"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "SystemEvents"
        ],
        "summary": "Create a new system event (manual entry or import)",
        "operationId": "SystemEvents_CreateSystemEvent",
        "requestBody": {
          "x-name": "request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateSystemEventRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SystemEvent"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/system-events/{id}": {
      "get": {
        "tags": [
          "SystemEvents"
        ],
        "summary": "Get a specific system event by ID",
        "operationId": "SystemEvents_GetSystemEvent",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SystemEvent"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "SystemEvents"
        ],
        "summary": "Delete a system event",
        "operationId": "SystemEvents_DeleteSystemEvent",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/trackers/alerts/pending": {
      "get": {
        "tags": [
          "V4 Tracker Alerts"
        ],
        "summary": "Get pending tracker alerts for the current user",
        "operationId": "TrackerAlerts_GetPendingAlerts",
        "responses": {
          "200": {
            "description": "List of pending alerts that need attention",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TrackerAlertDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/trackers/alerts/sounds": {
      "get": {
        "tags": [
          "V4 Tracker Alerts"
        ],
        "summary": "Get available alert sounds",
        "operationId": "TrackerAlerts_GetAvailableSounds",
        "responses": {
          "200": {
            "description": "List of available sound preset names",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/trackers/seed": {
      "post": {
        "tags": [
          "V4 Trackers"
        ],
        "summary": "Seed default tracker definitions for the current user",
        "operationId": "Trackers_SeedDefaults",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/trackers/definitions": {
      "get": {
        "tags": [
          "V4 Trackers"
        ],
        "summary": "Get all tracker definitions. Returns public trackers for unauthenticated users,\nor all visible trackers for authenticated users.",
        "operationId": "Trackers_GetDefinitions",
        "parameters": [
          {
            "name": "category",
            "in": "query",
            "schema": {
              "oneOf": [
                {
                  "nullable": true,
                  "oneOf": [
                    {
                      "$ref": "#/components/schemas/TrackerCategory"
                    }
                  ]
                }
              ]
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TrackerDefinitionDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "V4 Trackers"
        ],
        "summary": "Create a new tracker definition",
        "operationId": "Trackers_CreateDefinition",
        "requestBody": {
          "x-name": "request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTrackerDefinitionRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TrackerDefinitionDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/trackers/definitions/{id}": {
      "get": {
        "tags": [
          "V4 Trackers"
        ],
        "summary": "Get a specific tracker definition",
        "operationId": "Trackers_GetDefinition",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TrackerDefinitionDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "V4 Trackers"
        ],
        "summary": "Update a tracker definition",
        "operationId": "Trackers_UpdateDefinition",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTrackerDefinitionRequest"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TrackerDefinitionDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "V4 Trackers"
        ],
        "summary": "Delete a tracker definition",
        "operationId": "Trackers_DeleteDefinition",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/trackers/instances": {
      "get": {
        "tags": [
          "V4 Trackers"
        ],
        "summary": "Get active tracker instances",
        "operationId": "Trackers_GetActiveInstances",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TrackerInstanceDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "V4 Trackers"
        ],
        "summary": "Start a new tracker instance",
        "operationId": "Trackers_StartInstance",
        "requestBody": {
          "x-name": "request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StartTrackerInstanceRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TrackerInstanceDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/trackers/instances/history": {
      "get": {
        "tags": [
          "V4 Trackers"
        ],
        "summary": "Get completed tracker instances (history)",
        "operationId": "Trackers_GetInstanceHistory",
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 100
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TrackerInstanceDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/trackers/instances/upcoming": {
      "get": {
        "tags": [
          "V4 Trackers"
        ],
        "summary": "Get upcoming tracker expirations for calendar",
        "operationId": "Trackers_GetUpcomingInstances",
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "to",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            },
            "x-position": 2
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TrackerInstanceDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/trackers/instances/{id}/complete": {
      "put": {
        "tags": [
          "V4 Trackers"
        ],
        "summary": "Complete a tracker instance",
        "operationId": "Trackers_CompleteInstance",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CompleteTrackerInstanceRequest"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TrackerInstanceDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/trackers/instances/{id}/ack": {
      "post": {
        "tags": [
          "V4 Trackers"
        ],
        "summary": "Acknowledge/snooze a tracker notification",
        "operationId": "Trackers_AckInstance",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AckTrackerRequest"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/trackers/instances/{id}": {
      "delete": {
        "tags": [
          "V4 Trackers"
        ],
        "summary": "Delete a tracker instance",
        "operationId": "Trackers_DeleteInstance",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/trackers/presets": {
      "get": {
        "tags": [
          "V4 Trackers"
        ],
        "summary": "Get all presets for the current user",
        "operationId": "Trackers_GetPresets",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TrackerPresetDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "V4 Trackers"
        ],
        "summary": "Create a new preset",
        "operationId": "Trackers_CreatePreset",
        "requestBody": {
          "x-name": "request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTrackerPresetRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TrackerPresetDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/trackers/presets/{id}/apply": {
      "post": {
        "tags": [
          "V4 Trackers"
        ],
        "summary": "Apply a preset (starts a new instance)",
        "operationId": "Trackers_ApplyPreset",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ApplyPresetRequest"
              }
            }
          },
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TrackerInstanceDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/trackers/presets/{id}": {
      "delete": {
        "tags": [
          "V4 Trackers"
        ],
        "summary": "Delete a preset",
        "operationId": "Trackers_DeletePreset",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/treatments/{id}/foods": {
      "get": {
        "tags": [
          "V4 Treatment Foods"
        ],
        "summary": "Get food breakdown for a treatment.",
        "operationId": "TreatmentFoods_GetTreatmentFoods",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TreatmentFoodBreakdown"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "V4 Treatment Foods"
        ],
        "summary": "Add a food breakdown entry to a treatment.",
        "operationId": "TreatmentFoods_AddTreatmentFood",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TreatmentFoodRequest"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TreatmentFoodBreakdown"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/treatments/{id}/foods/{foodEntryId}": {
      "put": {
        "tags": [
          "V4 Treatment Foods"
        ],
        "summary": "Update a food breakdown entry.",
        "operationId": "TreatmentFoods_UpdateTreatmentFood",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "x-position": 1
          },
          {
            "name": "foodEntryId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 2
          }
        ],
        "requestBody": {
          "x-name": "request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TreatmentFoodRequest"
              }
            }
          },
          "required": true,
          "x-position": 3
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TreatmentFoodBreakdown"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "V4 Treatment Foods"
        ],
        "summary": "Remove a food breakdown entry.",
        "operationId": "TreatmentFoods_DeleteTreatmentFood",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "x-position": 1
          },
          {
            "name": "foodEntryId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "guid"
            },
            "x-position": 2
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TreatmentFoodBreakdown"
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/treatments/meals": {
      "get": {
        "tags": [
          "V4 Treatment Foods"
        ],
        "summary": "Get carb treatments with attribution status for meals view.",
        "operationId": "TreatmentFoods_GetMeals",
        "parameters": [
          {
            "name": "from",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "to",
            "in": "query",
            "schema": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            },
            "x-position": 2
          },
          {
            "name": "attributed",
            "in": "query",
            "schema": {
              "type": "boolean",
              "nullable": true
            },
            "x-position": 3
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MealTreatment"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v4/ui-settings": {
      "get": {
        "tags": [
          "UISettings"
        ],
        "summary": "Get all UI settings configuration for frontend settings pages.\nIn demo mode, this fetches from the demo service.",
        "operationId": "UISettings_GetUISettings",
        "responses": {
          "200": {
            "description": "Complete UI settings configuration",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UISettingsConfiguration"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      },
      "put": {
        "tags": [
          "UISettings"
        ],
        "summary": "Save complete UI settings configuration.",
        "operationId": "UISettings_SaveUISettings",
        "requestBody": {
          "x-name": "settings",
          "description": "The complete settings to save",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UISettingsConfiguration"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "The saved settings",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UISettingsConfiguration"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v4/ui-settings/{section}": {
      "get": {
        "tags": [
          "UISettings"
        ],
        "summary": "Get settings for a specific section.",
        "operationId": "UISettings_GetSectionSettings",
        "parameters": [
          {
            "name": "section",
            "in": "path",
            "required": true,
            "description": "Section name: devices, therapy, algorithm, features, notifications, or services",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Settings for the specified section"
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v4/ui-settings/notifications": {
      "put": {
        "tags": [
          "UISettings"
        ],
        "summary": "Save notification settings including alarm configuration.",
        "operationId": "UISettings_SaveNotificationSettings",
        "requestBody": {
          "x-name": "settings",
          "description": "The notification settings to save",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotificationSettings"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "The saved notification settings",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationSettings"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v4/ui-settings/notifications/alarms": {
      "get": {
        "tags": [
          "UISettings"
        ],
        "summary": "Get alarm profiles configuration (xDrip+-style).",
        "operationId": "UISettings_GetAlarmConfiguration",
        "responses": {
          "200": {
            "description": "The alarm configuration",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserAlarmConfiguration"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      },
      "put": {
        "tags": [
          "UISettings"
        ],
        "summary": "Save alarm profiles configuration (xDrip+-style).",
        "operationId": "UISettings_SaveAlarmConfiguration",
        "requestBody": {
          "x-name": "config",
          "description": "The alarm configuration to save",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserAlarmConfiguration"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "The saved alarm configuration",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserAlarmConfiguration"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v4/ui-settings/notifications/alarms/profiles": {
      "post": {
        "tags": [
          "UISettings"
        ],
        "summary": "Save a specific alarm profile.",
        "operationId": "UISettings_AddOrUpdateAlarmProfile",
        "requestBody": {
          "x-name": "profile",
          "description": "The alarm profile to save",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AlarmProfileConfiguration"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "The saved alarm configuration",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserAlarmConfiguration"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v4/ui-settings/notifications/alarms/profiles/{profileId}": {
      "delete": {
        "tags": [
          "UISettings"
        ],
        "summary": "Delete an alarm profile by ID.",
        "operationId": "UISettings_DeleteAlarmProfile",
        "parameters": [
          {
            "name": "profileId",
            "in": "path",
            "required": true,
            "description": "The profile ID to delete",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "The updated alarm configuration",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserAlarmConfiguration"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v4/user/preferences": {
      "get": {
        "tags": [
          "User Preferences"
        ],
        "summary": "Get the current user's preferences",
        "operationId": "UserPreferences_GetPreferences",
        "responses": {
          "200": {
            "description": "User preferences",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserPreferencesResponse"
                }
              }
            }
          },
          "401": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "User Preferences"
        ],
        "summary": "Update the current user's preferences",
        "operationId": "UserPreferences_UpdatePreferences",
        "requestBody": {
          "x-name": "request",
          "description": "The preferences to update",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserPreferencesRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Updated preferences",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserPreferencesResponse"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "401": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/v3/DeviceStatus": {
      "get": {
        "tags": [
          "DeviceStatus"
        ],
        "summary": "Get device status records with V3 API features including pagination, field selection, and advanced filtering",
        "operationId": "DeviceStatus_GetDeviceStatus",
        "responses": {
          "200": {
            "description": "V3 device status collection response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3CollectionResponseOfObject"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "304": {
            "description": ""
          },
          "500": {
            "description": ""
          }
        }
      },
      "post": {
        "tags": [
          "DeviceStatus"
        ],
        "summary": "Create new device status records with V3 format and deduplication support",
        "operationId": "DeviceStatus_CreateDeviceStatus",
        "requestBody": {
          "x-name": "deviceStatusData",
          "description": "Device status data to create (single object or array)",
          "content": {
            "application/json": {
              "schema": {}
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "201": {
            "description": "Created device status records",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DeviceStatus"
                  }
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v3/DeviceStatus/{id}": {
      "get": {
        "tags": [
          "DeviceStatus"
        ],
        "summary": "Get a specific device status record by ID with V3 format",
        "operationId": "DeviceStatus_GetDeviceStatusById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Device status ID",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Single device status record in V3 format",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeviceStatus"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      },
      "put": {
        "tags": [
          "DeviceStatus"
        ],
        "summary": "Update a device status record by ID with V3 format",
        "operationId": "DeviceStatus_UpdateDeviceStatus",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Device status ID to update",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "deviceStatus",
          "description": "Updated device status data",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DeviceStatus"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "Updated device status record",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeviceStatus"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      },
      "delete": {
        "tags": [
          "DeviceStatus"
        ],
        "summary": "Delete a device status record by ID",
        "operationId": "DeviceStatus_DeleteDeviceStatus",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Device status ID to delete",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "204": {
            "description": "No content on success"
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v3/Entries": {
      "get": {
        "tags": [
          "Entries"
        ],
        "summary": "Get entries with V3 API features including pagination, field selection, and advanced filtering",
        "operationId": "Entries_GetEntries",
        "responses": {
          "200": {
            "description": "V3 entries collection response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3CollectionResponseOfObject"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "304": {
            "description": ""
          },
          "500": {
            "description": ""
          }
        }
      },
      "post": {
        "tags": [
          "Entries"
        ],
        "summary": "Create a new entry via V3 API",
        "operationId": "Entries_CreateEntry",
        "requestBody": {
          "x-name": "entry",
          "description": "Entry to create",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Entry"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "201": {
            "description": "Created entry",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Entry"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v3/Entries/{id}": {
      "get": {
        "tags": [
          "Entries"
        ],
        "summary": "Get a specific entry by ID with V3 format",
        "operationId": "Entries_GetEntry",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Entry ID",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Single entry in V3 format",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Entry"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      },
      "put": {
        "tags": [
          "Entries"
        ],
        "summary": "Update an entry via V3 API",
        "operationId": "Entries_UpdateEntry",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Entry ID",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "entry",
          "description": "Updated entry data",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Entry"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "Updated entry",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Entry"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      },
      "delete": {
        "tags": [
          "Entries"
        ],
        "summary": "Delete an entry via V3 API",
        "operationId": "Entries_DeleteEntry",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Entry ID",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "204": {
            "description": "No content on success"
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v3/Entries/bulk": {
      "post": {
        "tags": [
          "Entries"
        ],
        "summary": "Create multiple entries via V3 API (bulk operation)",
        "operationId": "Entries_CreateEntries",
        "requestBody": {
          "x-name": "entries",
          "description": "Entries to create",
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Entry"
                }
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "201": {
            "description": "Created entries",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Entry"
                  }
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v3/Food": {
      "get": {
        "tags": [
          "Food"
        ],
        "summary": "Get food records with V3 API features including pagination, field selection, and advanced filtering",
        "operationId": "Food_GetFood",
        "responses": {
          "200": {
            "description": "V3 food collection response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3CollectionResponseOfObject"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "304": {
            "description": ""
          },
          "500": {
            "description": ""
          }
        }
      },
      "post": {
        "tags": [
          "Food"
        ],
        "summary": "Create new food records with V3 format and deduplication support",
        "operationId": "Food_CreateFood",
        "requestBody": {
          "x-name": "foodData",
          "description": "Food data to create (single object or array)",
          "content": {
            "application/json": {
              "schema": {}
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "201": {
            "description": "Created food records",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Food"
                  }
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v3/Food/{id}": {
      "get": {
        "tags": [
          "Food"
        ],
        "summary": "Get a specific food record by ID with V3 format",
        "operationId": "Food_GetFoodById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Food ID",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Single food record in V3 format",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Food"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      },
      "put": {
        "tags": [
          "Food"
        ],
        "summary": "Update a food record by ID with V3 format",
        "operationId": "Food_UpdateFood",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Food ID to update",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "food",
          "description": "Updated food data",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Food"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "Updated food record",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Food"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      },
      "delete": {
        "tags": [
          "Food"
        ],
        "summary": "Delete a food record by ID",
        "operationId": "Food_DeleteFood",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Food ID to delete",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "204": {
            "description": "No content on success"
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v3/LastModified": {
      "get": {
        "tags": [
          "LastModified"
        ],
        "summary": "Get last modified timestamps for all collections",
        "operationId": "LastModified_GetLastModified",
        "responses": {
          "200": {
            "description": "Last modified timestamps for each collection",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LastModifiedResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v3/Profile": {
      "get": {
        "tags": [
          "Profile"
        ],
        "summary": "Get profiles with V3 API features including pagination, field selection, and advanced filtering",
        "operationId": "Profile_GetProfiles",
        "responses": {
          "200": {
            "description": "V3 profiles collection response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3CollectionResponseOfObject"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "304": {
            "description": ""
          },
          "500": {
            "description": ""
          }
        }
      },
      "post": {
        "tags": [
          "Profile"
        ],
        "summary": "Create new profiles with V3 format and deduplication support",
        "operationId": "Profile_CreateProfile",
        "requestBody": {
          "x-name": "profileData",
          "description": "Profile data to create (single object or array)",
          "content": {
            "application/json": {
              "schema": {}
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "201": {
            "description": "Created profiles",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Profile"
                  }
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v3/Profile/{id}": {
      "get": {
        "tags": [
          "Profile"
        ],
        "summary": "Get a specific profile by ID with V3 format",
        "operationId": "Profile_GetProfileById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Profile ID",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Single profile in V3 format",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Profile"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      },
      "put": {
        "tags": [
          "Profile"
        ],
        "summary": "Update a profile by ID with V3 format",
        "operationId": "Profile_UpdateProfile",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Profile ID to update",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "profile",
          "description": "Updated profile data",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Profile"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "Updated profile",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Profile"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      },
      "delete": {
        "tags": [
          "Profile"
        ],
        "summary": "Delete a profile by ID",
        "operationId": "Profile_DeleteProfile",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Profile ID to delete",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "204": {
            "description": "No content on success"
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v3/Settings": {
      "get": {
        "tags": [
          "Settings"
        ],
        "summary": "Get settings with V3 API features including pagination, field selection, and advanced filtering\nRequires admin permissions as per legacy API v3 behavior",
        "operationId": "Settings_GetSettings",
        "responses": {
          "200": {
            "description": "V3 settings collection response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3CollectionResponseOfObject"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "304": {
            "description": ""
          },
          "500": {
            "description": ""
          }
        }
      },
      "post": {
        "tags": [
          "Settings"
        ],
        "summary": "Create new settings records with V3 format and deduplication support\nRequires admin permissions as per legacy API v3 behavior",
        "operationId": "Settings_CreateSettings",
        "requestBody": {
          "x-name": "settingsData",
          "description": "Settings data to create (single object or array)",
          "content": {
            "application/json": {
              "schema": {}
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "201": {
            "description": "Created settings records",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Settings"
                  }
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v3/Settings/{id}": {
      "get": {
        "tags": [
          "Settings"
        ],
        "summary": "Get a specific settings record by ID with V3 format\nRequires admin permissions as per legacy API v3 behavior",
        "operationId": "Settings_GetSettingsById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Settings ID",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Single settings record in V3 format",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Settings"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      },
      "put": {
        "tags": [
          "Settings"
        ],
        "summary": "Update a settings record by ID with V3 format\nRequires admin permissions as per legacy API v3 behavior",
        "operationId": "Settings_UpdateSettings",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Settings ID to update",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "settings",
          "description": "Updated settings data",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Settings"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "Updated settings record",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Settings"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      },
      "delete": {
        "tags": [
          "Settings"
        ],
        "summary": "Delete a settings record by ID\nRequires admin permissions as per legacy API v3 behavior",
        "operationId": "Settings_DeleteSettings",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Settings ID to delete",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "204": {
            "description": "No content on success"
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v3/Status": {
      "get": {
        "tags": [
          "Status"
        ],
        "summary": "Get the current system status with extended V3 information",
        "operationId": "Status_GetStatus2",
        "responses": {
          "200": {
            "description": "Extended system status information with permissions and authorization details",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3StatusResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v3/Treatments": {
      "get": {
        "tags": [
          "Treatments"
        ],
        "summary": "Get treatments with V3 API features including pagination, field selection, and advanced filtering",
        "operationId": "Treatments_GetTreatments",
        "responses": {
          "200": {
            "description": "V3 treatments collection response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3CollectionResponseOfObject"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "304": {
            "description": ""
          },
          "500": {
            "description": ""
          }
        }
      },
      "post": {
        "tags": [
          "Treatments"
        ],
        "summary": "Create a new treatment via V3 API",
        "operationId": "Treatments_CreateTreatment",
        "requestBody": {
          "x-name": "treatment",
          "description": "Treatment to create",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Treatment"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "201": {
            "description": "Created treatment",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Treatment"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v3/Treatments/{id}": {
      "get": {
        "tags": [
          "Treatments"
        ],
        "summary": "Get a specific treatment by ID with V3 format",
        "operationId": "Treatments_GetTreatment",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Treatment ID",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Single treatment in V3 format",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Treatment"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      },
      "put": {
        "tags": [
          "Treatments"
        ],
        "summary": "Update a treatment via V3 API",
        "operationId": "Treatments_UpdateTreatment",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Treatment ID",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "treatment",
          "description": "Updated treatment data",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Treatment"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "Updated treatment",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Treatment"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      },
      "delete": {
        "tags": [
          "Treatments"
        ],
        "summary": "Delete a treatment via V3 API",
        "operationId": "Treatments_DeleteTreatment",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Treatment ID",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "204": {
            "description": "No content on success"
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v3/Treatments/bulk": {
      "post": {
        "tags": [
          "Treatments"
        ],
        "summary": "Create multiple treatments via V3 API (bulk operation)",
        "operationId": "Treatments_CreateTreatments",
        "requestBody": {
          "x-name": "treatments",
          "description": "Treatments to create",
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Treatment"
                }
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "201": {
            "description": "Created treatments",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Treatment"
                  }
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/V3ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v3/Version": {
      "get": {
        "tags": [
          "Version"
        ],
        "summary": "Get the current system version information",
        "operationId": "Version_GetVersion",
        "responses": {
          "200": {
            "description": "Version information",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VersionResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/ddata": {
      "get": {
        "tags": [
          "V2 DData"
        ],
        "summary": "Get current DData structure\nReturns comprehensive data structure containing SGVs, treatments, profiles, and device status",
        "operationId": "DData_GetDData",
        "responses": {
          "200": {
            "description": "Returns the DData structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DDataResponse"
                }
              }
            }
          },
          "500": {
            "description": "If there was an internal server error"
          }
        }
      }
    },
    "/api/v2/ddata/at/{timestamp}": {
      "get": {
        "tags": [
          "V2 DData"
        ],
        "summary": "Get DData structure for a specific timestamp\nReturns data relevant to the specified timestamp",
        "operationId": "DData_GetDDataAt",
        "parameters": [
          {
            "name": "timestamp",
            "in": "path",
            "required": true,
            "description": "Unix timestamp in milliseconds or ISO date string",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the DData structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DDataResponse"
                }
              }
            }
          },
          "400": {
            "description": "If the timestamp parameter is invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "If there was an internal server error"
          }
        }
      }
    },
    "/api/v2/ddata/raw": {
      "get": {
        "tags": [
          "V2 DData"
        ],
        "summary": "Get raw DData structure (without recent status filtering)\nReturns the complete DData structure without filtering recent device statuses",
        "operationId": "DData_GetRawDData",
        "parameters": [
          {
            "name": "timestamp",
            "in": "query",
            "description": "Optional Unix timestamp in milliseconds or ISO date string",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the raw DData structure",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DData"
                }
              }
            }
          },
          "400": {
            "description": "If the timestamp parameter is invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "If there was an internal server error"
          }
        }
      }
    },
    "/api/v2/loop/send": {
      "post": {
        "tags": [
          "Loop Notifications"
        ],
        "summary": "Send Loop notification directly to iOS Loop app via APNS\nImplements the legacy ctx.loop.sendNotification() functionality with 1:1 compatibility\nThis endpoint expects the exact data structure used by the legacy loop.js implementation",
        "operationId": "Loop_SendLoopNotification",
        "requestBody": {
          "x-name": "request",
          "description": "Loop notification data and settings",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoopSendRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Loop notification sent successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoopNotificationResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid Loop notification request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoopNotificationResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoopNotificationResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/loop/status": {
      "get": {
        "tags": [
          "Loop Notifications"
        ],
        "summary": "Get Loop service configuration status\nProvides debugging information about Loop/APNS configuration",
        "operationId": "Loop_GetLoopStatus",
        "responses": {
          "200": {
            "description": "Configuration status retrieved successfully",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v2/notifications/loop": {
      "post": {
        "tags": [
          "V2 Notifications"
        ],
        "summary": "Send Loop notification for iOS Loop app integration\nImplements the /api/v2/notifications/loop endpoint from legacy notifications-v2.js",
        "operationId": "Notifications_SendLoopNotification",
        "requestBody": {
          "x-name": "request",
          "description": "Loop notification request data",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LoopNotificationRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Notification processed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationV2Response"
                }
              }
            }
          },
          "400": {
            "description": "Invalid notification request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationV2Response"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationV2Response"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/notifications": {
      "post": {
        "tags": [
          "V2 Notifications"
        ],
        "summary": "Process a generic V2 notification\nProvides a generic endpoint for processing various notification types",
        "operationId": "Notifications_ProcessNotification",
        "requestBody": {
          "x-name": "notification",
          "description": "Notification data to process",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotificationBase"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Notification processed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationV2Response"
                }
              }
            }
          },
          "400": {
            "description": "Invalid notification request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationV2Response"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationV2Response"
                }
              }
            }
          }
        }
      }
    },
    "/api/v2/notifications/status": {
      "get": {
        "tags": [
          "V2 Notifications"
        ],
        "summary": "Get current notification system status and configuration\nProvides information about the notification system capabilities and status",
        "operationId": "Notifications_GetNotificationStatus",
        "responses": {
          "200": {
            "description": "Notification status retrieved successfully",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v2/properties": {
      "get": {
        "tags": [
          "V2 Properties"
        ],
        "summary": "Get all client properties and settings\nReturns comprehensive properties structure containing plugin data, settings, and computed values",
        "operationId": "Properties_GetAllProperties",
        "parameters": [
          {
            "name": "pretty",
            "in": "query",
            "description": "Format JSON with indentation for readability",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the properties structure",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {}
                }
              }
            }
          },
          "500": {
            "description": "If there was an internal server error"
          }
        }
      }
    },
    "/api/v2/properties/{propertyPath}": {
      "get": {
        "tags": [
          "V2 Properties"
        ],
        "summary": "Get specific properties by names (comma-separated)\nSupports paths like /prop1 or /prop1,prop3 to get only specific properties",
        "operationId": "Properties_GetSpecificProperties",
        "parameters": [
          {
            "name": "propertyPath",
            "in": "path",
            "required": true,
            "description": "Comma-separated list of property names to retrieve",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          },
          {
            "name": "pretty",
            "in": "query",
            "description": "Format JSON with indentation for readability",
            "schema": {
              "type": "boolean",
              "default": false
            },
            "x-position": 2
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the selected properties",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {}
                }
              }
            }
          },
          "400": {
            "description": "If property names are invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "If there was an internal server error"
          }
        }
      }
    },
    "/api/v2/summary": {
      "get": {
        "tags": [
          "V2 Summary"
        ],
        "summary": "Get summary data for the specified time window\nReturns processed SGVs, treatments, profile, and state information",
        "operationId": "Summary_GetSummary",
        "parameters": [
          {
            "name": "hours",
            "in": "query",
            "description": "Number of hours to include in summary (default 6)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "nullable": true
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the summary data",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SummaryResponse"
                }
              }
            }
          },
          "400": {
            "description": "If the hours parameter is invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "If there was an internal server error"
          }
        }
      }
    },
    "/api/v1/Activity": {
      "get": {
        "tags": [
          "Activity"
        ],
        "summary": "Get all activities with optional filtering and pagination",
        "operationId": "Activity_GetActivities",
        "parameters": [
          {
            "name": "count",
            "in": "query",
            "description": "Maximum number of activities to return (default: 10)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            },
            "x-position": 1
          },
          {
            "name": "skip",
            "in": "query",
            "description": "Number of activities to skip for pagination (default: 0)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            },
            "x-position": 2
          }
        ],
        "responses": {
          "200": {
            "description": "Activities retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Activity"
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "tags": [
          "Activity"
        ],
        "summary": "Create one or more new activities",
        "operationId": "Activity_CreateActivities",
        "requestBody": {
          "x-name": "activities",
          "description": "Activity data (single object or array)",
          "content": {
            "application/json": {
              "schema": {}
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "201": {
            "description": "Activities created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Activity"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid activity data",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/v1/Activity/{id}": {
      "get": {
        "tags": [
          "Activity"
        ],
        "summary": "Get a specific activity by ID",
        "operationId": "Activity_GetActivity",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Activity ID",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Activity found and returned",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Activity"
                }
              }
            }
          },
          "404": {
            "description": "Activity not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "put": {
        "tags": [
          "Activity"
        ],
        "summary": "Update an existing activity",
        "operationId": "Activity_UpdateActivity",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Activity ID to update",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "activity",
          "description": "Updated activity data",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Activity"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "Activity updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Activity"
                }
              }
            }
          },
          "400": {
            "description": "Invalid activity data",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "404": {
            "description": "Activity not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "delete": {
        "tags": [
          "Activity"
        ],
        "summary": "Delete an activity by ID",
        "operationId": "Activity_DeleteActivity",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Activity ID to delete",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Activity deleted successfully",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "404": {
            "description": "Activity not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      }
    },
    "/api/Alexa": {
      "post": {
        "tags": [
          "Alexa"
        ],
        "summary": "Handle Alexa Skills Kit requests for voice assistant integration\nProcesses LaunchRequest, IntentRequest, and SessionEndedRequest types\nMaintains complete compatibility with legacy /api/alexa endpoint",
        "operationId": "Alexa_HandleAlexaRequest",
        "requestBody": {
          "x-name": "request",
          "description": "Alexa Skills Kit request from Amazon",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AlexaRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Alexa response with speech output and session handling",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AlexaResponse"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "401": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Count/entries/where": {
      "get": {
        "tags": [
          "Count"
        ],
        "summary": "Count entries matching specific criteria",
        "operationId": "Count_CountEntries",
        "parameters": [
          {
            "name": "find",
            "in": "query",
            "description": "MongoDB-style find query filters (JSON format)",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "type",
            "in": "query",
            "description": "Entry type filter (sgv, mbg, cal)",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 2
          }
        ],
        "responses": {
          "200": {
            "description": "Count of entries matching the criteria",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CountResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Count/treatments/where": {
      "get": {
        "tags": [
          "Count"
        ],
        "summary": "Count treatments matching specific criteria",
        "operationId": "Count_CountTreatments",
        "parameters": [
          {
            "name": "find",
            "in": "query",
            "description": "MongoDB-style find query filters (JSON format)",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Count of treatments matching the criteria",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CountResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Count/devicestatus/where": {
      "get": {
        "tags": [
          "Count"
        ],
        "summary": "Count device status entries matching specific criteria",
        "operationId": "Count_CountDeviceStatus",
        "parameters": [
          {
            "name": "find",
            "in": "query",
            "description": "MongoDB-style find query filters (JSON format)",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Count of device status entries matching the criteria",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CountResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Count/activity/where": {
      "get": {
        "tags": [
          "Count"
        ],
        "summary": "Count activity entries matching specific criteria",
        "operationId": "Count_CountActivity",
        "parameters": [
          {
            "name": "find",
            "in": "query",
            "description": "MongoDB-style find query filters (JSON format)",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Count of activity entries matching the criteria",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CountResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Count/{storage}/where": {
      "get": {
        "tags": [
          "Count"
        ],
        "summary": "Generic count endpoint for any storage type",
        "operationId": "Count_CountGeneric",
        "parameters": [
          {
            "name": "storage",
            "in": "path",
            "required": true,
            "description": "Storage type (entries, treatments, devicestatus, profile, food, activity)",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          },
          {
            "name": "find",
            "in": "query",
            "description": "MongoDB-style find query filters (JSON format)",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 2
          },
          {
            "name": "type",
            "in": "query",
            "description": "Additional type filter (for entries: sgv, mbg, cal)",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 3
          }
        ],
        "responses": {
          "200": {
            "description": "Count of records matching the criteria",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CountResponse"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v1/Debug/postgresql-test": {
      "get": {
        "tags": [
          "Debug"
        ],
        "operationId": "Debug_TestPostgreSqlConnection",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Debug/entries-direct": {
      "get": {
        "tags": [
          "Debug"
        ],
        "operationId": "Debug_GetEntriesDirect",
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/DeviceStatus": {
      "get": {
        "tags": [
          "DeviceStatus"
        ],
        "summary": "Get device status entries with optional filtering and pagination",
        "operationId": "DeviceStatus_GetDeviceStatus2",
        "parameters": [
          {
            "name": "count",
            "in": "query",
            "description": "Maximum number of device status entries to return (default: 10)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            },
            "x-position": 1
          },
          {
            "name": "skip",
            "in": "query",
            "description": "Number of device status entries to skip for pagination (default: 0)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            },
            "x-position": 2
          },
          {
            "name": "format",
            "in": "query",
            "description": "Output format: json (default), csv, tsv, or txt",
            "schema": {
              "type": "string",
              "default": "json"
            },
            "x-position": 3
          }
        ],
        "responses": {
          "200": {
            "description": "Array of device status entries ordered by most recent first",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DeviceStatus"
                  }
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      },
      "post": {
        "tags": [
          "DeviceStatus"
        ],
        "summary": "Create new device status entries",
        "operationId": "DeviceStatus_CreateDeviceStatus2",
        "requestBody": {
          "x-name": "deviceStatusEntries",
          "description": "Device status entries to create",
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/DeviceStatus"
                }
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "201": {
            "description": "Created device status entries with assigned IDs",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DeviceStatus"
                  }
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      },
      "delete": {
        "tags": [
          "DeviceStatus"
        ],
        "summary": "Bulk delete device status entries using query filters",
        "operationId": "DeviceStatus_BulkDeleteDeviceStatus",
        "responses": {
          "200": {
            "description": "Number of deleted entries",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v1/DeviceStatus/{id}": {
      "delete": {
        "tags": [
          "DeviceStatus"
        ],
        "summary": "Delete a device status entry by ID",
        "operationId": "DeviceStatus_DeleteDeviceStatus2",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Device status ID to delete",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Success status"
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v1/devicestatus.json": {
      "get": {
        "tags": [
          "DeviceStatus"
        ],
        "summary": "Alternative endpoint for device status - supports .json extension",
        "operationId": "DeviceStatus_GetDeviceStatusJson",
        "parameters": [
          {
            "name": "count",
            "in": "query",
            "description": "Maximum number of device status entries to return (default: 10)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            },
            "x-position": 1
          },
          {
            "name": "skip",
            "in": "query",
            "description": "Number of device status entries to skip for pagination (default: 0)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            },
            "x-position": 2
          }
        ],
        "responses": {
          "200": {
            "description": "Array of device status entries ordered by most recent first",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DeviceStatus"
                  }
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v1/Entries/current": {
      "get": {
        "tags": [
          "Entries"
        ],
        "summary": "Get the most recent glucose entry\nThis endpoint assumes SGV (sensor glucose value) type and returns the single most recent entry",
        "operationId": "Entries_GetCurrentEntry",
        "responses": {
          "200": {
            "description": "The most recent glucose entry, or empty array if no entries exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Entry"
                  }
                }
              }
            }
          },
          "304": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Entry"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Entries/{spec}": {
      "get": {
        "tags": [
          "Entries"
        ],
        "summary": "Get a specific entry by ID or get entries by type",
        "operationId": "Entries_GetEntry2",
        "parameters": [
          {
            "name": "spec",
            "in": "path",
            "required": true,
            "description": "Either an entry ID (24-character hex string) or entry type (e.g., \"sgv\", \"mbg\", \"cal\")",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Entry or entries matching the specification",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Entry"
                  }
                }
              }
            }
          },
          "304": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Entry"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Entries": {
      "get": {
        "tags": [
          "Entries"
        ],
        "summary": "Get entries with optional query parameters\nSupports advanced query features including find filters, date ranges, and pagination",
        "operationId": "Entries_GetEntries2",
        "parameters": [
          {
            "name": "find",
            "in": "query",
            "description": "MongoDB-style find query filters (JSON format) - for unit tests",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "count",
            "in": "query",
            "description": "Maximum number of entries to return (if not specified, returns all matching entries)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "nullable": true
            },
            "x-position": 2
          },
          {
            "name": "dateString",
            "in": "query",
            "description": "ISO date string for date filtering",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 3
          },
          {
            "name": "type",
            "in": "query",
            "description": "Entry type filter (default: \"sgv\")",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 4
          },
          {
            "name": "rr",
            "in": "query",
            "description": "Reverse results (latest first)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            },
            "x-position": 5
          },
          {
            "name": "format",
            "in": "query",
            "description": "Output format (json, csv, tsv, txt)",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 6
          }
        ],
        "responses": {
          "200": {
            "description": "Array of entries matching the criteria",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Entry"
                  }
                }
              }
            }
          },
          "304": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Entry"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Entries"
        ],
        "summary": "Create new entries\nAccepts both single entries and arrays of entries",
        "operationId": "Entries_CreateEntries2All",
        "requestBody": {
          "x-name": "entryData",
          "description": "Entry data to create (can be single entry or array)",
          "content": {
            "application/json": {
              "schema": {}
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "201": {
            "description": "Created entries with assigned IDs",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Entry"
                  }
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Entries"
        ],
        "summary": "Bulk delete entries with query filter",
        "operationId": "Entries_BulkDeleteEntries",
        "parameters": [
          {
            "name": "find",
            "in": "query",
            "description": "MongoDB-style find query filters (JSON format)",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Confirmation of bulk deletion",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/Entries/{id}": {
      "put": {
        "tags": [
          "Entries"
        ],
        "summary": "Update an existing entry by ID",
        "operationId": "Entries_UpdateEntry2",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "The entry ID to update",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "entryData",
          "description": "Updated entry data",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Entry"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "Updated entry",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Entry"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Entries"
        ],
        "summary": "Delete an entry by ID",
        "operationId": "Entries_DeleteEntry2",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "The entry ID to delete",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Confirmation of deletion",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/Entries/async": {
      "post": {
        "tags": [
          "Entries"
        ],
        "summary": "Create new entries asynchronously\nAccepts both single entries and arrays of entries, returns immediately with tracking information",
        "operationId": "Entries_CreateEntries2",
        "requestBody": {
          "x-name": "entryData",
          "description": "Entry data to create (can be single entry or array)",
          "content": {
            "application/json": {
              "schema": {}
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "202": {
            "description": "Async processing response with correlation ID and status URL",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AsyncProcessingResponse"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "500": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/Food": {
      "get": {
        "tags": [
          "Food"
        ],
        "summary": "Get all food records (both food and quickpick types)",
        "operationId": "Food_GetFood2",
        "responses": {
          "200": {
            "description": "Array of food records ordered by name/position",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Food"
                  }
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      },
      "post": {
        "tags": [
          "Food"
        ],
        "summary": "Create new food records",
        "operationId": "Food_CreateFood2",
        "requestBody": {
          "x-name": "foods",
          "description": "Food records to create (can be single object or array)",
          "content": {
            "application/json": {
              "schema": {}
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "201": {
            "description": "Created food records with assigned IDs",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Food"
                  }
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      },
      "put": {
        "tags": [
          "Food"
        ],
        "summary": "Alternative update endpoint compatible with legacy PUT without ID in URL",
        "operationId": "Food_UpdateFoodLegacy",
        "requestBody": {
          "x-name": "food",
          "description": "Food data with ID",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Food"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Updated food record",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Food"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v1/food.json": {
      "get": {
        "tags": [
          "Food"
        ],
        "summary": "Alternative endpoint with .json extension for compatibility",
        "operationId": "Food_GetFoodJson",
        "responses": {
          "200": {
            "description": "Array of food records",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Food"
                  }
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v1/Food/regular": {
      "get": {
        "tags": [
          "Food"
        ],
        "summary": "Get regular food records only (type=\"food\")",
        "operationId": "Food_GetRegularFood",
        "responses": {
          "200": {
            "description": "Array of regular food records",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Food"
                  }
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v1/Food/quickpicks": {
      "get": {
        "tags": [
          "Food"
        ],
        "summary": "Get quickpick food records only (type=\"quickpick\")",
        "operationId": "Food_GetQuickPickFood",
        "responses": {
          "200": {
            "description": "Array of quickpick food records ordered by position",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Food"
                  }
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v1/Food/{id}": {
      "get": {
        "tags": [
          "Food"
        ],
        "summary": "Get a specific food record by ID",
        "operationId": "Food_GetFoodById2",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Food record ID",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "The food record with the specified ID",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Food"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      },
      "put": {
        "tags": [
          "Food"
        ],
        "summary": "Update an existing food record by ID",
        "operationId": "Food_UpdateFood2",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Food record ID to update",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "food",
          "description": "Updated food data",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Food"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "Updated food record",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Food"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      },
      "delete": {
        "tags": [
          "Food"
        ],
        "summary": "Delete a food record by ID",
        "operationId": "Food_DeleteFood2",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Food record ID to delete",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "204": {
            "description": "No content if successful"
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v1/Iob": {
      "get": {
        "tags": [
          "V1 IOB"
        ],
        "summary": "Calculate current IOB from treatments and device status",
        "operationId": "Iob_GetCurrentIob",
        "parameters": [
          {
            "name": "time",
            "in": "query",
            "description": "Optional timestamp for calculation (default: current time)",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the current IOB calculation",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IobResult"
                }
              }
            }
          },
          "500": {
            "description": "If there was an internal server error"
          }
        }
      }
    },
    "/api/v1/Iob/treatments": {
      "get": {
        "tags": [
          "V1 IOB"
        ],
        "summary": "Calculate IOB from treatments only (excluding device status)",
        "operationId": "Iob_GetIobFromTreatments",
        "parameters": [
          {
            "name": "time",
            "in": "query",
            "description": "Optional timestamp for calculation (default: current time)",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the IOB calculation from treatments",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IobResult"
                }
              }
            }
          },
          "500": {
            "description": "If there was an internal server error"
          }
        }
      }
    },
    "/api/v1/Iob/hourly": {
      "get": {
        "tags": [
          "V1 IOB"
        ],
        "summary": "Calculate hourly IOB breakdown for charts and analysis",
        "operationId": "Iob_GetHourlyIob",
        "parameters": [
          {
            "name": "intervalMinutes",
            "in": "query",
            "description": "Time interval in minutes for calculations (default: 5)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 5
            },
            "x-position": 1
          },
          {
            "name": "hours",
            "in": "query",
            "description": "Number of hours to calculate (default: 24)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 24
            },
            "x-position": 2
          },
          {
            "name": "startTime",
            "in": "query",
            "description": "Start time for calculation (default: 24 hours ago)",
            "schema": {
              "type": "integer",
              "format": "int64",
              "nullable": true
            },
            "x-position": 3
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the hourly IOB breakdown",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HourlyIobResponse"
                }
              }
            }
          },
          "400": {
            "description": "If parameters are invalid",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": "If there was an internal server error"
          }
        }
      }
    },
    "/api/v1/deviceage/cannula": {
      "get": {
        "tags": [
          "V1 Device Age (Legacy)"
        ],
        "summary": "Get cannula/site age (CAGE) - equivalent to LegacyApp cage plugin",
        "operationId": "LegacyDeviceAge_GetCannulaAge",
        "parameters": [
          {
            "name": "info",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "warn",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "nullable": true
            },
            "x-position": 2
          },
          {
            "name": "urgent",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "nullable": true
            },
            "x-position": 3
          },
          {
            "name": "display",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 4
          },
          {
            "name": "enableAlerts",
            "in": "query",
            "schema": {
              "type": "boolean",
              "nullable": true
            },
            "x-position": 5
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeviceAgeInfo"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/deviceage/sensor": {
      "get": {
        "tags": [
          "V1 Device Age (Legacy)"
        ],
        "summary": "Get sensor age (SAGE) - equivalent to LegacyApp sage plugin\nReturns both Sensor Start and Sensor Change events",
        "operationId": "LegacyDeviceAge_GetSensorAge",
        "parameters": [
          {
            "name": "info",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "warn",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "nullable": true
            },
            "x-position": 2
          },
          {
            "name": "urgent",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "nullable": true
            },
            "x-position": 3
          },
          {
            "name": "display",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 4
          },
          {
            "name": "enableAlerts",
            "in": "query",
            "schema": {
              "type": "boolean",
              "nullable": true
            },
            "x-position": 5
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SensorAgeInfo"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/deviceage/insulin": {
      "get": {
        "tags": [
          "V1 Device Age (Legacy)"
        ],
        "summary": "Get insulin reservoir age (IAGE) - equivalent to LegacyApp iage plugin",
        "operationId": "LegacyDeviceAge_GetInsulinAge",
        "parameters": [
          {
            "name": "info",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "warn",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "nullable": true
            },
            "x-position": 2
          },
          {
            "name": "urgent",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "nullable": true
            },
            "x-position": 3
          },
          {
            "name": "display",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 4
          },
          {
            "name": "enableAlerts",
            "in": "query",
            "schema": {
              "type": "boolean",
              "nullable": true
            },
            "x-position": 5
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeviceAgeInfo"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/deviceage/battery": {
      "get": {
        "tags": [
          "V1 Device Age (Legacy)"
        ],
        "summary": "Get pump battery age (BAGE) - equivalent to LegacyApp bage plugin",
        "operationId": "LegacyDeviceAge_GetBatteryAge",
        "parameters": [
          {
            "name": "info",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "warn",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "nullable": true
            },
            "x-position": 2
          },
          {
            "name": "urgent",
            "in": "query",
            "schema": {
              "type": "integer",
              "format": "int32",
              "nullable": true
            },
            "x-position": 3
          },
          {
            "name": "display",
            "in": "query",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 4
          },
          {
            "name": "enableAlerts",
            "in": "query",
            "schema": {
              "type": "boolean",
              "nullable": true
            },
            "x-position": 5
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeviceAgeInfo"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/deviceage/all": {
      "get": {
        "tags": [
          "V1 Device Age (Legacy)"
        ],
        "summary": "Get all device ages in a single call",
        "operationId": "LegacyDeviceAge_GetAllDeviceAges",
        "responses": {
          "200": {
            "description": ""
          }
        }
      }
    },
    "/api/v1/notifications/ack": {
      "post": {
        "tags": [
          "V1 Notifications"
        ],
        "summary": "Acknowledge a notification alarm to silence it\nImplements the /notifications/ack endpoint from legacy notifications.js",
        "operationId": "Notifications_AckNotification",
        "requestBody": {
          "x-name": "request",
          "description": "Acknowledgment request containing level, group, and silence time",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NotificationAckRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Notification acknowledged successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationAckResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid acknowledgment request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationAckResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationAckResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/notifications/pushovercallback": {
      "post": {
        "tags": [
          "V1 Notifications"
        ],
        "summary": "Handle Pushover webhook callbacks for notification acknowledgments\nImplements the /notifications/pushovercallback endpoint for Pushover integration",
        "operationId": "Notifications_PushoverCallback",
        "requestBody": {
          "x-name": "request",
          "description": "Pushover callback request data from webhook",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PushoverCallbackRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Pushover callback processed successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationAckResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid callback request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationAckResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationAckResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/adminnotifies": {
      "get": {
        "tags": [
          "V1 Notifications"
        ],
        "summary": "Get all admin notifications with their counts and timestamps\nImplements the /adminnotifies endpoint from legacy adminnotifies.js",
        "operationId": "Notifications_GetAdminNotifies",
        "responses": {
          "200": {
            "description": "Admin notifications retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdminNotifiesResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "post": {
        "tags": [
          "V1 Notifications"
        ],
        "summary": "Add a new admin notification or increment count if it already exists\nProvides an endpoint for creating admin notifications (typically used internally)",
        "operationId": "Notifications_AddAdminNotification",
        "requestBody": {
          "x-name": "notification",
          "description": "Admin notification to add",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdminNotification"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Admin notification added successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationAckResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid notification request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationAckResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationAckResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "V1 Notifications"
        ],
        "summary": "Clear all admin notifications\nProvides an endpoint for clearing all admin notifications (typically used for maintenance)",
        "operationId": "Notifications_ClearAllAdminNotifications",
        "responses": {
          "200": {
            "description": "Admin notifications cleared successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationAckResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationAckResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/notifications/pushover": {
      "post": {
        "tags": [
          "V1 Notifications"
        ],
        "summary": "Send a Pushover notification for testing or manual triggering\nProvides an endpoint for sending Pushover notifications directly",
        "operationId": "Notifications_SendPushoverNotification",
        "requestBody": {
          "x-name": "request",
          "description": "Pushover notification request",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PushoverNotificationRequest"
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Pushover notification sent successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationAckResponse"
                }
              }
            }
          },
          "400": {
            "description": "Invalid notification request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationAckResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/NotificationAckResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Profile": {
      "get": {
        "tags": [
          "Profile"
        ],
        "summary": "Get profiles with optional pagination",
        "operationId": "Profile_GetProfiles2",
        "parameters": [
          {
            "name": "count",
            "in": "query",
            "description": "Maximum number of profiles to return (default: 10)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "List of profiles",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Profile"
                  }
                }
              }
            }
          },
          "304": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Profile"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Profile"
        ],
        "summary": "Create or update profiles",
        "operationId": "Profile_CreateProfiles",
        "requestBody": {
          "x-name": "profiles",
          "description": "Profiles to create or update",
          "content": {
            "application/json": {
              "schema": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Profile"
                }
              }
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "200": {
            "description": "Created profiles with assigned IDs",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Profile"
                  }
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Profile/current": {
      "get": {
        "tags": [
          "Profile"
        ],
        "summary": "Get the current active profile",
        "operationId": "Profile_GetCurrentProfile",
        "responses": {
          "200": {
            "description": "The current active profile, or empty array if no profiles exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Profile"
                  }
                }
              }
            }
          },
          "304": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Profile"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Profile/{spec}": {
      "get": {
        "tags": [
          "Profile"
        ],
        "summary": "Get a specific profile by ID or treat the spec as a profile ID",
        "operationId": "Profile_GetProfile",
        "parameters": [
          {
            "name": "spec",
            "in": "path",
            "required": true,
            "description": "The profile ID (24-character hex string for MongoDB ObjectId)",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "The profile with the specified ID, or empty array if not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Profile"
                  }
                }
              }
            }
          },
          "304": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Profile"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/Status": {
      "get": {
        "tags": [
          "Status"
        ],
        "summary": "Get the current system status.\nReturns HTML by default for Nightscout compatibility, or JSON if Accept header requests it.",
        "operationId": "Status_GetStatus22",
        "responses": {
          "200": {
            "description": "Status response in HTML or JSON format",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/times": {
      "get": {
        "tags": [
          "TimeQuery"
        ],
        "summary": "Complex time pattern matching with bash-style brace expansion",
        "operationId": "TimeQuery_GetTimeBasedEntries",
        "parameters": [
          {
            "name": "count",
            "in": "query",
            "description": "Maximum number of entries to return (default: 10)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            },
            "x-position": 1
          },
          {
            "name": "format",
            "in": "query",
            "description": "Output format (json, csv, tsv, txt)",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 2
          }
        ],
        "responses": {
          "200": {
            "description": "Entries matching the time patterns",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Entry"
                  }
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v1/times/{prefix}": {
      "get": {
        "tags": [
          "TimeQuery"
        ],
        "summary": "Complex time pattern matching with bash-style brace expansion",
        "operationId": "TimeQuery_GetTimeBasedEntriesWithPrefix",
        "parameters": [
          {
            "name": "prefix",
            "in": "path",
            "required": true,
            "description": "Time prefix pattern (e.g., \"2015-04\", \"20{14..15}\")",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          },
          {
            "name": "count",
            "in": "query",
            "description": "Maximum number of entries to return (default: 10)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            },
            "x-position": 2
          },
          {
            "name": "format",
            "in": "query",
            "description": "Output format (json, csv, tsv, txt)",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 3
          }
        ],
        "responses": {
          "200": {
            "description": "Entries matching the time patterns",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Entry"
                  }
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v1/times/{prefix}/{regex}": {
      "get": {
        "tags": [
          "TimeQuery"
        ],
        "summary": "Complex time pattern matching with bash-style brace expansion",
        "operationId": "TimeQuery_GetTimeBasedEntriesWithPrefixAndRegex",
        "parameters": [
          {
            "name": "prefix",
            "in": "path",
            "required": true,
            "description": "Time prefix pattern (e.g., \"2015-04\", \"20{14..15}\")",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          },
          {
            "name": "regex",
            "in": "path",
            "required": true,
            "description": "Time regex pattern (e.g., \"T{13..18}:{00..15}\")",
            "schema": {
              "type": "string"
            },
            "x-position": 2
          },
          {
            "name": "count",
            "in": "query",
            "description": "Maximum number of entries to return (default: 10)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            },
            "x-position": 3
          },
          {
            "name": "format",
            "in": "query",
            "description": "Output format (json, csv, tsv, txt)",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 4
          }
        ],
        "responses": {
          "200": {
            "description": "Entries matching the time patterns",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Entry"
                  }
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v1/times/echo": {
      "get": {
        "tags": [
          "TimeQuery"
        ],
        "summary": "Time query debugging and pattern inspection\nShows how the time patterns are expanded and what MongoDB query would be generated",
        "operationId": "TimeQuery_GetTimeQueryEcho",
        "parameters": [
          {
            "name": "storage",
            "in": "query",
            "description": "Storage type (entries, treatments, devicestatus)",
            "schema": {
              "type": "string",
              "default": "entries"
            },
            "x-position": 1
          },
          {
            "name": "field",
            "in": "query",
            "description": "Field name to match patterns against",
            "schema": {
              "type": "string",
              "default": "dateString"
            },
            "x-position": 2
          }
        ],
        "responses": {
          "200": {
            "description": "Debug information about the generated patterns and query",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TimeQueryEcho"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v1/times/echo/{prefix}": {
      "get": {
        "tags": [
          "TimeQuery"
        ],
        "summary": "Time query debugging and pattern inspection with prefix\nShows how the time patterns are expanded and what MongoDB query would be generated",
        "operationId": "TimeQuery_GetTimeQueryEchoWithPrefix",
        "parameters": [
          {
            "name": "prefix",
            "in": "path",
            "required": true,
            "description": "Time prefix pattern",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          },
          {
            "name": "storage",
            "in": "query",
            "description": "Storage type (entries, treatments, devicestatus)",
            "schema": {
              "type": "string",
              "default": "entries"
            },
            "x-position": 2
          },
          {
            "name": "field",
            "in": "query",
            "description": "Field name to match patterns against",
            "schema": {
              "type": "string",
              "default": "dateString"
            },
            "x-position": 3
          }
        ],
        "responses": {
          "200": {
            "description": "Debug information about the generated patterns and query",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TimeQueryEcho"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v1/times/echo/{prefix}/{regex}": {
      "get": {
        "tags": [
          "TimeQuery"
        ],
        "summary": "Time query debugging and pattern inspection with prefix and regex\nShows how the time patterns are expanded and what MongoDB query would be generated",
        "operationId": "TimeQuery_GetTimeQueryEchoWithPrefixAndRegex",
        "parameters": [
          {
            "name": "prefix",
            "in": "path",
            "required": true,
            "description": "Time prefix pattern",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          },
          {
            "name": "regex",
            "in": "path",
            "required": true,
            "description": "Time regex pattern",
            "schema": {
              "type": "string"
            },
            "x-position": 2
          },
          {
            "name": "storage",
            "in": "query",
            "description": "Storage type (entries, treatments, devicestatus)",
            "schema": {
              "type": "string",
              "default": "entries"
            },
            "x-position": 3
          },
          {
            "name": "field",
            "in": "query",
            "description": "Field name to match patterns against",
            "schema": {
              "type": "string",
              "default": "dateString"
            },
            "x-position": 4
          }
        ],
        "responses": {
          "200": {
            "description": "Debug information about the generated patterns and query",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TimeQueryEcho"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v1/slice/{storage}/{field}": {
      "get": {
        "tags": [
          "TimeQuery"
        ],
        "summary": "Advanced data slicing with regex patterns and field filtering\nAllows specifying storage layer, field to match, entry type, and pattern matching\n- /api/v1/slice/entries/dateString - All entries matching dateString field\n- /api/v1/slice/entries/dateString/mbg/2015 - All MBG entries from 2015\n- /api/v1/slice/treatments/created_at/bolus/2015-04 - All bolus treatments from April 2015",
        "operationId": "TimeQuery_GetSlicedData",
        "parameters": [
          {
            "name": "storage",
            "in": "path",
            "required": true,
            "description": "Storage type (entries, treatments, devicestatus)",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          },
          {
            "name": "field",
            "in": "path",
            "required": true,
            "description": "Field to perform pattern matching on",
            "schema": {
              "type": "string"
            },
            "x-position": 2
          },
          {
            "name": "count",
            "in": "query",
            "description": "Maximum number of entries to return (default: 10)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            },
            "x-position": 3
          },
          {
            "name": "format",
            "in": "query",
            "description": "Output format (json, csv, tsv, txt)",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 4
          }
        ],
        "responses": {
          "200": {
            "description": "Entries matching the slice criteria",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Entry"
                  }
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v1/slice/{storage}/{field}/{type}": {
      "get": {
        "tags": [
          "TimeQuery"
        ],
        "summary": "Advanced data slicing with type filter",
        "operationId": "TimeQuery_GetSlicedDataWithType",
        "parameters": [
          {
            "name": "storage",
            "in": "path",
            "required": true,
            "description": "Storage type (entries, treatments, devicestatus)",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          },
          {
            "name": "field",
            "in": "path",
            "required": true,
            "description": "Field to perform pattern matching on",
            "schema": {
              "type": "string"
            },
            "x-position": 2
          },
          {
            "name": "type",
            "in": "path",
            "required": true,
            "description": "Entry/record type filter",
            "schema": {
              "type": "string"
            },
            "x-position": 3
          },
          {
            "name": "count",
            "in": "query",
            "description": "Maximum number of entries to return (default: 10)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            },
            "x-position": 4
          },
          {
            "name": "format",
            "in": "query",
            "description": "Output format (json, csv, tsv, txt)",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 5
          }
        ],
        "responses": {
          "200": {
            "description": "Entries matching the slice criteria",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Entry"
                  }
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v1/slice/{storage}/{field}/{type}/{prefix}": {
      "get": {
        "tags": [
          "TimeQuery"
        ],
        "summary": "Advanced data slicing with type and prefix filter",
        "operationId": "TimeQuery_GetSlicedDataWithTypeAndPrefix",
        "parameters": [
          {
            "name": "storage",
            "in": "path",
            "required": true,
            "description": "Storage type (entries, treatments, devicestatus)",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          },
          {
            "name": "field",
            "in": "path",
            "required": true,
            "description": "Field to perform pattern matching on",
            "schema": {
              "type": "string"
            },
            "x-position": 2
          },
          {
            "name": "type",
            "in": "path",
            "required": true,
            "description": "Entry/record type filter",
            "schema": {
              "type": "string"
            },
            "x-position": 3
          },
          {
            "name": "prefix",
            "in": "path",
            "required": true,
            "description": "Pattern prefix",
            "schema": {
              "type": "string"
            },
            "x-position": 4
          },
          {
            "name": "count",
            "in": "query",
            "description": "Maximum number of entries to return (default: 10)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            },
            "x-position": 5
          },
          {
            "name": "format",
            "in": "query",
            "description": "Output format (json, csv, tsv, txt)",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 6
          }
        ],
        "responses": {
          "200": {
            "description": "Entries matching the slice criteria",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Entry"
                  }
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v1/slice/{storage}/{field}/{type}/{prefix}/{regex}": {
      "get": {
        "tags": [
          "TimeQuery"
        ],
        "summary": "Advanced data slicing with all parameters",
        "operationId": "TimeQuery_GetSlicedDataWithAll",
        "parameters": [
          {
            "name": "storage",
            "in": "path",
            "required": true,
            "description": "Storage type (entries, treatments, devicestatus)",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          },
          {
            "name": "field",
            "in": "path",
            "required": true,
            "description": "Field to perform pattern matching on",
            "schema": {
              "type": "string"
            },
            "x-position": 2
          },
          {
            "name": "type",
            "in": "path",
            "required": true,
            "description": "Entry/record type filter",
            "schema": {
              "type": "string"
            },
            "x-position": 3
          },
          {
            "name": "prefix",
            "in": "path",
            "required": true,
            "description": "Pattern prefix",
            "schema": {
              "type": "string"
            },
            "x-position": 4
          },
          {
            "name": "regex",
            "in": "path",
            "required": true,
            "description": "Pattern regex",
            "schema": {
              "type": "string"
            },
            "x-position": 5
          },
          {
            "name": "count",
            "in": "query",
            "description": "Maximum number of entries to return (default: 10)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            },
            "x-position": 6
          },
          {
            "name": "format",
            "in": "query",
            "description": "Output format (json, csv, tsv, txt)",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 7
          }
        ],
        "responses": {
          "200": {
            "description": "Entries matching the slice criteria",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Entry"
                  }
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v1/Treatments": {
      "get": {
        "tags": [
          "Treatments"
        ],
        "summary": "Get treatments with optional filtering and pagination",
        "operationId": "Treatments_GetTreatments2",
        "parameters": [
          {
            "name": "find",
            "in": "query",
            "description": "MongoDB-style query filter for date range filtering",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 1
          },
          {
            "name": "count",
            "in": "query",
            "description": "Maximum number of treatments to return (default: 10)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 10
            },
            "x-position": 2
          },
          {
            "name": "skip",
            "in": "query",
            "description": "Number of treatments to skip for pagination (default: 0)",
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 0
            },
            "x-position": 3
          },
          {
            "name": "format",
            "in": "query",
            "description": "Output format (json, csv, tsv, txt)",
            "schema": {
              "type": "string",
              "nullable": true
            },
            "x-position": 4
          }
        ],
        "responses": {
          "200": {
            "description": "Array of treatments ordered by most recent first",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Treatment"
                  }
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      },
      "post": {
        "tags": [
          "Treatments"
        ],
        "summary": "Create new treatments",
        "operationId": "Treatments_CreateTreatments2",
        "requestBody": {
          "x-name": "treatments",
          "description": "Treatments to create (can be single object or array)",
          "content": {
            "application/json": {
              "schema": {}
            }
          },
          "required": true,
          "x-position": 1
        },
        "responses": {
          "201": {
            "description": "Created treatments with assigned IDs",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Treatment"
                  }
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      },
      "delete": {
        "tags": [
          "Treatments"
        ],
        "summary": "Bulk delete treatments using query parameters",
        "operationId": "Treatments_BulkDeleteTreatments",
        "responses": {
          "200": {
            "description": "Number of treatments deleted",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    },
    "/api/v1/Treatments/{id}": {
      "get": {
        "tags": [
          "Treatments"
        ],
        "summary": "Get a specific treatment by ID",
        "operationId": "Treatments_GetTreatmentById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Treatment ID",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "200": {
            "description": "The treatment with the specified ID",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Treatment"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      },
      "put": {
        "tags": [
          "Treatments"
        ],
        "summary": "Update an existing treatment by ID",
        "operationId": "Treatments_UpdateTreatment2",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Treatment ID to update",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "requestBody": {
          "x-name": "treatment",
          "description": "Updated treatment data",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Treatment"
              }
            }
          },
          "required": true,
          "x-position": 2
        },
        "responses": {
          "200": {
            "description": "Updated treatment",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Treatment"
                }
              }
            }
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      },
      "delete": {
        "tags": [
          "Treatments"
        ],
        "summary": "Delete a treatment by ID",
        "operationId": "Treatments_DeleteTreatment2",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Treatment ID to delete",
            "schema": {
              "type": "string"
            },
            "x-position": 1
          }
        ],
        "responses": {
          "204": {
            "description": "Success status"
          },
          "404": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "400": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProblemDetails"
                }
              }
            }
          },
          "500": {
            "description": ""
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "PerformanceMetrics": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "averageResponseTime": {
            "type": "number",
            "format": "double"
          },
          "totalRequests": {
            "type": "integer",
            "format": "int64"
          },
          "errorCount": {
            "type": "integer",
            "format": "int64"
          },
          "memoryUsageMB": {
            "type": "integer",
            "format": "int64"
          },
          "uptimeHours": {
            "type": "number",
            "format": "double"
          },
          "topEndpoints": {
            "type": "object",
            "additionalProperties": {
              "type": "integer",
              "format": "int64"
            }
          }
        }
      },
      "UsageStatistics": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "uniqueSessions": {
            "type": "integer",
            "format": "int64"
          },
          "popularFeatures": {
            "type": "object",
            "additionalProperties": {
              "type": "integer",
              "format": "int64"
            }
          },
          "averageSessionDuration": {
            "type": "number",
            "format": "double"
          },
          "deviceTypes": {
            "type": "object",
            "additionalProperties": {
              "type": "integer",
              "format": "int64"
            }
          }
        }
      },
      "AnalyticsBatch": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "installationId": {
            "type": "string"
          },
          "events": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AnalyticsEvent"
            }
          },
          "systemInfo": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/SystemInfo"
              }
            ]
          },
          "batchTimestamp": {
            "type": "integer",
            "format": "int64"
          },
          "schemaVersion": {
            "type": "string"
          }
        }
      },
      "AnalyticsEvent": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "sessionId": {
            "type": "string"
          },
          "eventType": {
            "type": "string"
          },
          "category": {
            "type": "string"
          },
          "action": {
            "type": "string"
          },
          "label": {
            "type": "string"
          },
          "value": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "timestamp": {
            "type": "integer",
            "format": "int64"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {}
          }
        }
      },
      "SystemInfo": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "platform": {
            "type": "string"
          },
          "runtimeVersion": {
            "type": "string"
          },
          "nocturneVersion": {
            "type": "string"
          },
          "deploymentType": {
            "type": "string"
          },
          "demoModeEnabled": {
            "type": "boolean"
          },
          "enabledConnectors": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "enabledFeatures": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "databaseType": {
            "type": "string"
          },
          "cacheEnabled": {
            "type": "boolean"
          }
        }
      },
      "AnalyticsCollectionConfig": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "collectApiUsage": {
            "type": "boolean"
          },
          "collectUiUsage": {
            "type": "boolean"
          },
          "collectPerformanceMetrics": {
            "type": "boolean"
          },
          "collectHealthMetrics": {
            "type": "boolean"
          },
          "collectFeatureUsage": {
            "type": "boolean"
          },
          "excludedEndpoints": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "maxLocalEvents": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "VerifyAuthResponse": {
        "type": "object",
        "description": "Response for the /api/v1/verifyauth endpoint",
        "additionalProperties": false,
        "properties": {
          "message": {
            "description": "Authentication message - can be either a string or an object"
          }
        }
      },
      "AuthorizationResponse": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "token": {
            "type": "string"
          },
          "exp": {
            "type": "integer",
            "format": "int64"
          },
          "sub": {
            "type": "string"
          },
          "iat": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "ProblemDetails": {
        "type": "object",
        "additionalProperties": {
          "nullable": true
        },
        "properties": {
          "type": {
            "type": "string",
            "nullable": true
          },
          "title": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "detail": {
            "type": "string",
            "nullable": true
          },
          "instance": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "PermissionsResponse": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "permissions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Permission"
            }
          }
        }
      },
      "Permission": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "name": {
            "type": "string"
          },
          "count": {
            "type": "integer",
            "format": "int32"
          },
          "firstSeen": {
            "type": "string",
            "format": "date-time"
          },
          "lastSeen": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "PermissionTrieResponse": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "root": {
            "$ref": "#/components/schemas/PermissionTrieNode"
          },
          "count": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "PermissionTrieNode": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "name": {
            "type": "string"
          },
          "isLeaf": {
            "type": "boolean"
          },
          "children": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/PermissionTrieNode"
            }
          }
        }
      },
      "Subject": {
        "type": "object",
        "additionalProperties": false,
        "required": [
          "name"
        ],
        "properties": {
          "id": {
            "type": "string",
            "nullable": true
          },
          "_id": {
            "type": "string",
            "nullable": true
          },
          "name": {
            "type": "string",
            "minLength": 1
          },
          "roles": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "accessToken": {
            "type": "string"
          },
          "notes": {
            "type": "string",
            "nullable": true
          },
          "created": {
            "type": "string",
            "format": "date-time"
          },
          "modified": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "Role": {
        "type": "object",
        "additionalProperties": false,
        "required": [
          "name"
        ],
        "properties": {
          "id": {
            "type": "string",
            "nullable": true
          },
          "_id": {
            "type": "string",
            "nullable": true
          },
          "name": {
            "type": "string",
            "minLength": 1
          },
          "permissions": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "notes": {
            "type": "string",
            "nullable": true
          },
          "autoGenerated": {
            "type": "boolean"
          },
          "created": {
            "type": "string",
            "format": "date-time"
          },
          "modified": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ConnectorStatusDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "totalEntries": {
            "type": "integer",
            "format": "int64"
          },
          "lastEntryTime": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "entriesLast24Hours": {
            "type": "integer",
            "format": "int32"
          },
          "state": {
            "type": "string"
          },
          "stateMessage": {
            "type": "string",
            "nullable": true
          },
          "isHealthy": {
            "type": "boolean"
          },
          "totalItemsBreakdown": {
            "type": "object",
            "description": "Breakdown of total items processed by data type\nKeys are data type names (e.g., \"Glucose\", \"Treatments\", \"Food\")",
            "nullable": true,
            "additionalProperties": {
              "type": "integer",
              "format": "int64"
            }
          },
          "itemsLast24HoursBreakdown": {
            "type": "object",
            "description": "Breakdown of items processed in the last 24 hours by data type\nKeys are data type names (e.g., \"Glucose\", \"Treatments\", \"Food\")",
            "nullable": true,
            "additionalProperties": {
              "type": "integer",
              "format": "int32"
            }
          }
        }
      },
      "LocalAuthConfigResponse": {
        "type": "object",
        "description": "Local auth configuration response",
        "additionalProperties": false,
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "displayName": {
            "type": "string"
          },
          "allowRegistration": {
            "type": "boolean"
          },
          "requireEmailVerification": {
            "type": "boolean"
          },
          "passwordRequirements": {
            "$ref": "#/components/schemas/PasswordRequirementsDto"
          }
        }
      },
      "PasswordRequirementsDto": {
        "type": "object",
        "description": "Password requirements",
        "additionalProperties": false,
        "properties": {
          "minLength": {
            "type": "integer",
            "format": "int32"
          },
          "requireUppercase": {
            "type": "boolean"
          },
          "requireLowercase": {
            "type": "boolean"
          },
          "requireDigit": {
            "type": "boolean"
          },
          "requireSpecialCharacter": {
            "type": "boolean"
          }
        }
      },
      "RegisterResponse": {
        "type": "object",
        "description": "Registration response",
        "additionalProperties": false,
        "properties": {
          "success": {
            "type": "boolean"
          },
          "userId": {
            "type": "string",
            "format": "guid"
          },
          "requiresEmailVerification": {
            "type": "boolean"
          },
          "requiresAdminApproval": {
            "type": "boolean"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "ErrorResponse": {
        "type": "object",
        "description": "Error response",
        "additionalProperties": false,
        "properties": {
          "error": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "details": {
            "nullable": true
          }
        }
      },
      "RegisterRequest": {
        "type": "object",
        "description": "Registration request",
        "additionalProperties": false,
        "properties": {
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string"
          },
          "displayName": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "LoginResponse": {
        "type": "object",
        "description": "Login response",
        "additionalProperties": false,
        "properties": {
          "success": {
            "type": "boolean"
          },
          "accessToken": {
            "type": "string"
          },
          "refreshToken": {
            "type": "string"
          },
          "expiresIn": {
            "type": "integer",
            "format": "int32"
          },
          "user": {
            "$ref": "#/components/schemas/UserInfoDto"
          },
          "requirePasswordChange": {
            "type": "boolean"
          }
        }
      },
      "UserInfoDto": {
        "type": "object",
        "description": "User info",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "format": "guid"
          },
          "email": {
            "type": "string"
          },
          "displayName": {
            "type": "string",
            "nullable": true
          },
          "roles": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "LoginRequest": {
        "type": "object",
        "description": "Login request",
        "additionalProperties": false,
        "properties": {
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string"
          }
        }
      },
      "ForgotPasswordResponse": {
        "type": "object",
        "description": "Forgot password response",
        "additionalProperties": false,
        "properties": {
          "success": {
            "type": "boolean"
          },
          "message": {
            "type": "string"
          },
          "adminNotificationRequired": {
            "type": "boolean"
          }
        }
      },
      "ForgotPasswordRequest": {
        "type": "object",
        "description": "Forgot password request",
        "additionalProperties": false,
        "properties": {
          "email": {
            "type": "string"
          }
        }
      },
      "ResetPasswordResponse": {
        "type": "object",
        "description": "Reset password response",
        "additionalProperties": false,
        "properties": {
          "success": {
            "type": "boolean"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "ResetPasswordRequest": {
        "type": "object",
        "description": "Reset password request",
        "additionalProperties": false,
        "properties": {
          "token": {
            "type": "string"
          },
          "newPassword": {
            "type": "string"
          }
        }
      },
      "ChangePasswordResponse": {
        "type": "object",
        "description": "Change password response",
        "additionalProperties": false,
        "properties": {
          "success": {
            "type": "boolean"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "ChangePasswordRequest": {
        "type": "object",
        "description": "Change password request",
        "additionalProperties": false,
        "properties": {
          "currentPassword": {
            "type": "string"
          },
          "newPassword": {
            "type": "string"
          }
        }
      },
      "CheckEmailResponse": {
        "type": "object",
        "description": "Check email response",
        "additionalProperties": false,
        "properties": {
          "isValid": {
            "type": "boolean"
          },
          "error": {
            "type": "string",
            "nullable": true
          },
          "requiresApproval": {
            "type": "boolean"
          }
        }
      },
      "ResendVerificationResponse": {
        "type": "object",
        "description": "Resend verification response",
        "additionalProperties": false,
        "properties": {
          "success": {
            "type": "boolean"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "ResendVerificationRequest": {
        "type": "object",
        "description": "Resend verification request",
        "additionalProperties": false,
        "properties": {
          "email": {
            "type": "string"
          }
        }
      },
      "PasswordResetRequestListResponse": {
        "type": "object",
        "description": "Response for pending password reset requests",
        "additionalProperties": false,
        "properties": {
          "requests": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PasswordResetRequestDto"
            }
          },
          "totalCount": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "PasswordResetRequestDto": {
        "type": "object",
        "description": "Password reset request info for admin view",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "format": "guid"
          },
          "email": {
            "type": "string"
          },
          "displayName": {
            "type": "string",
            "nullable": true
          },
          "requestedFromIp": {
            "type": "string",
            "nullable": true
          },
          "userAgent": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "SetTemporaryPasswordResponse": {
        "type": "object",
        "description": "Response for setting a temporary password",
        "additionalProperties": false,
        "properties": {
          "success": {
            "type": "boolean"
          }
        }
      },
      "SetTemporaryPasswordRequest": {
        "type": "object",
        "description": "Request to set a temporary password",
        "additionalProperties": false,
        "properties": {
          "email": {
            "type": "string"
          },
          "temporaryPassword": {
            "type": "string"
          }
        }
      },
      "HandlePasswordResetResponse": {
        "type": "object",
        "description": "Response for handling password reset",
        "additionalProperties": false,
        "properties": {
          "success": {
            "type": "boolean"
          },
          "resetUrl": {
            "type": "string"
          }
        }
      },
      "WebSocketEventsMetadata": {
        "type": "object",
        "description": "Metadata about available WebSocket events",
        "additionalProperties": false,
        "properties": {
          "availableEvents": {
            "type": "array",
            "description": "Array of all available WebSocket event types",
            "items": {
              "$ref": "#/components/schemas/WebSocketEvents"
            }
          },
          "description": {
            "type": "string",
            "description": "Description of the WebSocket events"
          }
        }
      },
      "WebSocketEvents": {
        "type": "string",
        "description": "",
        "x-enumNames": [
          "Connect",
          "Disconnect",
          "ConnectError",
          "Reconnect",
          "ReconnectFailed",
          "ConnectAck",
          "DataUpdate",
          "TreatmentUpdate",
          "Create",
          "Update",
          "Delete",
          "Announcement",
          "Alarm",
          "UrgentAlarm",
          "ClearAlarm",
          "Notification",
          "StatusUpdate",
          "Status",
          "Authenticate",
          "Authenticated",
          "Join",
          "Leave"
        ],
        "enum": [
          "connect",
          "disconnect",
          "connect_error",
          "reconnect",
          "reconnect_failed",
          "connect_ack",
          "dataUpdate",
          "treatmentUpdate",
          "create",
          "update",
          "delete",
          "announcement",
          "alarm",
          "urgent_alarm",
          "clear_alarm",
          "notification",
          "statusUpdate",
          "status",
          "authenticate",
          "authenticated",
          "join",
          "leave"
        ]
      },
      "ExternalUrls": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "website": {
            "type": "string"
          },
          "docsBase": {
            "type": "string"
          },
          "connectorDocs": {
            "$ref": "#/components/schemas/ConnectorDocsUrls"
          }
        }
      },
      "ConnectorDocsUrls": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "dexcom": {
            "type": "string"
          },
          "libre": {
            "type": "string"
          },
          "careLink": {
            "type": "string"
          },
          "nightscout": {
            "type": "string"
          },
          "glooko": {
            "type": "string"
          }
        }
      },
      "TreatmentEventTypesMetadata": {
        "type": "object",
        "description": "Metadata about available treatment event types",
        "additionalProperties": false,
        "properties": {
          "availableTypes": {
            "type": "array",
            "description": "Array of all available treatment event types",
            "items": {
              "$ref": "#/components/schemas/TreatmentEventType"
            }
          },
          "configurations": {
            "type": "array",
            "description": "Full configurations for each event type including field applicability",
            "items": {
              "$ref": "#/components/schemas/EventTypeConfiguration"
            }
          },
          "description": {
            "type": "string",
            "description": "Description of the treatment event types"
          }
        }
      },
      "TreatmentEventType": {
        "type": "string",
        "description": "",
        "x-enumNames": [
          "None",
          "BgCheck",
          "SnackBolus",
          "MealBolus",
          "CorrectionBolus",
          "CarbCorrection",
          "ComboBolus",
          "Announcement",
          "Note",
          "Question",
          "SiteChange",
          "SensorStart",
          "SensorChange",
          "SensorStop",
          "PumpBatteryChange",
          "InsulinChange",
          "TempBasalStart",
          "TempBasalEnd",
          "ProfileSwitch",
          "DadAlert",
          "TempBasal",
          "Exercise",
          "OpenApsOffline",
          "SuspendPump",
          "ResumePump",
          "BolusWizard",
          "Calibration",
          "TransmitterSensorInsert",
          "PodChange"
        ],
        "enum": [
          "<none>",
          "BG Check",
          "Snack Bolus",
          "Meal Bolus",
          "Correction Bolus",
          "Carb Correction",
          "Combo Bolus",
          "Announcement",
          "Note",
          "Question",
          "Site Change",
          "Sensor Start",
          "Sensor Change",
          "Sensor Stop",
          "Pump Battery Change",
          "Insulin Change",
          "Temp Basal Start",
          "Temp Basal End",
          "Profile Switch",
          "D.A.D. Alert",
          "Temp Basal",
          "Exercise",
          "OpenAPS Offline",
          "Suspend Pump",
          "Resume Pump",
          "Bolus Wizard",
          "Calibration",
          "Transmitter Sensor Insert",
          "Pod Change"
        ]
      },
      "EventTypeConfiguration": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "eventType": {
            "$ref": "#/components/schemas/TreatmentEventType"
          },
          "name": {
            "type": "string"
          },
          "bg": {
            "type": "boolean"
          },
          "insulin": {
            "type": "boolean"
          },
          "carbs": {
            "type": "boolean"
          },
          "protein": {
            "type": "boolean"
          },
          "fat": {
            "type": "boolean"
          },
          "prebolus": {
            "type": "boolean"
          },
          "duration": {
            "type": "boolean"
          },
          "percent": {
            "type": "boolean"
          },
          "absolute": {
            "type": "boolean"
          },
          "profile": {
            "type": "boolean"
          },
          "split": {
            "type": "boolean"
          },
          "sensor": {
            "type": "boolean"
          }
        }
      },
      "WidgetDefinitionsMetadata": {
        "type": "object",
        "description": "Metadata about available widget definitions",
        "additionalProperties": false,
        "properties": {
          "definitions": {
            "type": "array",
            "description": "Array of all widget definitions with full metadata",
            "items": {
              "$ref": "#/components/schemas/WidgetDefinition"
            }
          },
          "availablePlacements": {
            "type": "array",
            "description": "All available placement options",
            "items": {
              "$ref": "#/components/schemas/WidgetPlacement"
            }
          },
          "availableSizes": {
            "type": "array",
            "description": "All available size options",
            "items": {
              "$ref": "#/components/schemas/WidgetSize"
            }
          },
          "availableUICategories": {
            "type": "array",
            "description": "All available UI category options",
            "items": {
              "$ref": "#/components/schemas/WidgetUICategory"
            }
          },
          "description": {
            "type": "string",
            "description": "Description of the widget definitions"
          }
        }
      },
      "WidgetDefinition": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "$ref": "#/components/schemas/WidgetId"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "defaultEnabled": {
            "type": "boolean"
          },
          "icon": {
            "type": "string"
          },
          "uiCategory": {
            "$ref": "#/components/schemas/WidgetUICategory"
          },
          "placement": {
            "$ref": "#/components/schemas/WidgetPlacement"
          }
        }
      },
      "WidgetId": {
        "type": "string",
        "description": "",
        "x-enumNames": [
          "BgDelta",
          "LastUpdated",
          "ConnectionStatus",
          "Meals",
          "Trackers",
          "TirChart",
          "DailySummary",
          "GlucoseChart",
          "Statistics",
          "Treatments",
          "Predictions",
          "DailyStats",
          "Agp",
          "BatteryStatus"
        ],
        "enum": [
          "BgDelta",
          "LastUpdated",
          "ConnectionStatus",
          "Meals",
          "Trackers",
          "TirChart",
          "DailySummary",
          "GlucoseChart",
          "Statistics",
          "Treatments",
          "Predictions",
          "DailyStats",
          "Agp",
          "BatteryStatus"
        ]
      },
      "WidgetUICategory": {
        "type": "string",
        "description": "",
        "x-enumNames": [
          "Glucose",
          "Meals",
          "Device",
          "Status"
        ],
        "enum": [
          "Glucose",
          "Meals",
          "Device",
          "Status"
        ]
      },
      "WidgetPlacement": {
        "type": "string",
        "description": "",
        "x-enumNames": [
          "Top",
          "Main"
        ],
        "enum": [
          "Top",
          "Main"
        ]
      },
      "WidgetSize": {
        "type": "string",
        "description": "",
        "x-enumNames": [
          "Small",
          "Medium",
          "Large"
        ],
        "enum": [
          "Small",
          "Medium",
          "Large"
        ]
      },
      "OidcProviderInfo": {
        "type": "object",
        "description": "OIDC provider info for login page",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "description": "Provider ID",
            "format": "guid"
          },
          "name": {
            "type": "string",
            "description": "Display name"
          },
          "icon": {
            "type": "string",
            "description": "Icon URL or CSS class",
            "nullable": true
          },
          "buttonColor": {
            "type": "string",
            "description": "Button color for UI",
            "nullable": true
          }
        }
      },
      "OidcTokenResponse": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "accessToken": {
            "type": "string"
          },
          "refreshToken": {
            "type": "string"
          },
          "tokenType": {
            "type": "string"
          },
          "expiresIn": {
            "type": "integer",
            "format": "int32"
          },
          "expiresAt": {
            "type": "string",
            "format": "date-time"
          },
          "subjectId": {
            "type": "string",
            "format": "guid"
          }
        }
      },
      "LogoutResponse": {
        "type": "object",
        "description": "Logout response",
        "additionalProperties": false,
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Whether logout was successful"
          },
          "providerLogoutUrl": {
            "type": "string",
            "description": "URL for provider logout (if RP-initiated logout is supported)",
            "nullable": true
          },
          "message": {
            "type": "string",
            "description": "Message",
            "nullable": true
          }
        }
      },
      "OidcUserInfo": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "subjectId": {
            "type": "string",
            "format": "guid"
          },
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string",
            "nullable": true
          },
          "emailVerified": {
            "type": "boolean",
            "nullable": true
          },
          "picture": {
            "type": "string",
            "nullable": true
          },
          "roles": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "permissions": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "providerName": {
            "type": "string",
            "nullable": true
          },
          "lastLoginAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "preferredLanguage": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "SessionInfo": {
        "type": "object",
        "description": "Current session information",
        "additionalProperties": false,
        "properties": {
          "isAuthenticated": {
            "type": "boolean",
            "description": "Whether the user is authenticated"
          },
          "subjectId": {
            "type": "string",
            "description": "Subject ID",
            "format": "guid",
            "nullable": true
          },
          "name": {
            "type": "string",
            "description": "User name",
            "nullable": true
          },
          "email": {
            "type": "string",
            "description": "Email address",
            "nullable": true
          },
          "roles": {
            "type": "array",
            "description": "Assigned roles",
            "nullable": true,
            "items": {
              "type": "string"
            }
          },
          "permissions": {
            "type": "array",
            "description": "Resolved permissions",
            "nullable": true,
            "items": {
              "type": "string"
            }
          },
          "expiresAt": {
            "type": "string",
            "description": "Session expiration time",
            "format": "date-time",
            "nullable": true
          },
          "preferredLanguage": {
            "type": "string",
            "description": "User's preferred language code (e.g., \"en\", \"fr\", \"de\")",
            "nullable": true
          }
        }
      },
      "PebbleResponse": {
        "type": "object",
        "description": "Pebble response model for 1:1 Nightscout compatibility",
        "additionalProperties": false,
        "properties": {
          "status": {
            "type": "array",
            "description": "Status array containing current timestamp",
            "items": {
              "$ref": "#/components/schemas/PebbleStatus"
            }
          },
          "bgs": {
            "type": "array",
            "description": "Blood glucose readings array",
            "items": {
              "$ref": "#/components/schemas/PebbleBg"
            }
          },
          "cals": {
            "type": "array",
            "description": "Calibration readings array",
            "items": {
              "$ref": "#/components/schemas/PebbleCal"
            }
          }
        }
      },
      "PebbleStatus": {
        "type": "object",
        "description": "Pebble status entry",
        "additionalProperties": false,
        "properties": {
          "now": {
            "type": "integer",
            "description": "Current timestamp in milliseconds since epoch",
            "format": "int64"
          }
        }
      },
      "PebbleBg": {
        "type": "object",
        "description": "Pebble blood glucose entry",
        "additionalProperties": false,
        "properties": {
          "sgv": {
            "type": "string",
            "description": "Sensor glucose value (formatted as string for legacy compatibility)"
          },
          "trend": {
            "type": "integer",
            "description": "Numeric trend indicator (1-9)",
            "format": "int32"
          },
          "direction": {
            "type": "string",
            "description": "Direction string (Flat, SingleUp, etc.)"
          },
          "datetime": {
            "type": "integer",
            "description": "Timestamp in milliseconds since epoch",
            "format": "int64"
          },
          "bgdelta": {
            "type": "string",
            "description": "Delta from previous reading (formatted string)",
            "nullable": true
          },
          "battery": {
            "type": "string",
            "description": "Battery percentage (formatted string)",
            "nullable": true
          },
          "iob": {
            "type": "string",
            "description": "Insulin on board (formatted string)",
            "nullable": true
          },
          "bwp": {
            "type": "string",
            "description": "Bolus wizard preview (formatted string)",
            "nullable": true
          },
          "bwpo": {
            "type": "number",
            "description": "Bolus wizard preview outcome",
            "format": "double",
            "nullable": true
          },
          "cob": {
            "type": "number",
            "description": "Carbs on board",
            "format": "double",
            "nullable": true
          }
        }
      },
      "PebbleCal": {
        "type": "object",
        "description": "Pebble calibration entry",
        "additionalProperties": false,
        "properties": {
          "slope": {
            "type": "number",
            "description": "Calibration slope",
            "format": "double",
            "nullable": true
          },
          "intercept": {
            "type": "number",
            "description": "Calibration intercept",
            "format": "double",
            "nullable": true
          },
          "scale": {
            "type": "number",
            "description": "Calibration scale",
            "format": "double",
            "nullable": true
          }
        }
      },
      "BasicGlucoseStats": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "count": {
            "type": "integer",
            "format": "int32"
          },
          "mean": {
            "type": "number",
            "format": "double"
          },
          "median": {
            "type": "number",
            "format": "double"
          },
          "min": {
            "type": "number",
            "format": "double"
          },
          "max": {
            "type": "number",
            "format": "double"
          },
          "standardDeviation": {
            "type": "number",
            "format": "double"
          },
          "percentiles": {
            "$ref": "#/components/schemas/GlucosePercentiles"
          }
        }
      },
      "GlucosePercentiles": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "p5": {
            "type": "number",
            "format": "double"
          },
          "p10": {
            "type": "number",
            "format": "double"
          },
          "p25": {
            "type": "number",
            "format": "double"
          },
          "p50": {
            "type": "number",
            "format": "double"
          },
          "p75": {
            "type": "number",
            "format": "double"
          },
          "p90": {
            "type": "number",
            "format": "double"
          },
          "p95": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "GlycemicVariability": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "coefficientOfVariation": {
            "type": "number",
            "format": "double"
          },
          "standardDeviation": {
            "type": "number",
            "format": "double"
          },
          "meanAmplitudeGlycemicExcursions": {
            "type": "number",
            "format": "double"
          },
          "continuousOverlappingNetGlycemicAction": {
            "type": "number",
            "format": "double"
          },
          "averageDailyRiskRange": {
            "type": "number",
            "format": "double"
          },
          "labilityIndex": {
            "type": "number",
            "format": "double"
          },
          "jIndex": {
            "type": "number",
            "format": "double"
          },
          "highBloodGlucoseIndex": {
            "type": "number",
            "format": "double"
          },
          "lowBloodGlucoseIndex": {
            "type": "number",
            "format": "double"
          },
          "glycemicVariabilityIndex": {
            "type": "number",
            "format": "double"
          },
          "patientGlycemicStatus": {
            "type": "number",
            "format": "double"
          },
          "estimatedA1c": {
            "type": "number",
            "format": "double"
          },
          "meanTotalDailyChange": {
            "type": "number",
            "format": "double"
          },
          "timeInFluctuation": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "GlycemicVariabilityRequest": {
        "type": "object",
        "description": "Request model for glycemic variability calculation",
        "additionalProperties": false,
        "properties": {
          "values": {
            "type": "array",
            "description": "Collection of glucose values in mg/dL",
            "items": {
              "type": "number",
              "format": "double"
            }
          },
          "entries": {
            "type": "array",
            "description": "Collection of glucose entries with timestamps",
            "items": {
              "$ref": "#/components/schemas/Entry"
            }
          }
        }
      },
      "Entry": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ProcessableDocumentBase"
          },
          {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "_id": {
                "type": "string",
                "nullable": true
              },
              "mills": {
                "type": "integer",
                "format": "int64"
              },
              "dateString": {
                "type": "string",
                "nullable": true
              },
              "mgdl": {
                "type": "number",
                "format": "double"
              },
              "mbg": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "mmol": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "sgv": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "direction": {
                "type": "string",
                "nullable": true
              },
              "trend": {
                "type": "integer",
                "format": "int32",
                "nullable": true
              },
              "trendRate": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "isCalibration": {
                "type": "boolean"
              },
              "type": {
                "type": "string"
              },
              "device": {
                "type": "string",
                "nullable": true
              },
              "notes": {
                "type": "string",
                "nullable": true
              },
              "delta": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "scaled": {
                "nullable": true
              },
              "sysTime": {
                "type": "string",
                "nullable": true
              },
              "utcOffset": {
                "type": "integer",
                "format": "int32",
                "nullable": true
              },
              "noise": {
                "type": "integer",
                "format": "int32",
                "nullable": true
              },
              "filtered": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "unfiltered": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "rssi": {
                "type": "integer",
                "format": "int32",
                "nullable": true
              },
              "slope": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "intercept": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "scale": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "created_at": {
                "type": "string",
                "nullable": true
              },
              "modified_at": {
                "type": "string",
                "format": "date-time",
                "nullable": true
              },
              "data_source": {
                "type": "string",
                "nullable": true
              },
              "meta": {
                "type": "object",
                "nullable": true,
                "additionalProperties": {}
              },
              "canonicalId": {
                "type": "string",
                "format": "guid",
                "nullable": true
              },
              "sources": {
                "type": "array",
                "nullable": true,
                "items": {
                  "type": "string"
                }
              }
            }
          }
        ]
      },
      "ProcessableDocumentBase": {
        "type": "object",
        "x-abstract": true,
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "nullable": true
          },
          "mills": {
            "type": "integer",
            "format": "int64"
          },
          "utcOffset": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        }
      },
      "TimeInRangeMetrics": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "percentages": {
            "$ref": "#/components/schemas/TimeInRangePercentages"
          },
          "durations": {
            "$ref": "#/components/schemas/TimeInRangeDurations"
          },
          "episodes": {
            "$ref": "#/components/schemas/TimeInRangeEpisodes"
          },
          "rangeStats": {
            "$ref": "#/components/schemas/TimeInRangeDetailedStats"
          }
        }
      },
      "TimeInRangePercentages": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "severeLow": {
            "type": "number",
            "format": "double"
          },
          "low": {
            "type": "number",
            "format": "double"
          },
          "target": {
            "type": "number",
            "format": "double"
          },
          "tightTarget": {
            "type": "number",
            "format": "double"
          },
          "high": {
            "type": "number",
            "format": "double"
          },
          "severeHigh": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "TimeInRangeDurations": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "severeLow": {
            "type": "number",
            "format": "double"
          },
          "low": {
            "type": "number",
            "format": "double"
          },
          "target": {
            "type": "number",
            "format": "double"
          },
          "tightTarget": {
            "type": "number",
            "format": "double"
          },
          "high": {
            "type": "number",
            "format": "double"
          },
          "severeHigh": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "TimeInRangeEpisodes": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "severeLow": {
            "type": "integer",
            "format": "int32"
          },
          "low": {
            "type": "integer",
            "format": "int32"
          },
          "high": {
            "type": "integer",
            "format": "int32"
          },
          "severeHigh": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "TimeInRangeDetailedStats": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "low": {
            "$ref": "#/components/schemas/PeriodMetrics"
          },
          "target": {
            "$ref": "#/components/schemas/PeriodMetrics"
          },
          "high": {
            "$ref": "#/components/schemas/PeriodMetrics"
          }
        }
      },
      "PeriodMetrics": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "periodName": {
            "type": "string"
          },
          "startHour": {
            "type": "integer",
            "format": "int32"
          },
          "endHour": {
            "type": "integer",
            "format": "int32"
          },
          "readingCount": {
            "type": "integer",
            "format": "int32"
          },
          "mean": {
            "type": "number",
            "format": "double"
          },
          "median": {
            "type": "number",
            "format": "double"
          },
          "standardDeviation": {
            "type": "number",
            "format": "double"
          },
          "coefficientOfVariation": {
            "type": "number",
            "format": "double"
          },
          "timeInRange": {
            "type": "number",
            "format": "double"
          },
          "timeBelowRange": {
            "type": "number",
            "format": "double"
          },
          "timeVeryLow": {
            "type": "number",
            "format": "double"
          },
          "timeAboveRange": {
            "type": "number",
            "format": "double"
          },
          "timeVeryHigh": {
            "type": "number",
            "format": "double"
          },
          "hypoglycemiaEvents": {
            "type": "integer",
            "format": "int32"
          },
          "hyperglycemiaEvents": {
            "type": "integer",
            "format": "int32"
          },
          "min": {
            "type": "number",
            "format": "double"
          },
          "max": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "TimeInRangeRequest": {
        "type": "object",
        "description": "Request model for time in range calculation",
        "additionalProperties": false,
        "properties": {
          "entries": {
            "type": "array",
            "description": "Collection of glucose entries",
            "items": {
              "$ref": "#/components/schemas/Entry"
            }
          },
          "thresholds": {
            "description": "Optional glycemic thresholds",
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/GlycemicThresholds"
              }
            ]
          }
        }
      },
      "GlycemicThresholds": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "severeLow": {
            "type": "number",
            "format": "double"
          },
          "low": {
            "type": "number",
            "format": "double"
          },
          "targetBottom": {
            "type": "number",
            "format": "double"
          },
          "targetTop": {
            "type": "number",
            "format": "double"
          },
          "tightTargetBottom": {
            "type": "number",
            "format": "double"
          },
          "tightTargetTop": {
            "type": "number",
            "format": "double"
          },
          "high": {
            "type": "number",
            "format": "double"
          },
          "severeHigh": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "DistributionDataPoint": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "range": {
            "type": "string"
          },
          "count": {
            "type": "integer",
            "format": "int32"
          },
          "percent": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "GlucoseDistributionRequest": {
        "type": "object",
        "description": "Request model for glucose distribution calculation",
        "additionalProperties": false,
        "properties": {
          "entries": {
            "type": "array",
            "description": "Collection of glucose entries",
            "items": {
              "$ref": "#/components/schemas/Entry"
            }
          },
          "bins": {
            "type": "array",
            "description": "Optional distribution bins",
            "nullable": true,
            "items": {
              "$ref": "#/components/schemas/DistributionBin"
            }
          }
        }
      },
      "DistributionBin": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "range": {
            "type": "string"
          },
          "min": {
            "type": "number",
            "format": "double"
          },
          "max": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "AveragedStats": {
        "allOf": [
          {
            "$ref": "#/components/schemas/BasicGlucoseStats"
          },
          {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "hour": {
                "type": "integer",
                "format": "int32"
              },
              "timeInRange": {
                "$ref": "#/components/schemas/ExtendedTimeInRangePercentages"
              }
            }
          }
        ]
      },
      "ExtendedTimeInRangePercentages": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "veryLow": {
            "type": "number",
            "format": "double"
          },
          "low": {
            "type": "number",
            "format": "double"
          },
          "normal": {
            "type": "number",
            "format": "double"
          },
          "aboveTarget": {
            "type": "number",
            "format": "double"
          },
          "high": {
            "type": "number",
            "format": "double"
          },
          "veryHigh": {
            "type": "number",
            "format": "double"
          },
          "severeHigh": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "TreatmentSummary": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "totals": {
            "$ref": "#/components/schemas/TreatmentTotals"
          },
          "treatmentCount": {
            "type": "integer",
            "format": "int32"
          },
          "carbToInsulinRatio": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "TreatmentTotals": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "food": {
            "$ref": "#/components/schemas/FoodTotals"
          },
          "insulin": {
            "$ref": "#/components/schemas/InsulinTotals"
          }
        }
      },
      "FoodTotals": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "carbs": {
            "type": "number",
            "format": "double"
          },
          "protein": {
            "type": "number",
            "format": "double"
          },
          "fat": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "InsulinTotals": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "bolus": {
            "type": "number",
            "format": "double"
          },
          "basal": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "Treatment": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ProcessableDocumentBase"
          },
          {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "_id": {
                "type": "string",
                "nullable": true
              },
              "eventType": {
                "type": "string",
                "nullable": true
              },
              "reason": {
                "type": "string",
                "nullable": true
              },
              "glucose": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "glucoseType": {
                "type": "string",
                "nullable": true
              },
              "carbs": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "insulin": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "protein": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "fat": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "foodType": {
                "type": "string",
                "nullable": true
              },
              "units": {
                "type": "string",
                "nullable": true
              },
              "mills": {
                "type": "integer",
                "format": "int64"
              },
              "created_at": {
                "type": "string",
                "nullable": true
              },
              "duration": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "percent": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "absolute": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "notes": {
                "type": "string",
                "nullable": true
              },
              "enteredBy": {
                "type": "string",
                "nullable": true
              },
              "targetTop": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "targetBottom": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "profile": {
                "type": "string",
                "nullable": true
              },
              "split": {
                "type": "string",
                "nullable": true
              },
              "date": {
                "type": "integer",
                "format": "int64",
                "nullable": true
              },
              "carbTime": {
                "type": "integer",
                "format": "int32",
                "nullable": true
              },
              "boluscalc": {
                "type": "object",
                "nullable": true,
                "additionalProperties": {}
              },
              "utcOffset": {
                "type": "integer",
                "format": "int32",
                "nullable": true
              },
              "timestamp": {
                "type": "string",
                "nullable": true
              },
              "cuttedby": {
                "type": "string",
                "nullable": true
              },
              "cutting": {
                "type": "string",
                "nullable": true
              },
              "eventTime": {
                "type": "string",
                "nullable": true
              },
              "preBolus": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "rate": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "mgdl": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "mmol": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "endmills": {
                "type": "integer",
                "format": "int64",
                "nullable": true
              },
              "durationType": {
                "type": "string",
                "nullable": true
              },
              "isAnnouncement": {
                "type": "boolean",
                "nullable": true
              },
              "profileJson": {
                "type": "string",
                "nullable": true
              },
              "endprofile": {
                "type": "string",
                "nullable": true
              },
              "insulinNeedsScaleFactor": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "absorptionTime": {
                "type": "integer",
                "format": "int32",
                "nullable": true
              },
              "enteredinsulin": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "splitNow": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "splitExt": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "status": {
                "type": "string",
                "nullable": true
              },
              "relative": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "CR": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "NSCLIENT_ID": {
                "type": "string",
                "nullable": true
              },
              "first": {
                "type": "boolean",
                "nullable": true
              },
              "end": {
                "type": "boolean",
                "nullable": true
              },
              "CircadianPercentageProfile": {
                "type": "boolean",
                "nullable": true
              },
              "percentage": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "timeshift": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "transmitterId": {
                "type": "string",
                "nullable": true
              },
              "remoteCarbs": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "remoteAbsorption": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "remoteBolus": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "reasonDisplay": {
                "type": "string",
                "nullable": true
              },
              "otp": {
                "type": "string",
                "nullable": true
              },
              "syncIdentifier": {
                "type": "string",
                "nullable": true
              },
              "insulinType": {
                "type": "string",
                "nullable": true
              },
              "automatic": {
                "type": "boolean",
                "nullable": true
              },
              "temp": {
                "type": "string",
                "nullable": true
              },
              "amount": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "programmed": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "unabsorbed": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "type": {
                "type": "string",
                "nullable": true
              },
              "bolusType": {
                "type": "string",
                "nullable": true
              },
              "data_source": {
                "type": "string",
                "nullable": true
              },
              "insulinRecommendationForCarbs": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "insulinRecommendationForCorrection": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "insulinProgrammed": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "insulinDelivered": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "insulinOnBoard": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "bloodGlucoseInput": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "bloodGlucoseInputSource": {
                "type": "string",
                "nullable": true
              },
              "calculationType": {
                "nullable": true,
                "oneOf": [
                  {
                    "$ref": "#/components/schemas/CalculationType"
                  }
                ]
              },
              "additional_properties": {
                "type": "object",
                "nullable": true,
                "additionalProperties": {}
              },
              "canonicalId": {
                "type": "string",
                "format": "guid",
                "nullable": true
              },
              "sources": {
                "type": "array",
                "nullable": true,
                "items": {
                  "type": "string"
                }
              }
            }
          }
        ]
      },
      "CalculationType": {
        "type": "string",
        "description": "",
        "x-enumNames": [
          "Suggested",
          "Manual",
          "Automatic"
        ],
        "enum": [
          "Suggested",
          "Manual",
          "Automatic"
        ]
      },
      "OverallAverages": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "avgTotalDaily": {
            "type": "number",
            "format": "double"
          },
          "avgBolus": {
            "type": "number",
            "format": "double"
          },
          "avgBasal": {
            "type": "number",
            "format": "double"
          },
          "bolusPercentage": {
            "type": "number",
            "format": "double"
          },
          "basalPercentage": {
            "type": "number",
            "format": "double"
          },
          "avgCarbs": {
            "type": "number",
            "format": "double"
          },
          "avgProtein": {
            "type": "number",
            "format": "double"
          },
          "avgFat": {
            "type": "number",
            "format": "double"
          },
          "avgTimeInRange": {
            "type": "number",
            "format": "double"
          },
          "avgTightTimeInRange": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "DayData": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "date": {
            "type": "string"
          },
          "treatments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Treatment"
            }
          },
          "treatmentSummary": {
            "$ref": "#/components/schemas/TreatmentSummary"
          },
          "timeInRanges": {
            "$ref": "#/components/schemas/TimeInRangeMetrics"
          }
        }
      },
      "GlucoseAnalytics": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "basicStats": {
            "$ref": "#/components/schemas/BasicGlucoseStats"
          },
          "timeInRange": {
            "$ref": "#/components/schemas/TimeInRangeMetrics"
          },
          "glycemicVariability": {
            "$ref": "#/components/schemas/GlycemicVariability"
          },
          "dataQuality": {
            "$ref": "#/components/schemas/DataQuality"
          },
          "time": {
            "$ref": "#/components/schemas/AnalysisTime"
          }
        }
      },
      "DataQuality": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "totalReadings": {
            "type": "integer",
            "format": "int32"
          },
          "missingReadings": {
            "type": "integer",
            "format": "int32"
          },
          "dataCompleteness": {
            "type": "number",
            "format": "double"
          },
          "cgmActivePercent": {
            "type": "number",
            "format": "double"
          },
          "gapAnalysis": {
            "$ref": "#/components/schemas/GapAnalysis"
          },
          "noiseLevel": {
            "type": "number",
            "format": "double"
          },
          "calibrationEvents": {
            "type": "integer",
            "format": "int32"
          },
          "sensorWarmups": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "GapAnalysis": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "gaps": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DataGap"
            }
          },
          "longestGap": {
            "type": "number",
            "format": "double"
          },
          "averageGap": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "DataGap": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "start": {
            "type": "integer",
            "format": "int64"
          },
          "end": {
            "type": "integer",
            "format": "int64"
          },
          "duration": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "AnalysisTime": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "start": {
            "type": "integer",
            "format": "int64"
          },
          "end": {
            "type": "integer",
            "format": "int64"
          },
          "timeOfAnalysis": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "GlucoseAnalyticsRequest": {
        "type": "object",
        "description": "Request model for comprehensive glucose analytics",
        "additionalProperties": false,
        "properties": {
          "entries": {
            "type": "array",
            "description": "Collection of glucose entries",
            "items": {
              "$ref": "#/components/schemas/Entry"
            }
          },
          "treatments": {
            "type": "array",
            "description": "Optional collection of treatments",
            "nullable": true,
            "items": {
              "$ref": "#/components/schemas/Treatment"
            }
          },
          "config": {
            "description": "Optional extended analysis configuration",
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/ExtendedAnalysisConfig"
              }
            ]
          }
        }
      },
      "ExtendedAnalysisConfig": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "thresholds": {
            "$ref": "#/components/schemas/GlycemicThresholds"
          },
          "sensorType": {
            "type": "string"
          },
          "includeLoopingMetrics": {
            "type": "boolean"
          },
          "units": {
            "type": "string"
          }
        }
      },
      "ExtendedGlucoseAnalytics": {
        "allOf": [
          {
            "$ref": "#/components/schemas/GlucoseAnalytics"
          },
          {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "gmi": {
                "$ref": "#/components/schemas/GlucoseManagementIndicator"
              },
              "gri": {
                "$ref": "#/components/schemas/GlycemicRiskIndex"
              },
              "timeOfDayPatterns": {
                "$ref": "#/components/schemas/TimeOfDayAnalysis"
              },
              "dayOfWeekPatterns": {
                "$ref": "#/components/schemas/DayOfWeekAnalysis"
              },
              "hypoglycemiaAnalysis": {
                "$ref": "#/components/schemas/HypoglycemiaAnalysis"
              },
              "hyperglycemiaAnalysis": {
                "$ref": "#/components/schemas/HyperglycemiaAnalysis"
              },
              "clinicalAssessment": {
                "$ref": "#/components/schemas/ClinicalTargetAssessment"
              },
              "dataSufficiency": {
                "$ref": "#/components/schemas/DataSufficiencyAssessment"
              },
              "treatmentSummary": {
                "nullable": true,
                "oneOf": [
                  {
                    "$ref": "#/components/schemas/TreatmentSummary"
                  }
                ]
              }
            }
          }
        ]
      },
      "GlucoseManagementIndicator": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "value": {
            "type": "number",
            "format": "double"
          },
          "meanGlucose": {
            "type": "number",
            "format": "double"
          },
          "interpretation": {
            "type": "string"
          }
        }
      },
      "GlycemicRiskIndex": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "score": {
            "type": "number",
            "format": "double"
          },
          "hypoglycemiaComponent": {
            "type": "number",
            "format": "double"
          },
          "hyperglycemiaComponent": {
            "type": "number",
            "format": "double"
          },
          "zone": {
            "$ref": "#/components/schemas/GRIZone"
          },
          "interpretation": {
            "type": "string"
          }
        }
      },
      "GRIZone": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "A",
          "B",
          "C",
          "D",
          "E"
        ],
        "enum": [
          0,
          1,
          2,
          3,
          4
        ]
      },
      "TimeOfDayAnalysis": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "overnight": {
            "$ref": "#/components/schemas/PeriodMetrics"
          },
          "morning": {
            "$ref": "#/components/schemas/PeriodMetrics"
          },
          "afternoon": {
            "$ref": "#/components/schemas/PeriodMetrics"
          },
          "evening": {
            "$ref": "#/components/schemas/PeriodMetrics"
          },
          "dawnPhenomenonDetected": {
            "type": "boolean"
          },
          "dawnPhenomenonMagnitude": {
            "type": "number",
            "format": "double"
          },
          "highestVariabilityPeriod": {
            "type": "string"
          },
          "lowestTIRPeriod": {
            "type": "string"
          },
          "mostHypoglycemiaPeriod": {
            "type": "string"
          }
        }
      },
      "DayOfWeekAnalysis": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "dayMetrics": {
            "type": "object",
            "x-dictionaryKey": {
              "$ref": "#/components/schemas/DayOfWeek"
            },
            "additionalProperties": {
              "$ref": "#/components/schemas/DayMetrics"
            }
          },
          "weekdayAverage": {
            "$ref": "#/components/schemas/PeriodMetrics"
          },
          "weekendAverage": {
            "$ref": "#/components/schemas/PeriodMetrics"
          },
          "highestVariabilityDay": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/DayOfWeek"
              }
            ]
          },
          "lowestTIRDay": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/DayOfWeek"
              }
            ]
          },
          "weekdayWeekendDifference": {
            "type": "boolean"
          },
          "patternDescription": {
            "type": "string"
          }
        }
      },
      "DayOfWeek": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "Sunday",
          "Monday",
          "Tuesday",
          "Wednesday",
          "Thursday",
          "Friday",
          "Saturday"
        ],
        "enum": [
          0,
          1,
          2,
          3,
          4,
          5,
          6
        ]
      },
      "DayMetrics": {
        "allOf": [
          {
            "$ref": "#/components/schemas/PeriodMetrics"
          },
          {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "dayOfWeek": {
                "$ref": "#/components/schemas/DayOfWeek"
              }
            }
          }
        ]
      },
      "HypoglycemiaAnalysis": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "totalEpisodes": {
            "type": "integer",
            "format": "int32"
          },
          "severeEpisodes": {
            "type": "integer",
            "format": "int32"
          },
          "episodesPerDay": {
            "type": "number",
            "format": "double"
          },
          "averageDurationMinutes": {
            "type": "number",
            "format": "double"
          },
          "averageNadir": {
            "type": "number",
            "format": "double"
          },
          "lowestGlucose": {
            "type": "number",
            "format": "double"
          },
          "averageRecoveryTimeMinutes": {
            "type": "number",
            "format": "double"
          },
          "hourlyDistribution": {
            "type": "object",
            "additionalProperties": {
              "type": "integer",
              "format": "int32"
            }
          },
          "dayOfWeekDistribution": {
            "type": "object",
            "x-dictionaryKey": {
              "$ref": "#/components/schemas/DayOfWeek"
            },
            "additionalProperties": {
              "type": "integer",
              "format": "int32"
            }
          },
          "peakHour": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "peakDay": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/DayOfWeek"
              }
            ]
          },
          "hasRecurringPattern": {
            "type": "boolean"
          },
          "patternDescription": {
            "type": "string"
          },
          "episodes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/HypoglycemiaEpisode"
            }
          },
          "nocturnalEpisodes": {
            "type": "integer",
            "format": "int32"
          },
          "nocturnalPercentage": {
            "type": "number",
            "format": "double"
          },
          "riskAssessment": {
            "type": "string"
          }
        }
      },
      "HypoglycemiaEpisode": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "startTime": {
            "type": "integer",
            "format": "int64"
          },
          "endTime": {
            "type": "integer",
            "format": "int64"
          },
          "durationMinutes": {
            "type": "number",
            "format": "double"
          },
          "nadirValue": {
            "type": "number",
            "format": "double"
          },
          "nadirTime": {
            "type": "integer",
            "format": "int64"
          },
          "isSevere": {
            "type": "boolean"
          },
          "hourOfDay": {
            "type": "integer",
            "format": "int32"
          },
          "dayOfWeek": {
            "$ref": "#/components/schemas/DayOfWeek"
          },
          "recoveryTimeMinutes": {
            "type": "number",
            "format": "double"
          },
          "preEpisodeGlucose": {
            "type": "number",
            "format": "double",
            "nullable": true
          }
        }
      },
      "HyperglycemiaAnalysis": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "totalEpisodes": {
            "type": "integer",
            "format": "int32"
          },
          "severeEpisodes": {
            "type": "integer",
            "format": "int32"
          },
          "prolongedEpisodes": {
            "type": "integer",
            "format": "int32"
          },
          "episodesPerDay": {
            "type": "number",
            "format": "double"
          },
          "averageDurationMinutes": {
            "type": "number",
            "format": "double"
          },
          "averagePeak": {
            "type": "number",
            "format": "double"
          },
          "highestGlucose": {
            "type": "number",
            "format": "double"
          },
          "averageTimeToTargetMinutes": {
            "type": "number",
            "format": "double"
          },
          "hourlyDistribution": {
            "type": "object",
            "additionalProperties": {
              "type": "integer",
              "format": "int32"
            }
          },
          "dayOfWeekDistribution": {
            "type": "object",
            "x-dictionaryKey": {
              "$ref": "#/components/schemas/DayOfWeek"
            },
            "additionalProperties": {
              "type": "integer",
              "format": "int32"
            }
          },
          "peakHour": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "peakDay": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/DayOfWeek"
              }
            ]
          },
          "hasPostMealPattern": {
            "type": "boolean"
          },
          "patternDescription": {
            "type": "string"
          },
          "episodes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/HyperglycemiaEpisode"
            }
          },
          "nocturnalEpisodes": {
            "type": "integer",
            "format": "int32"
          },
          "nocturnalPercentage": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "HyperglycemiaEpisode": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "startTime": {
            "type": "integer",
            "format": "int64"
          },
          "endTime": {
            "type": "integer",
            "format": "int64"
          },
          "durationMinutes": {
            "type": "number",
            "format": "double"
          },
          "peakValue": {
            "type": "number",
            "format": "double"
          },
          "peakTime": {
            "type": "integer",
            "format": "int64"
          },
          "isSevere": {
            "type": "boolean"
          },
          "isProlonged": {
            "type": "boolean"
          },
          "hourOfDay": {
            "type": "integer",
            "format": "int32"
          },
          "dayOfWeek": {
            "$ref": "#/components/schemas/DayOfWeek"
          },
          "timeToTargetMinutes": {
            "type": "number",
            "format": "double"
          },
          "averageGlucose": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "ClinicalTargetAssessment": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "population": {
            "$ref": "#/components/schemas/DiabetesPopulation"
          },
          "targets": {
            "$ref": "#/components/schemas/ClinicalTargets"
          },
          "tirAssessment": {
            "$ref": "#/components/schemas/TargetAssessment"
          },
          "tbrAssessment": {
            "$ref": "#/components/schemas/TargetAssessment"
          },
          "veryLowAssessment": {
            "$ref": "#/components/schemas/TargetAssessment"
          },
          "tarAssessment": {
            "$ref": "#/components/schemas/TargetAssessment"
          },
          "veryHighAssessment": {
            "$ref": "#/components/schemas/TargetAssessment"
          },
          "cvAssessment": {
            "$ref": "#/components/schemas/TargetAssessment"
          },
          "targetsMet": {
            "type": "integer",
            "format": "int32"
          },
          "totalTargets": {
            "type": "integer",
            "format": "int32"
          },
          "overallAssessment": {
            "type": "string"
          },
          "actionableInsights": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "priorityAreas": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "strengths": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "DiabetesPopulation": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "Type1Adult",
          "Type2Adult",
          "Type1Pediatric",
          "Elderly",
          "Pregnancy",
          "PregnancyType1"
        ],
        "enum": [
          0,
          1,
          2,
          3,
          4,
          5
        ]
      },
      "ClinicalTargets": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "targetTIR": {
            "type": "number",
            "format": "double"
          },
          "maxTBR": {
            "type": "number",
            "format": "double"
          },
          "maxTBRVeryLow": {
            "type": "number",
            "format": "double"
          },
          "maxTAR": {
            "type": "number",
            "format": "double"
          },
          "maxTARVeryHigh": {
            "type": "number",
            "format": "double"
          },
          "targetCV": {
            "type": "number",
            "format": "double"
          },
          "targetLow": {
            "type": "number",
            "format": "double"
          },
          "targetHigh": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "TargetAssessment": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "metricName": {
            "type": "string"
          },
          "currentValue": {
            "type": "number",
            "format": "double"
          },
          "targetValue": {
            "type": "number",
            "format": "double"
          },
          "isMaximumTarget": {
            "type": "boolean"
          },
          "status": {
            "$ref": "#/components/schemas/TargetStatus"
          },
          "differenceFromTarget": {
            "type": "number",
            "format": "double"
          },
          "progressPercentage": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "TargetStatus": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "Met",
          "Close",
          "NotMet"
        ],
        "enum": [
          0,
          1,
          2
        ]
      },
      "DataSufficiencyAssessment": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "isSufficient": {
            "type": "boolean"
          },
          "totalDays": {
            "type": "integer",
            "format": "int32"
          },
          "daysWithData": {
            "type": "integer",
            "format": "int32"
          },
          "expectedReadings": {
            "type": "integer",
            "format": "int32"
          },
          "actualReadings": {
            "type": "integer",
            "format": "int32"
          },
          "completenessPercentage": {
            "type": "number",
            "format": "double"
          },
          "minimumRequiredCompleteness": {
            "type": "number",
            "format": "double"
          },
          "averageReadingsPerDay": {
            "type": "number",
            "format": "double"
          },
          "longestGapHours": {
            "type": "number",
            "format": "double"
          },
          "warningMessage": {
            "type": "string"
          },
          "recommendation": {
            "type": "string"
          }
        }
      },
      "ExtendedGlucoseAnalyticsRequest": {
        "type": "object",
        "description": "Request model for extended glucose analytics with GMI, GRI, and clinical assessment",
        "additionalProperties": false,
        "properties": {
          "entries": {
            "type": "array",
            "description": "Collection of glucose entries",
            "items": {
              "$ref": "#/components/schemas/Entry"
            }
          },
          "treatments": {
            "type": "array",
            "description": "Optional collection of treatments",
            "nullable": true,
            "items": {
              "$ref": "#/components/schemas/Treatment"
            }
          },
          "population": {
            "description": "Diabetes population type for clinical target assessment",
            "oneOf": [
              {
                "$ref": "#/components/schemas/DiabetesPopulation"
              }
            ]
          },
          "config": {
            "description": "Optional extended analysis configuration",
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/ExtendedAnalysisConfig"
              }
            ]
          }
        }
      },
      "ClinicalAssessmentRequest": {
        "type": "object",
        "description": "Request model for clinical assessment",
        "additionalProperties": false,
        "properties": {
          "analytics": {
            "description": "Glucose analytics to assess",
            "oneOf": [
              {
                "$ref": "#/components/schemas/GlucoseAnalytics"
              }
            ]
          },
          "population": {
            "description": "Diabetes population type for clinical target assessment",
            "oneOf": [
              {
                "$ref": "#/components/schemas/DiabetesPopulation"
              }
            ]
          }
        }
      },
      "DataSufficiencyRequest": {
        "type": "object",
        "description": "Request model for data sufficiency assessment",
        "additionalProperties": false,
        "properties": {
          "entries": {
            "type": "array",
            "description": "Collection of glucose entries",
            "items": {
              "$ref": "#/components/schemas/Entry"
            }
          },
          "days": {
            "type": "integer",
            "description": "Number of days to assess (default: 14)",
            "format": "int32"
          },
          "expectedReadingsPerDay": {
            "type": "integer",
            "description": "Expected readings per day based on sensor type (default: 288 for 5-minute intervals)",
            "format": "int32"
          }
        }
      },
      "MultiPeriodStatistics": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "lastDay": {
            "$ref": "#/components/schemas/PeriodStatistics"
          },
          "last3Days": {
            "$ref": "#/components/schemas/PeriodStatistics"
          },
          "lastWeek": {
            "$ref": "#/components/schemas/PeriodStatistics"
          },
          "lastMonth": {
            "$ref": "#/components/schemas/PeriodStatistics"
          },
          "last90Days": {
            "$ref": "#/components/schemas/PeriodStatistics"
          },
          "lastUpdated": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "PeriodStatistics": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "periodDays": {
            "type": "integer",
            "format": "int32"
          },
          "startDate": {
            "type": "string",
            "format": "date-time"
          },
          "endDate": {
            "type": "string",
            "format": "date-time"
          },
          "analytics": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/GlucoseAnalytics"
              }
            ]
          },
          "treatmentSummary": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/TreatmentSummary"
              }
            ]
          },
          "hasSufficientData": {
            "type": "boolean"
          },
          "entryCount": {
            "type": "integer",
            "format": "int32"
          },
          "treatmentCount": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "SiteChangeImpactAnalysis": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "siteChangeCount": {
            "type": "integer",
            "format": "int32"
          },
          "dataPoints": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SiteChangeImpactDataPoint"
            }
          },
          "summary": {
            "$ref": "#/components/schemas/SiteChangeImpactSummary"
          },
          "hoursBeforeChange": {
            "type": "integer",
            "format": "int32"
          },
          "hoursAfterChange": {
            "type": "integer",
            "format": "int32"
          },
          "bucketSizeMinutes": {
            "type": "integer",
            "format": "int32"
          },
          "hasSufficientData": {
            "type": "boolean"
          }
        }
      },
      "SiteChangeImpactDataPoint": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "minutesFromChange": {
            "type": "integer",
            "format": "int32"
          },
          "averageGlucose": {
            "type": "number",
            "format": "double"
          },
          "medianGlucose": {
            "type": "number",
            "format": "double"
          },
          "stdDev": {
            "type": "number",
            "format": "double"
          },
          "count": {
            "type": "integer",
            "format": "int32"
          },
          "percentile10": {
            "type": "number",
            "format": "double"
          },
          "percentile25": {
            "type": "number",
            "format": "double"
          },
          "percentile75": {
            "type": "number",
            "format": "double"
          },
          "percentile90": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "SiteChangeImpactSummary": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "avgGlucoseBeforeChange": {
            "type": "number",
            "format": "double"
          },
          "avgGlucoseAfterChange": {
            "type": "number",
            "format": "double"
          },
          "percentImprovement": {
            "type": "number",
            "format": "double"
          },
          "timeInRangeBeforeChange": {
            "type": "number",
            "format": "double"
          },
          "timeInRangeAfterChange": {
            "type": "number",
            "format": "double"
          },
          "cvBeforeChange": {
            "type": "number",
            "format": "double"
          },
          "cvAfterChange": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "SiteChangeImpactRequest": {
        "type": "object",
        "description": "Request model for site change impact analysis",
        "additionalProperties": false,
        "properties": {
          "entries": {
            "type": "array",
            "description": "Collection of glucose entries",
            "items": {
              "$ref": "#/components/schemas/Entry"
            }
          },
          "treatments": {
            "type": "array",
            "description": "Collection of treatments (must include site changes)",
            "items": {
              "$ref": "#/components/schemas/Treatment"
            }
          },
          "hoursBeforeChange": {
            "type": "integer",
            "description": "Hours before site change to analyze (default: 12)",
            "format": "int32"
          },
          "hoursAfterChange": {
            "type": "integer",
            "description": "Hours after site change to analyze (default: 24)",
            "format": "int32"
          },
          "bucketSizeMinutes": {
            "type": "integer",
            "description": "Time bucket size for averaging in minutes (default: 30)",
            "format": "int32"
          }
        }
      },
      "VersionsResponse": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "versions": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "OpenIdConfiguration": {
        "type": "object",
        "description": "OpenID Connect Discovery Document\nSee: https://openid.net/specs/openid-connect-discovery-1_0.html",
        "additionalProperties": false,
        "properties": {
          "issuer": {
            "type": "string"
          },
          "authorizationEndpoint": {
            "type": "string"
          },
          "tokenEndpoint": {
            "type": "string"
          },
          "userinfoEndpoint": {
            "type": "string",
            "nullable": true
          },
          "jwksUri": {
            "type": "string"
          },
          "registrationEndpoint": {
            "type": "string",
            "nullable": true
          },
          "endSessionEndpoint": {
            "type": "string",
            "nullable": true
          },
          "scopesSupported": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "responseTypesSupported": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "responseModesSupported": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "grantTypesSupported": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "subjectTypesSupported": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "idTokenSigningAlgValuesSupported": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "tokenEndpointAuthMethodsSupported": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "claimsSupported": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "codeChallengeMethodsSupported": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "serviceDocumentation": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "JsonWebKeySet": {
        "type": "object",
        "description": "JSON Web Key Set",
        "additionalProperties": false,
        "properties": {
          "keys": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/JsonWebKey"
            }
          }
        }
      },
      "JsonWebKey": {
        "type": "object",
        "description": "JSON Web Key",
        "additionalProperties": false,
        "properties": {
          "kty": {
            "type": "string"
          },
          "use": {
            "type": "string",
            "nullable": true
          },
          "alg": {
            "type": "string",
            "nullable": true
          },
          "kid": {
            "type": "string",
            "nullable": true
          },
          "n": {
            "type": "string",
            "nullable": true
          },
          "e": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "OAuthAuthorizationServerMetadata": {
        "type": "object",
        "description": "OAuth 2.0 Authorization Server Metadata\nSee: https://datatracker.ietf.org/doc/html/rfc8414",
        "additionalProperties": false,
        "properties": {
          "issuer": {
            "type": "string"
          },
          "authorizationEndpoint": {
            "type": "string"
          },
          "tokenEndpoint": {
            "type": "string"
          },
          "revocationEndpoint": {
            "type": "string",
            "nullable": true
          },
          "introspectionEndpoint": {
            "type": "string",
            "nullable": true
          },
          "jwksUri": {
            "type": "string"
          },
          "responseTypesSupported": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "grantTypesSupported": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "tokenEndpointAuthMethodsSupported": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "scopesSupported": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "codeChallengeMethodsSupported": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "serviceDocumentation": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "CurrentBatteryStatus": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "level": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "display": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "min": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/BatteryReading"
              }
            ]
          },
          "devices": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/DeviceBatteryStatus"
            }
          }
        }
      },
      "BatteryReading": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "nullable": true
          },
          "device": {
            "type": "string"
          },
          "battery": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "voltage": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "isCharging": {
            "type": "boolean"
          },
          "temperature": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "mills": {
            "type": "integer",
            "format": "int64"
          },
          "timestamp": {
            "type": "string",
            "nullable": true
          },
          "display": {
            "type": "string"
          },
          "level": {
            "type": "integer",
            "format": "int32"
          },
          "notification": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "DeviceBatteryStatus": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "uri": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "statuses": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BatteryReading"
            }
          },
          "min": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/BatteryReading"
              }
            ]
          }
        }
      },
      "BatteryStatistics": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "device": {
            "type": "string"
          },
          "displayName": {
            "type": "string"
          },
          "periodStartMills": {
            "type": "integer",
            "format": "int64"
          },
          "periodEndMills": {
            "type": "integer",
            "format": "int64"
          },
          "readingCount": {
            "type": "integer",
            "format": "int32"
          },
          "currentLevel": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "isCharging": {
            "type": "boolean"
          },
          "lastReadingMills": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "averageLevel": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "minLevel": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "maxLevel": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "chargeCycleCount": {
            "type": "integer",
            "format": "int32"
          },
          "averageChargeDurationMinutes": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "averageDischargeDurationMinutes": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "averageTimeBetweenChargesHours": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "longestDischargeDurationMinutes": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "shortestDischargeDurationMinutes": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "timeAbove80Percent": {
            "type": "number",
            "format": "double"
          },
          "timeBetween30And80Percent": {
            "type": "number",
            "format": "double"
          },
          "timeBelow30Percent": {
            "type": "number",
            "format": "double"
          },
          "timeBelow20Percent": {
            "type": "number",
            "format": "double"
          },
          "warningEventCount": {
            "type": "integer",
            "format": "int32"
          },
          "urgentEventCount": {
            "type": "integer",
            "format": "int32"
          },
          "display": {
            "type": "string"
          },
          "level": {
            "type": "integer",
            "format": "int32"
          },
          "status": {
            "type": "string"
          }
        }
      },
      "ChargeCycle": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "nullable": true
          },
          "device": {
            "type": "string"
          },
          "chargeStartMills": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "chargeStartLevel": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "chargeEndMills": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "chargeEndLevel": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "dischargeStartMills": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "dischargeStartLevel": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "dischargeEndMills": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "dischargeEndLevel": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "chargeDurationMinutes": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "dischargeDurationMinutes": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "isComplete": {
            "type": "boolean"
          }
        }
      },
      "DashboardChartData": {
        "type": "object",
        "description": "Dashboard chart data response with all calculated series",
        "additionalProperties": false,
        "properties": {
          "iobSeries": {
            "type": "array",
            "description": "IOB (Insulin on Board) time series",
            "items": {
              "$ref": "#/components/schemas/TimeSeriesPoint"
            }
          },
          "cobSeries": {
            "type": "array",
            "description": "COB (Carbs on Board) time series",
            "items": {
              "$ref": "#/components/schemas/TimeSeriesPoint"
            }
          },
          "basalSeries": {
            "type": "array",
            "description": "Basal rate time series with temp basal indicators",
            "items": {
              "$ref": "#/components/schemas/BasalPoint"
            }
          },
          "defaultBasalRate": {
            "type": "number",
            "description": "Default basal rate from profile (U/hr)",
            "format": "double"
          },
          "maxBasalRate": {
            "type": "number",
            "description": "Maximum basal rate in the series (for Y-axis scaling)",
            "format": "double"
          },
          "maxIob": {
            "type": "number",
            "description": "Maximum IOB in the series (for Y-axis scaling)",
            "format": "double"
          },
          "maxCob": {
            "type": "number",
            "description": "Maximum COB in the series (for Y-axis scaling)",
            "format": "double"
          },
          "pumpModeSpans": {
            "type": "array",
            "description": "Pump mode state spans for chart background coloring",
            "items": {
              "$ref": "#/components/schemas/StateSpan"
            }
          },
          "tempBasalSpans": {
            "type": "array",
            "description": "Temp basal state spans with rate and duration metadata",
            "items": {
              "$ref": "#/components/schemas/StateSpan"
            }
          },
          "profileSpans": {
            "type": "array",
            "description": "Profile state spans showing active profile changes",
            "items": {
              "$ref": "#/components/schemas/StateSpan"
            }
          }
        }
      },
      "TimeSeriesPoint": {
        "type": "object",
        "description": "Time series data point with timestamp and value",
        "additionalProperties": false,
        "properties": {
          "timestamp": {
            "type": "integer",
            "description": "Timestamp in Unix milliseconds",
            "format": "int64"
          },
          "value": {
            "type": "number",
            "description": "Value at this timestamp",
            "format": "double"
          }
        }
      },
      "BasalPoint": {
        "type": "object",
        "description": "Basal rate data point",
        "additionalProperties": false,
        "properties": {
          "timestamp": {
            "type": "integer",
            "description": "Timestamp in Unix milliseconds",
            "format": "int64"
          },
          "rate": {
            "type": "number",
            "description": "Effective basal rate in U/hr (includes temp basals and combo bolus)",
            "format": "double"
          },
          "scheduledRate": {
            "type": "number",
            "description": "Scheduled basal rate from profile in U/hr (without temp basal modifications)",
            "format": "double"
          },
          "isTemp": {
            "type": "boolean",
            "description": "Whether this is a temporary basal rate"
          }
        }
      },
      "StateSpan": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "nullable": true
          },
          "category": {
            "$ref": "#/components/schemas/StateSpanCategory"
          },
          "state": {
            "type": "string",
            "nullable": true
          },
          "startMills": {
            "type": "integer",
            "format": "int64"
          },
          "endMills": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "source": {
            "type": "string",
            "nullable": true
          },
          "metadata": {
            "type": "object",
            "nullable": true,
            "additionalProperties": {}
          },
          "originalId": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "canonicalId": {
            "type": "string",
            "format": "guid",
            "nullable": true
          },
          "sources": {
            "type": "array",
            "nullable": true,
            "items": {
              "type": "string"
            }
          }
        }
      },
      "StateSpanCategory": {
        "type": "string",
        "description": "",
        "x-enumNames": [
          "PumpMode",
          "PumpConnectivity",
          "Override",
          "Profile",
          "TempBasal",
          "Sleep",
          "Exercise",
          "Illness",
          "Travel"
        ],
        "enum": [
          "PumpMode",
          "PumpConnectivity",
          "Override",
          "Profile",
          "TempBasal",
          "Sleep",
          "Exercise",
          "Illness",
          "Travel"
        ]
      },
      "ProxyConfigurationDto": {
        "type": "object",
        "description": "Proxy configuration DTO",
        "additionalProperties": false,
        "properties": {
          "nightscoutUrl": {
            "type": "string"
          },
          "defaultStrategy": {
            "type": "string"
          },
          "enableDetailedLogging": {
            "type": "boolean"
          }
        }
      },
      "CompatibilityMetrics": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "totalRequests": {
            "type": "integer",
            "format": "int32"
          },
          "perfectMatches": {
            "type": "integer",
            "format": "int32"
          },
          "minorDifferences": {
            "type": "integer",
            "format": "int32"
          },
          "majorDifferences": {
            "type": "integer",
            "format": "int32"
          },
          "criticalDifferences": {
            "type": "integer",
            "format": "int32"
          },
          "compatibilityScore": {
            "type": "number",
            "format": "double"
          },
          "averageNightscoutResponseTime": {
            "type": "number",
            "format": "double"
          },
          "averageNocturneResponseTime": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "EndpointMetrics": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "endpoint": {
            "type": "string"
          },
          "totalRequests": {
            "type": "integer",
            "format": "int32"
          },
          "perfectMatches": {
            "type": "integer",
            "format": "int32"
          },
          "minorDifferences": {
            "type": "integer",
            "format": "int32"
          },
          "majorDifferences": {
            "type": "integer",
            "format": "int32"
          },
          "criticalDifferences": {
            "type": "integer",
            "format": "int32"
          },
          "compatibilityScore": {
            "type": "number",
            "format": "double"
          },
          "averageNightscoutResponseTime": {
            "type": "number",
            "format": "double"
          },
          "averageNocturneResponseTime": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "AnalysesListResponse": {
        "type": "object",
        "description": "Analyses list response",
        "additionalProperties": false,
        "properties": {
          "analyses": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AnalysisListItemDto"
            }
          },
          "total": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "AnalysisListItemDto": {
        "type": "object",
        "description": "Analysis list item DTO",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "format": "guid"
          },
          "correlationId": {
            "type": "string"
          },
          "analysisTimestamp": {
            "type": "string",
            "format": "date-time"
          },
          "requestMethod": {
            "type": "string"
          },
          "requestPath": {
            "type": "string"
          },
          "overallMatch": {
            "$ref": "#/components/schemas/ResponseMatchType"
          },
          "statusCodeMatch": {
            "type": "boolean"
          },
          "bodyMatch": {
            "type": "boolean"
          },
          "nightscoutStatusCode": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "nocturneStatusCode": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "nightscoutResponseTimeMs": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "nocturneResponseTimeMs": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "totalProcessingTimeMs": {
            "type": "integer",
            "format": "int64"
          },
          "summary": {
            "type": "string"
          },
          "criticalDiscrepancyCount": {
            "type": "integer",
            "format": "int32"
          },
          "majorDiscrepancyCount": {
            "type": "integer",
            "format": "int32"
          },
          "minorDiscrepancyCount": {
            "type": "integer",
            "format": "int32"
          },
          "nightscoutMissing": {
            "type": "boolean"
          },
          "nocturneMissing": {
            "type": "boolean"
          }
        }
      },
      "ResponseMatchType": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "Perfect",
          "MinorDifferences",
          "MajorDifferences",
          "CriticalDifferences",
          "NightscoutMissing",
          "NocturneMissing",
          "BothMissing",
          "ComparisonError"
        ],
        "enum": [
          0,
          1,
          2,
          3,
          4,
          5,
          6,
          7
        ]
      },
      "AnalysisDetailDto": {
        "type": "object",
        "description": "Analysis detail DTO",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "format": "guid"
          },
          "correlationId": {
            "type": "string"
          },
          "analysisTimestamp": {
            "type": "string",
            "format": "date-time"
          },
          "requestMethod": {
            "type": "string"
          },
          "requestPath": {
            "type": "string"
          },
          "overallMatch": {
            "$ref": "#/components/schemas/ResponseMatchType"
          },
          "statusCodeMatch": {
            "type": "boolean"
          },
          "bodyMatch": {
            "type": "boolean"
          },
          "nightscoutStatusCode": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "nocturneStatusCode": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "nightscoutResponseTimeMs": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "nocturneResponseTimeMs": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "totalProcessingTimeMs": {
            "type": "integer",
            "format": "int64"
          },
          "summary": {
            "type": "string"
          },
          "selectedResponseTarget": {
            "type": "string",
            "nullable": true
          },
          "selectionReason": {
            "type": "string",
            "nullable": true
          },
          "criticalDiscrepancyCount": {
            "type": "integer",
            "format": "int32"
          },
          "majorDiscrepancyCount": {
            "type": "integer",
            "format": "int32"
          },
          "minorDiscrepancyCount": {
            "type": "integer",
            "format": "int32"
          },
          "nightscoutMissing": {
            "type": "boolean"
          },
          "nocturneMissing": {
            "type": "boolean"
          },
          "errorMessage": {
            "type": "string",
            "nullable": true
          },
          "discrepancies": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DiscrepancyDetailDto"
            }
          }
        }
      },
      "DiscrepancyDetailDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "format": "guid"
          },
          "discrepancyType": {
            "$ref": "#/components/schemas/DiscrepancyType"
          },
          "severity": {
            "$ref": "#/components/schemas/DiscrepancySeverity"
          },
          "field": {
            "type": "string"
          },
          "nightscoutValue": {
            "type": "string"
          },
          "nocturneValue": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "recordedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "DiscrepancyType": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "StatusCode",
          "Header",
          "ContentType",
          "Body",
          "JsonStructure",
          "StringValue",
          "NumericValue",
          "Timestamp",
          "ArrayLength",
          "Performance"
        ],
        "enum": [
          0,
          1,
          2,
          3,
          4,
          5,
          6,
          7,
          8,
          9
        ]
      },
      "DiscrepancySeverity": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "Minor",
          "Major",
          "Critical"
        ],
        "enum": [
          0,
          1,
          2
        ]
      },
      "ManualTestResult": {
        "type": "object",
        "description": "Result of manual API comparison test",
        "additionalProperties": false,
        "properties": {
          "queryPath": {
            "type": "string",
            "description": "The API path that was tested"
          },
          "method": {
            "type": "string",
            "description": "HTTP method used"
          },
          "timestamp": {
            "type": "string",
            "description": "When the test was performed",
            "format": "date-time"
          },
          "nightscoutResponse": {
            "type": "string",
            "description": "Raw JSON response from Nightscout",
            "nullable": true
          },
          "nocturneResponse": {
            "type": "string",
            "description": "Raw JSON response from Nocturne",
            "nullable": true
          },
          "nightscoutStatusCode": {
            "type": "integer",
            "description": "HTTP status code from Nightscout",
            "format": "int32",
            "nullable": true
          },
          "nocturneStatusCode": {
            "type": "integer",
            "description": "HTTP status code from Nocturne",
            "format": "int32",
            "nullable": true
          },
          "nightscoutResponseTimeMs": {
            "type": "integer",
            "description": "Response time from Nightscout in milliseconds",
            "format": "int64"
          },
          "nocturneResponseTimeMs": {
            "type": "integer",
            "description": "Response time from Nocturne in milliseconds",
            "format": "int64"
          },
          "nightscoutError": {
            "type": "string",
            "description": "Error message if Nightscout request failed",
            "nullable": true
          },
          "nocturneError": {
            "type": "string",
            "description": "Error message if Nocturne request failed",
            "nullable": true
          }
        }
      },
      "ManualTestRequest": {
        "type": "object",
        "description": "Request for manual API comparison test",
        "additionalProperties": false,
        "properties": {
          "nightscoutUrl": {
            "type": "string",
            "description": "Base URL of the Nightscout server to compare against"
          },
          "apiSecret": {
            "type": "string",
            "description": "API secret (SHA1 hash or plain text)",
            "nullable": true
          },
          "queryPath": {
            "type": "string",
            "description": "API path to test (e.g., /api/v1/entries?count=10)"
          },
          "method": {
            "type": "string",
            "description": "HTTP method (GET, POST, etc.) - defaults to GET",
            "nullable": true
          },
          "requestBody": {
            "type": "string",
            "description": "Optional request body for POST/PUT requests",
            "nullable": true
          }
        }
      },
      "ConnectorFoodEntry": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "format": "guid"
          },
          "connectorSource": {
            "type": "string"
          },
          "externalEntryId": {
            "type": "string"
          },
          "externalFoodId": {
            "type": "string"
          },
          "foodId": {
            "type": "string",
            "format": "guid",
            "nullable": true
          },
          "food": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/Food"
              }
            ]
          },
          "consumedAt": {
            "type": "string",
            "format": "date-time"
          },
          "loggedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "mealName": {
            "type": "string"
          },
          "carbs": {
            "type": "number",
            "format": "decimal"
          },
          "protein": {
            "type": "number",
            "format": "decimal"
          },
          "fat": {
            "type": "number",
            "format": "decimal"
          },
          "energy": {
            "type": "number",
            "format": "decimal"
          },
          "servings": {
            "type": "number",
            "format": "decimal"
          },
          "servingDescription": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "$ref": "#/components/schemas/ConnectorFoodEntryStatus"
          },
          "matchedTreatmentId": {
            "type": "string",
            "format": "guid",
            "nullable": true
          },
          "resolvedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        }
      },
      "Food": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "_id": {
            "type": "string",
            "nullable": true
          },
          "type": {
            "type": "string"
          },
          "category": {
            "type": "string"
          },
          "subcategory": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "portion": {
            "type": "number",
            "format": "double"
          },
          "carbs": {
            "type": "number",
            "format": "double"
          },
          "fat": {
            "type": "number",
            "format": "double"
          },
          "protein": {
            "type": "number",
            "format": "double"
          },
          "energy": {
            "type": "number",
            "format": "double"
          },
          "gi": {
            "type": "integer",
            "format": "int32"
          },
          "unit": {
            "type": "string"
          },
          "foods": {
            "type": "array",
            "nullable": true,
            "items": {
              "$ref": "#/components/schemas/QuickPickFood"
            }
          },
          "hideafteruse": {
            "type": "boolean"
          },
          "hidden": {
            "type": "boolean"
          },
          "position": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "QuickPickFood": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "name": {
            "type": "string"
          },
          "portion": {
            "type": "number",
            "format": "double"
          },
          "carbs": {
            "type": "number",
            "format": "double"
          },
          "unit": {
            "type": "string"
          },
          "portions": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "ConnectorFoodEntryStatus": {
        "type": "string",
        "description": "",
        "x-enumNames": [
          "Pending",
          "Matched",
          "Standalone",
          "Deleted"
        ],
        "enum": [
          "Pending",
          "Matched",
          "Standalone",
          "Deleted"
        ]
      },
      "ConnectorFoodEntryImport": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "connectorSource": {
            "type": "string"
          },
          "externalEntryId": {
            "type": "string"
          },
          "externalFoodId": {
            "type": "string"
          },
          "consumedAt": {
            "type": "string",
            "format": "date-time"
          },
          "loggedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "mealName": {
            "type": "string"
          },
          "carbs": {
            "type": "number",
            "format": "decimal"
          },
          "protein": {
            "type": "number",
            "format": "decimal"
          },
          "fat": {
            "type": "number",
            "format": "decimal"
          },
          "energy": {
            "type": "number",
            "format": "decimal"
          },
          "servings": {
            "type": "number",
            "format": "decimal"
          },
          "servingDescription": {
            "type": "string",
            "nullable": true
          },
          "food": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/ConnectorFoodImport"
              }
            ]
          }
        }
      },
      "ConnectorFoodImport": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "externalId": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "brandName": {
            "type": "string",
            "nullable": true
          },
          "carbs": {
            "type": "number",
            "format": "decimal"
          },
          "protein": {
            "type": "number",
            "format": "decimal"
          },
          "fat": {
            "type": "number",
            "format": "decimal"
          },
          "energy": {
            "type": "number",
            "format": "decimal"
          },
          "portion": {
            "type": "number",
            "format": "decimal"
          },
          "unit": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "DeduplicationJobResponse": {
        "type": "object",
        "description": "Response for starting a deduplication job",
        "additionalProperties": false,
        "properties": {
          "jobId": {
            "type": "string",
            "format": "guid"
          },
          "message": {
            "type": "string"
          },
          "statusUrl": {
            "type": "string"
          }
        }
      },
      "DeduplicationJobStatus": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "jobId": {
            "type": "string",
            "format": "guid"
          },
          "state": {
            "$ref": "#/components/schemas/DeduplicationJobState"
          },
          "startedAt": {
            "type": "string",
            "format": "date-time"
          },
          "completedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "progress": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/DeduplicationProgress"
              }
            ]
          },
          "result": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/DeduplicationResult"
              }
            ]
          }
        }
      },
      "DeduplicationJobState": {
        "type": "string",
        "description": "",
        "x-enumNames": [
          "Pending",
          "Running",
          "Completed",
          "Failed",
          "Cancelled"
        ],
        "enum": [
          "Pending",
          "Running",
          "Completed",
          "Failed",
          "Cancelled"
        ]
      },
      "DeduplicationProgress": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "totalRecords": {
            "type": "integer",
            "format": "int32"
          },
          "processedRecords": {
            "type": "integer",
            "format": "int32"
          },
          "groupsFound": {
            "type": "integer",
            "format": "int32"
          },
          "recordsLinked": {
            "type": "integer",
            "format": "int32"
          },
          "currentPhase": {
            "type": "string"
          },
          "percentComplete": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "DeduplicationResult": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "totalRecordsProcessed": {
            "type": "integer",
            "format": "int32"
          },
          "canonicalGroupsCreated": {
            "type": "integer",
            "format": "int32"
          },
          "recordsLinked": {
            "type": "integer",
            "format": "int32"
          },
          "duplicateGroupsFound": {
            "type": "integer",
            "format": "int32"
          },
          "duration": {
            "type": "string",
            "format": "duration"
          },
          "entriesProcessed": {
            "type": "integer",
            "format": "int32"
          },
          "treatmentsProcessed": {
            "type": "integer",
            "format": "int32"
          },
          "stateSpansProcessed": {
            "type": "integer",
            "format": "int32"
          },
          "success": {
            "type": "boolean"
          },
          "errorMessage": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "CancelJobResponse": {
        "type": "object",
        "description": "Response for cancelling a job",
        "additionalProperties": false,
        "properties": {
          "jobId": {
            "type": "string",
            "format": "guid"
          },
          "cancelled": {
            "type": "boolean"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "LinkedRecordsResponse": {
        "type": "object",
        "description": "Response containing linked records for a canonical group",
        "additionalProperties": false,
        "properties": {
          "canonicalId": {
            "type": "string",
            "format": "guid"
          },
          "recordType": {
            "$ref": "#/components/schemas/RecordType"
          },
          "linkedRecords": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/LinkedRecord"
            }
          }
        }
      },
      "RecordType": {
        "type": "string",
        "description": "",
        "x-enumNames": [
          "Entry",
          "Treatment",
          "StateSpan"
        ],
        "enum": [
          "Entry",
          "Treatment",
          "StateSpan"
        ]
      },
      "LinkedRecord": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "nullable": true
          },
          "canonicalId": {
            "type": "string",
            "format": "guid"
          },
          "recordType": {
            "$ref": "#/components/schemas/RecordType"
          },
          "recordId": {
            "type": "string",
            "format": "guid"
          },
          "sourceTimestamp": {
            "type": "integer",
            "format": "int64"
          },
          "dataSource": {
            "type": "string"
          },
          "isPrimary": {
            "type": "boolean"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "DeviceAlert": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "format": "guid"
          },
          "deviceId": {
            "type": "string"
          },
          "userId": {
            "type": "string"
          },
          "alertType": {
            "$ref": "#/components/schemas/DeviceAlertType"
          },
          "severity": {
            "$ref": "#/components/schemas/DeviceIssueSeverity"
          },
          "title": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "triggerTime": {
            "type": "string",
            "format": "date-time"
          },
          "acknowledged": {
            "type": "boolean"
          },
          "acknowledgedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": {}
          }
        }
      },
      "DeviceAlertType": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "BatteryWarning",
          "BatteryCritical",
          "SensorExpirationWarning",
          "SensorExpired",
          "CalibrationReminder",
          "CalibrationOverdue",
          "DataGapDetected",
          "CommunicationFailure",
          "DeviceError",
          "MaintenanceRequired"
        ],
        "enum": [
          0,
          1,
          2,
          3,
          4,
          5,
          6,
          7,
          8,
          9
        ]
      },
      "DeviceIssueSeverity": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "Low",
          "Medium",
          "High",
          "Critical"
        ],
        "enum": [
          0,
          1,
          2,
          3
        ]
      },
      "DeviceAlertSummary": {
        "type": "object",
        "description": "Device alert summary model",
        "additionalProperties": false,
        "properties": {
          "totalDevices": {
            "type": "integer",
            "description": "Total number of registered devices",
            "format": "int32"
          },
          "activeAlerts": {
            "type": "integer",
            "description": "Number of active alerts",
            "format": "int32"
          },
          "criticalAlerts": {
            "type": "integer",
            "description": "Number of critical alerts",
            "format": "int32"
          },
          "warningAlerts": {
            "type": "integer",
            "description": "Number of warning alerts",
            "format": "int32"
          },
          "alertsByType": {
            "type": "object",
            "description": "Alerts grouped by type",
            "x-dictionaryKey": {
              "$ref": "#/components/schemas/DeviceAlertType"
            },
            "additionalProperties": {
              "type": "integer",
              "format": "int32"
            }
          }
        }
      },
      "DeviceAlertSettings": {
        "type": "object",
        "description": "Device alert settings model",
        "additionalProperties": false,
        "properties": {
          "emailEnabled": {
            "type": "boolean",
            "description": "Enable email notifications"
          },
          "pushEnabled": {
            "type": "boolean",
            "description": "Enable push notifications"
          },
          "smsEnabled": {
            "type": "boolean",
            "description": "Enable SMS notifications"
          },
          "quietHoursEnabled": {
            "type": "boolean",
            "description": "Enable quiet hours"
          },
          "quietHoursStart": {
            "type": "string",
            "description": "Quiet hours start time",
            "format": "duration"
          },
          "quietHoursEnd": {
            "type": "string",
            "description": "Quiet hours end time",
            "format": "duration"
          },
          "criticalAlertsOverrideQuietHours": {
            "type": "boolean",
            "description": "Critical alerts override quiet hours"
          },
          "batteryLowThreshold": {
            "type": "integer",
            "description": "Battery low threshold percentage",
            "format": "int32"
          },
          "sensorExpirationWarningHours": {
            "type": "integer",
            "description": "Sensor expiration warning hours",
            "format": "int32"
          },
          "dataGapWarningMinutes": {
            "type": "integer",
            "description": "Data gap warning minutes",
            "format": "int32"
          },
          "calibrationReminderHours": {
            "type": "integer",
            "description": "Calibration reminder hours",
            "format": "int32"
          }
        }
      },
      "DeviceHealth": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "format": "guid"
          },
          "userId": {
            "type": "string"
          },
          "deviceId": {
            "type": "string"
          },
          "deviceType": {
            "$ref": "#/components/schemas/DeviceType"
          },
          "deviceName": {
            "type": "string"
          },
          "manufacturer": {
            "type": "string",
            "nullable": true
          },
          "model": {
            "type": "string",
            "nullable": true
          },
          "serialNumber": {
            "type": "string",
            "nullable": true
          },
          "batteryLevel": {
            "type": "number",
            "format": "decimal",
            "nullable": true
          },
          "sensorExpiration": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "lastCalibration": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "lastDataReceived": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "lastMaintenanceAlert": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "batteryWarningThreshold": {
            "type": "number",
            "format": "decimal"
          },
          "sensorExpirationWarningHours": {
            "type": "integer",
            "format": "int32"
          },
          "dataGapWarningMinutes": {
            "type": "integer",
            "format": "int32"
          },
          "calibrationReminderHours": {
            "type": "integer",
            "format": "int32"
          },
          "status": {
            "$ref": "#/components/schemas/DeviceStatusType"
          },
          "lastErrorMessage": {
            "type": "string",
            "nullable": true
          },
          "lastStatusUpdate": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "DeviceType": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "CGM",
          "InsulinPump",
          "BGM",
          "Unknown"
        ],
        "enum": [
          0,
          1,
          2,
          3
        ]
      },
      "DeviceStatusType": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "Active",
          "Inactive",
          "Warning",
          "Error",
          "Maintenance"
        ],
        "enum": [
          0,
          1,
          2,
          3,
          4
        ]
      },
      "DeviceRegistrationRequest": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "deviceId": {
            "type": "string"
          },
          "deviceType": {
            "$ref": "#/components/schemas/DeviceType"
          },
          "deviceName": {
            "type": "string"
          },
          "manufacturer": {
            "type": "string",
            "nullable": true
          },
          "model": {
            "type": "string",
            "nullable": true
          },
          "serialNumber": {
            "type": "string",
            "nullable": true
          },
          "batteryLevel": {
            "type": "number",
            "format": "decimal",
            "nullable": true
          },
          "sensorExpiration": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        }
      },
      "DeviceSettingsUpdate": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "batteryWarningThreshold": {
            "type": "number",
            "format": "decimal",
            "nullable": true
          },
          "sensorExpirationWarningHours": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "dataGapWarningMinutes": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "calibrationReminderHours": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        }
      },
      "DeviceHealthUpdate": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "batteryLevel": {
            "type": "number",
            "format": "decimal",
            "nullable": true
          },
          "sensorExpiration": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "lastCalibration": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "status": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/DeviceStatusType"
              }
            ]
          },
          "lastErrorMessage": {
            "type": "string",
            "nullable": true
          },
          "deviceSpecificData": {
            "type": "object",
            "nullable": true,
            "additionalProperties": {}
          }
        }
      },
      "DiscrepancyAnalysisDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "format": "guid"
          },
          "correlationId": {
            "type": "string"
          },
          "analysisTimestamp": {
            "type": "string",
            "format": "date-time"
          },
          "requestMethod": {
            "type": "string"
          },
          "requestPath": {
            "type": "string"
          },
          "overallMatch": {
            "type": "integer",
            "format": "int32"
          },
          "statusCodeMatch": {
            "type": "boolean"
          },
          "bodyMatch": {
            "type": "boolean"
          },
          "nightscoutStatusCode": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "nocturneStatusCode": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "nightscoutResponseTimeMs": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "nocturneResponseTimeMs": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "totalProcessingTimeMs": {
            "type": "integer",
            "format": "int64"
          },
          "summary": {
            "type": "string"
          },
          "selectedResponseTarget": {
            "type": "string",
            "nullable": true
          },
          "selectionReason": {
            "type": "string",
            "nullable": true
          },
          "criticalDiscrepancyCount": {
            "type": "integer",
            "format": "int32"
          },
          "majorDiscrepancyCount": {
            "type": "integer",
            "format": "int32"
          },
          "minorDiscrepancyCount": {
            "type": "integer",
            "format": "int32"
          },
          "nightscoutMissing": {
            "type": "boolean"
          },
          "nocturneMissing": {
            "type": "boolean"
          },
          "errorMessage": {
            "type": "string",
            "nullable": true
          },
          "discrepancies": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DiscrepancyDetailDto"
            }
          }
        }
      },
      "CompatibilityStatus": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "overallScore": {
            "type": "number",
            "format": "double"
          },
          "totalRequests": {
            "type": "integer",
            "format": "int32"
          },
          "healthStatus": {
            "type": "string"
          },
          "lastUpdated": {
            "type": "string",
            "format": "date-time"
          },
          "criticalIssues": {
            "type": "integer",
            "format": "int32"
          },
          "majorIssues": {
            "type": "integer",
            "format": "int32"
          },
          "minorIssues": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "ForwardedDiscrepancyDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "sourceId": {
            "type": "string"
          },
          "receivedAt": {
            "type": "string",
            "format": "date-time"
          },
          "analysis": {
            "$ref": "#/components/schemas/DiscrepancyAnalysisDto"
          }
        }
      },
      "TestMigrationConnectionResult": {
        "type": "object",
        "description": "Result of testing a migration connection",
        "additionalProperties": false,
        "properties": {
          "isSuccess": {
            "type": "boolean"
          },
          "errorMessage": {
            "type": "string",
            "nullable": true
          },
          "siteName": {
            "type": "string",
            "nullable": true
          },
          "version": {
            "type": "string",
            "nullable": true
          },
          "entryCount": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "treatmentCount": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "availableCollections": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "TestMigrationConnectionRequest": {
        "type": "object",
        "description": "Request to test a Nightscout connection",
        "additionalProperties": false,
        "properties": {
          "mode": {
            "$ref": "#/components/schemas/MigrationMode"
          },
          "nightscoutUrl": {
            "type": "string",
            "nullable": true
          },
          "nightscoutApiSecret": {
            "type": "string",
            "nullable": true
          },
          "mongoConnectionString": {
            "type": "string",
            "nullable": true
          },
          "mongoDatabaseName": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "MigrationMode": {
        "type": "integer",
        "description": "Enumerates the modes for data migration",
        "x-enumNames": [
          "Api",
          "MongoDb"
        ],
        "enum": [
          0,
          1
        ]
      },
      "MigrationJobInfo": {
        "type": "object",
        "description": "Information about a migration job",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "format": "guid"
          },
          "mode": {
            "$ref": "#/components/schemas/MigrationMode"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "sourceDescription": {
            "type": "string",
            "nullable": true
          },
          "state": {
            "$ref": "#/components/schemas/MigrationJobState"
          },
          "startedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "completedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "errorMessage": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "MigrationJobState": {
        "type": "integer",
        "description": "Current state of a migration job",
        "x-enumNames": [
          "Pending",
          "Validating",
          "Running",
          "Completed",
          "Failed",
          "Cancelled"
        ],
        "enum": [
          0,
          1,
          2,
          3,
          4,
          5
        ]
      },
      "StartMigrationRequest": {
        "type": "object",
        "description": "Request to start a new migration job",
        "additionalProperties": false,
        "properties": {
          "mode": {
            "description": "Migration mode (API or MongoDB)",
            "oneOf": [
              {
                "$ref": "#/components/schemas/MigrationMode"
              }
            ]
          },
          "nightscoutUrl": {
            "type": "string",
            "description": "Nightscout URL (for API mode)",
            "nullable": true
          },
          "nightscoutApiSecret": {
            "type": "string",
            "description": "Nightscout API secret (for API mode)",
            "nullable": true
          },
          "mongoConnectionString": {
            "type": "string",
            "description": "MongoDB connection string (for MongoDB mode)",
            "nullable": true
          },
          "mongoDatabaseName": {
            "type": "string",
            "description": "MongoDB database name (for MongoDB mode)",
            "nullable": true
          },
          "collections": {
            "type": "array",
            "description": "Collections to migrate. Empty means all.",
            "items": {
              "type": "string"
            }
          },
          "startDate": {
            "type": "string",
            "description": "Start date for migration (optional)",
            "format": "date-time",
            "nullable": true
          },
          "endDate": {
            "type": "string",
            "description": "End date for migration (optional)",
            "format": "date-time",
            "nullable": true
          }
        }
      },
      "MigrationJobStatus": {
        "type": "object",
        "description": "Status of a migration job including progress",
        "additionalProperties": false,
        "properties": {
          "jobId": {
            "type": "string",
            "format": "guid"
          },
          "state": {
            "$ref": "#/components/schemas/MigrationJobState"
          },
          "progressPercentage": {
            "type": "number",
            "format": "double"
          },
          "currentOperation": {
            "type": "string",
            "nullable": true
          },
          "errorMessage": {
            "type": "string",
            "nullable": true
          },
          "startedAt": {
            "type": "string",
            "format": "date-time"
          },
          "completedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "estimatedTimeRemaining": {
            "type": "string",
            "format": "duration",
            "nullable": true
          },
          "collectionProgress": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/CollectionProgress"
            }
          }
        }
      },
      "CollectionProgress": {
        "type": "object",
        "description": "Progress for a specific collection",
        "additionalProperties": false,
        "properties": {
          "collectionName": {
            "type": "string"
          },
          "totalDocuments": {
            "type": "integer",
            "format": "int64"
          },
          "documentsMigrated": {
            "type": "integer",
            "format": "int64"
          },
          "documentsFailed": {
            "type": "integer",
            "format": "int64"
          },
          "isComplete": {
            "type": "boolean"
          }
        }
      },
      "PendingMigrationConfig": {
        "type": "object",
        "description": "Pending migration configuration from environment variables",
        "additionalProperties": false,
        "properties": {
          "hasPendingConfig": {
            "type": "boolean",
            "description": "Whether there is a pending migration configuration in env vars"
          },
          "mode": {
            "description": "Migration mode from MIGRATION_MODE env var",
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/MigrationMode"
              }
            ]
          },
          "nightscoutUrl": {
            "type": "string",
            "description": "Nightscout URL from MIGRATION_NS_URL env var",
            "nullable": true
          },
          "hasApiSecret": {
            "type": "boolean",
            "description": "Whether MIGRATION_NS_API_SECRET is set (never returns the actual secret)"
          },
          "hasMongoConnectionString": {
            "type": "boolean",
            "description": "Whether MIGRATION_MONGO_CONNECTION_STRING is set (never returns the actual string)"
          },
          "mongoDatabaseName": {
            "type": "string",
            "description": "MongoDB database name from MIGRATION_MONGO_DATABASE_NAME env var",
            "nullable": true
          }
        }
      },
      "MigrationSourceDto": {
        "type": "object",
        "description": "Migration source DTO for API responses",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for this source",
            "format": "guid"
          },
          "mode": {
            "description": "Migration mode (Api or MongoDb)",
            "oneOf": [
              {
                "$ref": "#/components/schemas/MigrationMode"
              }
            ]
          },
          "nightscoutUrl": {
            "type": "string",
            "description": "Nightscout URL (for API mode)",
            "nullable": true
          },
          "mongoDatabaseName": {
            "type": "string",
            "description": "MongoDB database name (for MongoDB mode)",
            "nullable": true
          },
          "lastMigrationAt": {
            "type": "string",
            "description": "When the last successful migration completed",
            "format": "date-time",
            "nullable": true
          },
          "lastMigratedDataTimestamp": {
            "type": "string",
            "description": "Newest data timestamp migrated (for \"since last\" default)",
            "format": "date-time",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "description": "When this source was first added",
            "format": "date-time"
          }
        }
      },
      "MyFitnessPalMatchingSettings": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "matchTimeWindowMinutes": {
            "type": "integer",
            "format": "int32"
          },
          "matchCarbTolerancePercent": {
            "type": "integer",
            "format": "int32"
          },
          "matchCarbToleranceGrams": {
            "type": "integer",
            "format": "int32"
          },
          "unmatchedTimeoutHours": {
            "type": "integer",
            "format": "int32"
          },
          "unmatchedBehavior": {
            "$ref": "#/components/schemas/UnmatchedBehavior"
          },
          "enableMatchNotifications": {
            "type": "boolean"
          },
          "enableUnmatchedNotifications": {
            "type": "boolean"
          }
        }
      },
      "UnmatchedBehavior": {
        "type": "string",
        "description": "",
        "x-enumNames": [
          "Prompt",
          "AutoStandalone",
          "AutoDelete"
        ],
        "enum": [
          "Prompt",
          "AutoStandalone",
          "AutoDelete"
        ]
      },
      "GlucosePredictionResponse": {
        "type": "object",
        "description": "Response containing glucose predictions.",
        "additionalProperties": false,
        "properties": {
          "timestamp": {
            "type": "string",
            "description": "Timestamp when predictions were calculated",
            "format": "date-time"
          },
          "currentBg": {
            "type": "number",
            "description": "Current blood glucose (mg/dL)",
            "format": "double"
          },
          "delta": {
            "type": "number",
            "description": "Rate of glucose change (mg/dL per 5 min)",
            "format": "double"
          },
          "eventualBg": {
            "type": "number",
            "description": "Eventual blood glucose if trend continues (mg/dL)",
            "format": "double"
          },
          "iob": {
            "type": "number",
            "description": "Current insulin on board (U)",
            "format": "double"
          },
          "cob": {
            "type": "number",
            "description": "Current carbs on board (g)",
            "format": "double"
          },
          "sensitivityRatio": {
            "type": "number",
            "description": "Sensitivity ratio used (1.0 = normal)",
            "format": "double",
            "nullable": true
          },
          "intervalMinutes": {
            "type": "integer",
            "description": "Prediction interval in minutes",
            "format": "int32"
          },
          "predictions": {
            "description": "Prediction curves with different scenarios",
            "oneOf": [
              {
                "$ref": "#/components/schemas/PredictionCurves"
              }
            ]
          }
        }
      },
      "PredictionCurves": {
        "type": "object",
        "description": "Different prediction curves for visualization.",
        "additionalProperties": false,
        "properties": {
          "default": {
            "type": "array",
            "description": "Main prediction curve (mg/dL values at 5-min intervals)",
            "nullable": true,
            "items": {
              "type": "number",
              "format": "double"
            }
          },
          "iobOnly": {
            "type": "array",
            "description": "IOB-only prediction (ignoring COB)",
            "nullable": true,
            "items": {
              "type": "number",
              "format": "double"
            }
          },
          "uam": {
            "type": "array",
            "description": "UAM (Unannounced Meal) prediction",
            "nullable": true,
            "items": {
              "type": "number",
              "format": "double"
            }
          },
          "cob": {
            "type": "array",
            "description": "COB-based prediction",
            "nullable": true,
            "items": {
              "type": "number",
              "format": "double"
            }
          },
          "zeroTemp": {
            "type": "array",
            "description": "Zero-temp prediction (what happens if basal stops)",
            "nullable": true,
            "items": {
              "type": "number",
              "format": "double"
            }
          }
        }
      },
      "PredictionErrorResponse": {
        "type": "object",
        "description": "Error response for prediction failures.",
        "additionalProperties": false,
        "properties": {
          "error": {
            "type": "string",
            "description": "Error message"
          }
        }
      },
      "PredictionStatusResponse": {
        "type": "object",
        "description": "Status of the prediction service.",
        "additionalProperties": false,
        "properties": {
          "available": {
            "type": "boolean",
            "description": "Whether the oref library is available"
          },
          "version": {
            "type": "string",
            "description": "Version of the oref library",
            "nullable": true
          },
          "healthCheck": {
            "type": "string",
            "description": "Health check result (JSON)",
            "nullable": true
          }
        }
      },
      "ProcessingStatusResponse": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ProcessingStatus"
          },
          {
            "type": "object",
            "additionalProperties": false
          }
        ]
      },
      "ProcessingStatus": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "correlationId": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "progress": {
            "type": "integer",
            "format": "int32"
          },
          "processedCount": {
            "type": "integer",
            "format": "int32"
          },
          "totalCount": {
            "type": "integer",
            "format": "int32"
          },
          "startedAt": {
            "type": "string",
            "format": "date-time"
          },
          "completedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "errors": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "results": {
            "nullable": true
          }
        }
      },
      "RetrospectiveDataResponse": {
        "type": "object",
        "description": "Response for single point retrospective data",
        "additionalProperties": false,
        "properties": {
          "time": {
            "type": "integer",
            "format": "int64"
          },
          "timeFormatted": {
            "type": "string",
            "nullable": true
          },
          "glucose": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/GlucoseData"
              }
            ]
          },
          "iob": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/IobData"
              }
            ]
          },
          "cob": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/CobData"
              }
            ]
          },
          "basal": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/BasalData"
              }
            ]
          },
          "recentTreatments": {
            "type": "array",
            "nullable": true,
            "items": {
              "$ref": "#/components/schemas/TreatmentSummaryData"
            }
          }
        }
      },
      "GlucoseData": {
        "type": "object",
        "description": "Glucose data at a specific point in time",
        "additionalProperties": false,
        "properties": {
          "value": {
            "type": "integer",
            "format": "int32"
          },
          "direction": {
            "type": "string",
            "nullable": true
          },
          "delta": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        }
      },
      "IobData": {
        "type": "object",
        "description": "IOB data at a specific point in time",
        "additionalProperties": false,
        "properties": {
          "total": {
            "type": "number",
            "format": "double"
          },
          "bolus": {
            "type": "number",
            "format": "double"
          },
          "basal": {
            "type": "number",
            "format": "double"
          },
          "activity": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "source": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "CobData": {
        "type": "object",
        "description": "COB data at a specific point in time",
        "additionalProperties": false,
        "properties": {
          "total": {
            "type": "number",
            "format": "double"
          },
          "isDecaying": {
            "type": "number",
            "format": "double"
          },
          "carbsHr": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "rawCarbImpact": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "source": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "BasalData": {
        "type": "object",
        "description": "Basal rate data at a specific point in time",
        "additionalProperties": false,
        "properties": {
          "rate": {
            "type": "number",
            "format": "double"
          },
          "isTemp": {
            "type": "boolean"
          }
        }
      },
      "TreatmentSummaryData": {
        "type": "object",
        "description": "Treatment summary for recent treatments",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "nullable": true
          },
          "mills": {
            "type": "integer",
            "format": "int64"
          },
          "eventType": {
            "type": "string",
            "nullable": true
          },
          "insulin": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "carbs": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "rate": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "duration": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "notes": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "RetrospectiveTimelineResponse": {
        "type": "object",
        "description": "Response for retrospective timeline",
        "additionalProperties": false,
        "properties": {
          "date": {
            "type": "string",
            "nullable": true
          },
          "startTime": {
            "type": "integer",
            "format": "int64"
          },
          "endTime": {
            "type": "integer",
            "format": "int64"
          },
          "intervalMinutes": {
            "type": "integer",
            "format": "int32"
          },
          "totalPoints": {
            "type": "integer",
            "format": "int32"
          },
          "data": {
            "type": "array",
            "nullable": true,
            "items": {
              "$ref": "#/components/schemas/RetrospectiveDataPoint"
            }
          }
        }
      },
      "RetrospectiveDataPoint": {
        "type": "object",
        "description": "Data point for retrospective timeline",
        "additionalProperties": false,
        "properties": {
          "time": {
            "type": "integer",
            "format": "int64"
          },
          "hour": {
            "type": "integer",
            "format": "int32"
          },
          "minute": {
            "type": "integer",
            "format": "int32"
          },
          "timeLabel": {
            "type": "string",
            "nullable": true
          },
          "glucose": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "glucoseDirection": {
            "type": "string",
            "nullable": true
          },
          "iob": {
            "type": "number",
            "format": "double"
          },
          "bolusIob": {
            "type": "number",
            "format": "double"
          },
          "basalIob": {
            "type": "number",
            "format": "double"
          },
          "cob": {
            "type": "number",
            "format": "double"
          },
          "basalRate": {
            "type": "number",
            "format": "double"
          },
          "isTemp": {
            "type": "boolean"
          }
        }
      },
      "BasalTimelineResponse": {
        "type": "object",
        "description": "Response for basal timeline",
        "additionalProperties": false,
        "properties": {
          "date": {
            "type": "string",
            "nullable": true
          },
          "startTime": {
            "type": "integer",
            "format": "int64"
          },
          "endTime": {
            "type": "integer",
            "format": "int64"
          },
          "intervalMinutes": {
            "type": "integer",
            "format": "int32"
          },
          "data": {
            "type": "array",
            "nullable": true,
            "items": {
              "$ref": "#/components/schemas/BasalDataPoint"
            }
          }
        }
      },
      "BasalDataPoint": {
        "type": "object",
        "description": "Data point for basal timeline",
        "additionalProperties": false,
        "properties": {
          "time": {
            "type": "integer",
            "format": "int64"
          },
          "hour": {
            "type": "integer",
            "format": "int32"
          },
          "minute": {
            "type": "integer",
            "format": "int32"
          },
          "timeLabel": {
            "type": "string",
            "nullable": true
          },
          "rate": {
            "type": "number",
            "format": "double"
          },
          "isTemp": {
            "type": "boolean"
          }
        }
      },
      "ServicesOverview": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "activeDataSources": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DataSourceInfo"
            }
          },
          "availableConnectors": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AvailableConnector"
            }
          },
          "uploaderApps": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UploaderApp"
            }
          },
          "apiEndpoint": {
            "$ref": "#/components/schemas/ApiEndpointInfo"
          }
        }
      },
      "DataSourceInfo": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "deviceId": {
            "type": "string"
          },
          "category": {
            "type": "string"
          },
          "sourceType": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "lastSeen": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "firstSeen": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "entriesLast24h": {
            "type": "integer",
            "format": "int32"
          },
          "totalEntries": {
            "type": "integer",
            "format": "int64"
          },
          "status": {
            "type": "string"
          },
          "minutesSinceLastData": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "icon": {
            "type": "string"
          },
          "isHealthy": {
            "type": "boolean"
          }
        }
      },
      "AvailableConnector": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "category": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "icon": {
            "type": "string"
          },
          "available": {
            "type": "boolean"
          },
          "requiresServerConfig": {
            "type": "boolean"
          },
          "isConfigured": {
            "type": "boolean"
          },
          "configFields": {
            "type": "array",
            "nullable": true,
            "items": {
              "$ref": "#/components/schemas/ConnectorConfigField"
            }
          },
          "documentationUrl": {
            "type": "string",
            "nullable": true
          },
          "dataSourceId": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "ConnectorConfigField": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string"
          },
          "label": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "required": {
            "type": "boolean"
          },
          "placeholder": {
            "type": "string",
            "nullable": true
          },
          "helpText": {
            "type": "string",
            "nullable": true
          },
          "options": {
            "type": "array",
            "nullable": true,
            "items": {
              "$ref": "#/components/schemas/SelectOption"
            }
          }
        }
      },
      "SelectOption": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "value": {
            "type": "string"
          },
          "label": {
            "type": "string"
          }
        }
      },
      "UploaderApp": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "platform": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "category": {
            "type": "string"
          },
          "icon": {
            "type": "string"
          },
          "setupInstructions": {
            "type": "array",
            "nullable": true,
            "items": {
              "$ref": "#/components/schemas/SetupStep"
            }
          },
          "url": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "SetupStep": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "step": {
            "type": "integer",
            "format": "int32"
          },
          "title": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "imageUrl": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "ApiEndpointInfo": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "baseUrl": {
            "type": "string"
          },
          "requiresApiSecret": {
            "type": "boolean"
          },
          "isAuthenticated": {
            "type": "boolean"
          },
          "entriesEndpoint": {
            "type": "string"
          },
          "treatmentsEndpoint": {
            "type": "string"
          },
          "deviceStatusEndpoint": {
            "type": "string"
          }
        }
      },
      "UploaderSetupResponse": {
        "type": "object",
        "description": "Response model for uploader setup instructions",
        "additionalProperties": false,
        "properties": {
          "app": {
            "description": "The uploader app details",
            "oneOf": [
              {
                "$ref": "#/components/schemas/UploaderApp"
              }
            ]
          },
          "baseUrl": {
            "type": "string",
            "description": "Base URL for this Nocturne instance"
          },
          "apiSecretPlaceholder": {
            "type": "string",
            "description": "Placeholder for where the API secret goes"
          },
          "fullApiUrl": {
            "type": "string",
            "description": "Full API URL (base + /api/v1)"
          },
          "entriesUrl": {
            "type": "string",
            "description": "Entries endpoint URL"
          },
          "treatmentsUrl": {
            "type": "string",
            "description": "Treatments endpoint URL"
          },
          "deviceStatusUrl": {
            "type": "string",
            "description": "Device status endpoint URL"
          },
          "xdripStyleUrl": {
            "type": "string",
            "description": "xDrip+ style URL with embedded secret placeholder"
          }
        }
      },
      "DataSourceDeleteResult": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "success": {
            "type": "boolean"
          },
          "entriesDeleted": {
            "type": "integer",
            "format": "int64"
          },
          "treatmentsDeleted": {
            "type": "integer",
            "format": "int64"
          },
          "deviceStatusDeleted": {
            "type": "integer",
            "format": "int64"
          },
          "dataSource": {
            "type": "string"
          },
          "error": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "SyncResult": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "success": {
            "type": "boolean"
          },
          "message": {
            "type": "string"
          },
          "startTime": {
            "type": "string",
            "format": "date-time"
          },
          "endTime": {
            "type": "string",
            "format": "date-time"
          },
          "itemsSynced": {
            "type": "object",
            "x-dictionaryKey": {
              "$ref": "#/components/schemas/SyncDataType"
            },
            "additionalProperties": {
              "type": "integer",
              "format": "int32"
            }
          },
          "lastEntryTimes": {
            "type": "object",
            "x-dictionaryKey": {
              "$ref": "#/components/schemas/SyncDataType"
            },
            "additionalProperties": {
              "type": "string",
              "format": "date-time",
              "nullable": true
            }
          },
          "errors": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "SyncDataType": {
        "type": "string",
        "description": "",
        "x-enumNames": [
          "Glucose",
          "Treatments",
          "Profiles",
          "DeviceStatus",
          "Activity",
          "Food"
        ],
        "enum": [
          "Glucose",
          "Treatments",
          "Profiles",
          "DeviceStatus",
          "Activity",
          "Food"
        ]
      },
      "SyncRequest": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "from": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "to": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "dataTypes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SyncDataType"
            }
          }
        }
      },
      "ConnectorSyncStatus": {
        "type": "object",
        "description": "Response model for connector sync status",
        "additionalProperties": false,
        "properties": {
          "connectorId": {
            "type": "string",
            "description": "The connector ID (e.g., \"dexcom\", \"libre\")"
          },
          "dataSource": {
            "type": "string",
            "description": "The data source name used in the database (e.g., \"dexcom-connector\")"
          },
          "latestEntryTimestamp": {
            "type": "string",
            "description": "The timestamp of the latest entry, or null if no entries exist",
            "format": "date-time",
            "nullable": true
          },
          "oldestEntryTimestamp": {
            "type": "string",
            "description": "The timestamp of the oldest entry, or null if no entries exist",
            "format": "date-time",
            "nullable": true
          },
          "latestTreatmentTimestamp": {
            "type": "string",
            "description": "The timestamp of the latest treatment, or null if no treatments exist",
            "format": "date-time",
            "nullable": true
          },
          "oldestTreatmentTimestamp": {
            "type": "string",
            "description": "The timestamp of the oldest treatment, or null if no treatments exist",
            "format": "date-time",
            "nullable": true
          },
          "hasEntries": {
            "type": "boolean",
            "description": "Whether any entries exist for this connector"
          },
          "hasTreatments": {
            "type": "boolean",
            "description": "Whether any treatments exist for this connector"
          },
          "state": {
            "type": "string",
            "description": "Current connector state (Idle, Syncing, BackingOff, Error)"
          },
          "stateMessage": {
            "type": "string",
            "description": "Optional message describing the current state",
            "nullable": true
          },
          "isHealthy": {
            "type": "boolean",
            "description": "Whether the connector is healthy"
          },
          "queriedAt": {
            "type": "string",
            "description": "When this status was queried",
            "format": "date-time"
          }
        }
      },
      "CreateStateSpanRequest": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "category": {
            "$ref": "#/components/schemas/StateSpanCategory"
          },
          "state": {
            "type": "string",
            "nullable": true
          },
          "startMills": {
            "type": "integer",
            "format": "int64"
          },
          "endMills": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "source": {
            "type": "string",
            "nullable": true
          },
          "metadata": {
            "type": "object",
            "nullable": true,
            "additionalProperties": {}
          },
          "originalId": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "UpdateStateSpanRequest": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "category": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/StateSpanCategory"
              }
            ]
          },
          "state": {
            "type": "string",
            "nullable": true
          },
          "startMills": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "endMills": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "source": {
            "type": "string",
            "nullable": true
          },
          "metadata": {
            "type": "object",
            "nullable": true,
            "additionalProperties": {}
          }
        }
      },
      "StatusResponse": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "status": {
            "type": "string"
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "version": {
            "type": "string",
            "nullable": true
          },
          "apiVersion": {
            "type": "string",
            "nullable": true
          },
          "serverTime": {
            "type": "string",
            "format": "date-time"
          },
          "serverTimeEpoch": {
            "type": "integer",
            "format": "int64"
          },
          "enabled": {
            "type": "array",
            "nullable": true,
            "items": {
              "type": "string"
            }
          },
          "apiEnabled": {
            "type": "boolean"
          },
          "roles": {
            "type": "array",
            "nullable": true,
            "items": {
              "type": "string"
            }
          },
          "settings": {
            "type": "object",
            "nullable": true,
            "additionalProperties": {}
          },
          "extendedSettings": {
            "type": "object",
            "nullable": true,
            "additionalProperties": {}
          },
          "careportalEnabled": {
            "type": "boolean",
            "nullable": true
          },
          "head": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "SystemEvent": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "nullable": true
          },
          "eventType": {
            "$ref": "#/components/schemas/SystemEventType"
          },
          "category": {
            "$ref": "#/components/schemas/SystemEventCategory"
          },
          "code": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "mills": {
            "type": "integer",
            "format": "int64"
          },
          "source": {
            "type": "string",
            "nullable": true
          },
          "metadata": {
            "type": "object",
            "nullable": true,
            "additionalProperties": {}
          },
          "originalId": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        }
      },
      "SystemEventType": {
        "type": "string",
        "description": "",
        "x-enumNames": [
          "Alarm",
          "Hazard",
          "Warning",
          "Info"
        ],
        "enum": [
          "Alarm",
          "Hazard",
          "Warning",
          "Info"
        ]
      },
      "SystemEventCategory": {
        "type": "string",
        "description": "",
        "x-enumNames": [
          "Pump",
          "Cgm",
          "Connectivity"
        ],
        "enum": [
          "Pump",
          "Cgm",
          "Connectivity"
        ]
      },
      "CreateSystemEventRequest": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "eventType": {
            "$ref": "#/components/schemas/SystemEventType"
          },
          "category": {
            "$ref": "#/components/schemas/SystemEventCategory"
          },
          "code": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "mills": {
            "type": "integer",
            "format": "int64"
          },
          "source": {
            "type": "string",
            "nullable": true
          },
          "metadata": {
            "type": "object",
            "nullable": true,
            "additionalProperties": {}
          },
          "originalId": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "TrackerAlertDto": {
        "type": "object",
        "description": "DTO for tracker alerts returned to the frontend",
        "additionalProperties": false,
        "properties": {
          "instanceId": {
            "type": "string",
            "format": "guid"
          },
          "definitionId": {
            "type": "string",
            "format": "guid"
          },
          "thresholdId": {
            "type": "string",
            "format": "guid"
          },
          "trackerName": {
            "type": "string"
          },
          "urgency": {
            "$ref": "#/components/schemas/NotificationUrgency"
          },
          "message": {
            "type": "string"
          },
          "pushEnabled": {
            "type": "boolean"
          },
          "audioEnabled": {
            "type": "boolean"
          },
          "audioSound": {
            "type": "string",
            "nullable": true
          },
          "vibrateEnabled": {
            "type": "boolean"
          }
        }
      },
      "NotificationUrgency": {
        "type": "string",
        "description": "",
        "x-enumNames": [
          "Info",
          "Warn",
          "Hazard",
          "Urgent"
        ],
        "enum": [
          "Info",
          "Warn",
          "Hazard",
          "Urgent"
        ]
      },
      "TrackerDefinitionDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "format": "guid"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "category": {
            "$ref": "#/components/schemas/TrackerCategory"
          },
          "icon": {
            "type": "string"
          },
          "triggerEventTypes": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "triggerNotesContains": {
            "type": "string",
            "nullable": true
          },
          "lifespanHours": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "notificationThresholds": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/NotificationThresholdDto"
            }
          },
          "isFavorite": {
            "type": "boolean"
          },
          "dashboardVisibility": {
            "description": "Dashboard visibility: Off, Always, Info, Warn, Hazard, Urgent",
            "oneOf": [
              {
                "$ref": "#/components/schemas/DashboardVisibility"
              }
            ]
          },
          "visibility": {
            "description": "Visibility level for this tracker (Public, Private, RoleRestricted)",
            "oneOf": [
              {
                "$ref": "#/components/schemas/TrackerVisibility"
              }
            ]
          },
          "startEventType": {
            "type": "string",
            "description": "Event type to create when tracker is started (for Nightscout compatibility)",
            "nullable": true
          },
          "completionEventType": {
            "type": "string",
            "description": "Event type to create when tracker is completed (for Nightscout compatibility)",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        }
      },
      "TrackerCategory": {
        "type": "string",
        "description": "",
        "x-enumNames": [
          "Consumable",
          "Reservoir",
          "Appointment",
          "Reminder",
          "Custom",
          "Sensor",
          "Cannula",
          "Battery"
        ],
        "enum": [
          "Consumable",
          "Reservoir",
          "Appointment",
          "Reminder",
          "Custom",
          "Sensor",
          "Cannula",
          "Battery"
        ]
      },
      "NotificationThresholdDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "format": "guid",
            "nullable": true
          },
          "urgency": {
            "$ref": "#/components/schemas/NotificationUrgency"
          },
          "hours": {
            "type": "integer",
            "format": "int32"
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "displayOrder": {
            "type": "integer",
            "format": "int32"
          },
          "pushEnabled": {
            "type": "boolean"
          },
          "audioEnabled": {
            "type": "boolean"
          },
          "audioSound": {
            "type": "string",
            "nullable": true
          },
          "vibrateEnabled": {
            "type": "boolean"
          },
          "repeatIntervalMins": {
            "type": "integer",
            "format": "int32"
          },
          "maxRepeats": {
            "type": "integer",
            "format": "int32"
          },
          "respectQuietHours": {
            "type": "boolean"
          }
        }
      },
      "DashboardVisibility": {
        "type": "string",
        "description": "",
        "x-enumNames": [
          "Off",
          "Always",
          "Info",
          "Warn",
          "Hazard",
          "Urgent"
        ],
        "enum": [
          "Off",
          "Always",
          "Info",
          "Warn",
          "Hazard",
          "Urgent"
        ]
      },
      "TrackerVisibility": {
        "type": "string",
        "description": "",
        "x-enumNames": [
          "Public",
          "Private",
          "RoleRestricted"
        ],
        "enum": [
          "Public",
          "Private",
          "RoleRestricted"
        ]
      },
      "CreateTrackerDefinitionRequest": {
        "type": "object",
        "additionalProperties": false,
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "category": {
            "$ref": "#/components/schemas/TrackerCategory"
          },
          "icon": {
            "type": "string",
            "nullable": true
          },
          "triggerEventTypes": {
            "type": "array",
            "nullable": true,
            "items": {
              "type": "string"
            }
          },
          "triggerNotesContains": {
            "type": "string",
            "nullable": true
          },
          "lifespanHours": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "notificationThresholds": {
            "type": "array",
            "nullable": true,
            "items": {
              "$ref": "#/components/schemas/CreateNotificationThresholdRequest"
            }
          },
          "isFavorite": {
            "type": "boolean"
          },
          "dashboardVisibility": {
            "description": "Dashboard visibility: Off, Always, Info, Warn, Hazard, Urgent",
            "oneOf": [
              {
                "$ref": "#/components/schemas/DashboardVisibility"
              }
            ]
          },
          "visibility": {
            "description": "Visibility level for this tracker (Public, Private, RoleRestricted)",
            "oneOf": [
              {
                "$ref": "#/components/schemas/TrackerVisibility"
              }
            ]
          },
          "startEventType": {
            "type": "string",
            "description": "Event type to create when tracker is started (for Nightscout compatibility)",
            "nullable": true
          },
          "completionEventType": {
            "type": "string",
            "description": "Event type to create when tracker is completed (for Nightscout compatibility)",
            "nullable": true
          }
        }
      },
      "CreateNotificationThresholdRequest": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "urgency": {
            "$ref": "#/components/schemas/NotificationUrgency"
          },
          "hours": {
            "type": "integer",
            "format": "int32"
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "displayOrder": {
            "type": "integer",
            "format": "int32"
          },
          "pushEnabled": {
            "type": "boolean"
          },
          "audioEnabled": {
            "type": "boolean"
          },
          "audioSound": {
            "type": "string",
            "nullable": true
          },
          "vibrateEnabled": {
            "type": "boolean"
          },
          "repeatIntervalMins": {
            "type": "integer",
            "format": "int32"
          },
          "maxRepeats": {
            "type": "integer",
            "format": "int32"
          },
          "respectQuietHours": {
            "type": "boolean"
          }
        }
      },
      "UpdateTrackerDefinitionRequest": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "name": {
            "type": "string",
            "nullable": true
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "category": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/TrackerCategory"
              }
            ]
          },
          "icon": {
            "type": "string",
            "nullable": true
          },
          "triggerEventTypes": {
            "type": "array",
            "nullable": true,
            "items": {
              "type": "string"
            }
          },
          "triggerNotesContains": {
            "type": "string",
            "nullable": true
          },
          "lifespanHours": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "notificationThresholds": {
            "type": "array",
            "nullable": true,
            "items": {
              "$ref": "#/components/schemas/CreateNotificationThresholdRequest"
            }
          },
          "isFavorite": {
            "type": "boolean",
            "nullable": true
          },
          "dashboardVisibility": {
            "description": "Dashboard visibility: Off, Always, Info, Warn, Hazard, Urgent",
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/DashboardVisibility"
              }
            ]
          },
          "visibility": {
            "description": "Visibility level for this tracker (Public, Private, RoleRestricted)",
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/TrackerVisibility"
              }
            ]
          },
          "startEventType": {
            "type": "string",
            "description": "Event type to create when tracker is started (for Nightscout compatibility)",
            "nullable": true
          },
          "completionEventType": {
            "type": "string",
            "description": "Event type to create when tracker is completed (for Nightscout compatibility)",
            "nullable": true
          }
        }
      },
      "TrackerInstanceDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "format": "guid"
          },
          "definitionId": {
            "type": "string",
            "format": "guid"
          },
          "definitionName": {
            "type": "string"
          },
          "category": {
            "$ref": "#/components/schemas/TrackerCategory"
          },
          "icon": {
            "type": "string"
          },
          "startedAt": {
            "type": "string",
            "format": "date-time"
          },
          "completedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "expectedEndAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "startNotes": {
            "type": "string",
            "nullable": true
          },
          "completionNotes": {
            "type": "string",
            "nullable": true
          },
          "completionReason": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/CompletionReason"
              }
            ]
          },
          "ageHours": {
            "type": "number",
            "format": "double"
          },
          "isActive": {
            "type": "boolean"
          },
          "lastAckedAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "ackSnoozeMins": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        }
      },
      "CompletionReason": {
        "type": "string",
        "description": "",
        "x-enumNames": [
          "Completed",
          "Expired",
          "Other",
          "Failed",
          "FellOff",
          "ReplacedEarly",
          "Empty",
          "Refilled",
          "Attended",
          "Rescheduled",
          "Cancelled",
          "Missed"
        ],
        "enum": [
          "Completed",
          "Expired",
          "Other",
          "Failed",
          "FellOff",
          "ReplacedEarly",
          "Empty",
          "Refilled",
          "Attended",
          "Rescheduled",
          "Cancelled",
          "Missed"
        ]
      },
      "StartTrackerInstanceRequest": {
        "type": "object",
        "additionalProperties": false,
        "required": [
          "definitionId"
        ],
        "properties": {
          "definitionId": {
            "type": "string",
            "format": "guid",
            "minLength": 1
          },
          "startNotes": {
            "type": "string",
            "nullable": true
          },
          "startTreatmentId": {
            "type": "string",
            "nullable": true
          },
          "startedAt": {
            "type": "string",
            "description": "Optional custom start time for backdating. Defaults to now if not provided.",
            "format": "date-time",
            "nullable": true
          }
        }
      },
      "CompleteTrackerInstanceRequest": {
        "type": "object",
        "additionalProperties": false,
        "required": [
          "reason"
        ],
        "properties": {
          "reason": {
            "$ref": "#/components/schemas/CompletionReason"
          },
          "completionNotes": {
            "type": "string",
            "nullable": true
          },
          "completeTreatmentId": {
            "type": "string",
            "nullable": true
          },
          "completedAt": {
            "type": "string",
            "description": "Optional custom completion time for backdating. Defaults to now if not provided.",
            "format": "date-time",
            "nullable": true
          }
        }
      },
      "AckTrackerRequest": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "snoozeMins": {
            "type": "integer",
            "format": "int32"
          },
          "global": {
            "type": "boolean"
          }
        }
      },
      "TrackerPresetDto": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "format": "guid"
          },
          "name": {
            "type": "string"
          },
          "definitionId": {
            "type": "string",
            "format": "guid"
          },
          "definitionName": {
            "type": "string"
          },
          "defaultStartNotes": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "CreateTrackerPresetRequest": {
        "type": "object",
        "additionalProperties": false,
        "required": [
          "name",
          "definitionId"
        ],
        "properties": {
          "name": {
            "type": "string",
            "minLength": 1
          },
          "definitionId": {
            "type": "string",
            "format": "guid",
            "minLength": 1
          },
          "defaultStartNotes": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "ApplyPresetRequest": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "overrideNotes": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "TreatmentFoodBreakdown": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "treatmentId": {
            "type": "string",
            "format": "guid"
          },
          "foods": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TreatmentFood"
            }
          },
          "isAttributed": {
            "type": "boolean"
          },
          "attributedCarbs": {
            "type": "number",
            "format": "decimal"
          },
          "unspecifiedCarbs": {
            "type": "number",
            "format": "decimal"
          }
        }
      },
      "TreatmentFood": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string",
            "format": "guid"
          },
          "treatmentId": {
            "type": "string",
            "format": "guid"
          },
          "foodId": {
            "type": "string",
            "format": "guid",
            "nullable": true
          },
          "portions": {
            "type": "number",
            "format": "decimal"
          },
          "carbs": {
            "type": "number",
            "format": "decimal"
          },
          "timeOffsetMinutes": {
            "type": "integer",
            "format": "int32"
          },
          "note": {
            "type": "string",
            "nullable": true
          },
          "foodName": {
            "type": "string",
            "nullable": true
          },
          "carbsPerPortion": {
            "type": "number",
            "format": "decimal",
            "nullable": true
          }
        }
      },
      "TreatmentFoodRequest": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "foodId": {
            "type": "string",
            "nullable": true
          },
          "portions": {
            "type": "number",
            "format": "decimal",
            "nullable": true
          },
          "carbs": {
            "type": "number",
            "format": "decimal",
            "nullable": true
          },
          "timeOffsetMinutes": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "note": {
            "type": "string",
            "nullable": true
          },
          "inputMode": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/TreatmentFoodInputMode"
              }
            ]
          }
        }
      },
      "TreatmentFoodInputMode": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "Portions",
          "Carbs"
        ],
        "enum": [
          0,
          1
        ]
      },
      "MealTreatment": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "treatment": {
            "$ref": "#/components/schemas/Treatment"
          },
          "foods": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TreatmentFood"
            }
          },
          "isAttributed": {
            "type": "boolean"
          },
          "attributedCarbs": {
            "type": "number",
            "format": "decimal"
          },
          "unspecifiedCarbs": {
            "type": "number",
            "format": "decimal"
          }
        }
      },
      "UISettingsConfiguration": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "devices": {
            "$ref": "#/components/schemas/DeviceSettings"
          },
          "algorithm": {
            "$ref": "#/components/schemas/AlgorithmSettings"
          },
          "features": {
            "$ref": "#/components/schemas/FeatureSettings"
          },
          "notifications": {
            "$ref": "#/components/schemas/NotificationSettings"
          },
          "services": {
            "$ref": "#/components/schemas/ServicesSettings"
          }
        }
      },
      "DeviceSettings": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "connectedDevices": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ConnectedDevice"
            }
          },
          "autoConnect": {
            "type": "boolean"
          },
          "showRawData": {
            "type": "boolean"
          },
          "uploadEnabled": {
            "type": "boolean"
          },
          "cgmConfiguration": {
            "$ref": "#/components/schemas/CgmConfiguration"
          }
        }
      },
      "ConnectedDevice": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "battery": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "lastSync": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "serialNumber": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "CgmConfiguration": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "dataSourcePriority": {
            "type": "string"
          },
          "sensorWarmupHours": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "AlgorithmSettings": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "prediction": {
            "$ref": "#/components/schemas/PredictionSettings"
          },
          "autosens": {
            "$ref": "#/components/schemas/AutosensSettings"
          },
          "carbAbsorption": {
            "$ref": "#/components/schemas/CarbAbsorptionSettings"
          },
          "loop": {
            "$ref": "#/components/schemas/LoopSettings"
          },
          "safetyLimits": {
            "$ref": "#/components/schemas/SafetyLimits"
          }
        }
      },
      "PredictionSettings": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "minutes": {
            "type": "integer",
            "format": "int32"
          },
          "model": {
            "type": "string"
          }
        }
      },
      "AutosensSettings": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "min": {
            "type": "number",
            "format": "double"
          },
          "max": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "CarbAbsorptionSettings": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "defaultMinutes": {
            "type": "integer",
            "format": "int32"
          },
          "minRateGramsPerHour": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "LoopSettings": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "mode": {
            "type": "string"
          },
          "maxBasalRate": {
            "type": "number",
            "format": "double"
          },
          "maxBolus": {
            "type": "number",
            "format": "double"
          },
          "smbEnabled": {
            "type": "boolean"
          },
          "uamEnabled": {
            "type": "boolean"
          }
        }
      },
      "SafetyLimits": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "maxIOB": {
            "type": "number",
            "format": "double"
          },
          "maxDailyBasalMultiplier": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "FeatureSettings": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "display": {
            "$ref": "#/components/schemas/DisplaySettings"
          },
          "widgets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WidgetConfig"
            }
          },
          "plugins": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/PluginSettings"
            }
          },
          "battery": {
            "$ref": "#/components/schemas/BatteryDisplaySettings"
          },
          "trackerPills": {
            "$ref": "#/components/schemas/TrackerPillsSettings"
          }
        }
      },
      "DisplaySettings": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "nightMode": {
            "type": "boolean"
          },
          "theme": {
            "type": "string"
          },
          "timeFormat": {
            "type": "string"
          },
          "units": {
            "type": "string"
          },
          "showRawBG": {
            "type": "boolean"
          },
          "focusHours": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "WidgetConfig": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "$ref": "#/components/schemas/WidgetId"
          },
          "enabled": {
            "type": "boolean"
          },
          "placement": {
            "$ref": "#/components/schemas/WidgetPlacement"
          },
          "size": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/WidgetSize"
              }
            ]
          },
          "settings": {
            "type": "object",
            "nullable": true,
            "additionalProperties": {}
          }
        }
      },
      "PluginSettings": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "description": {
            "type": "string"
          }
        }
      },
      "BatteryDisplaySettings": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "warnThreshold": {
            "type": "integer",
            "format": "int32"
          },
          "urgentThreshold": {
            "type": "integer",
            "format": "int32"
          },
          "enableAlerts": {
            "type": "boolean"
          },
          "recentMinutes": {
            "type": "integer",
            "format": "int32"
          },
          "showVoltage": {
            "type": "boolean"
          },
          "showStatistics": {
            "type": "boolean"
          }
        }
      },
      "TrackerPillsSettings": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "visibility": {
            "type": "string"
          }
        }
      },
      "NotificationSettings": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "alarmConfiguration": {
            "$ref": "#/components/schemas/UserAlarmConfiguration"
          }
        }
      },
      "UserAlarmConfiguration": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "version": {
            "type": "integer",
            "format": "int32"
          },
          "enabled": {
            "type": "boolean"
          },
          "soundEnabled": {
            "type": "boolean"
          },
          "vibrationEnabled": {
            "type": "boolean"
          },
          "globalVolume": {
            "type": "integer",
            "format": "int32"
          },
          "profiles": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AlarmProfileConfiguration"
            }
          },
          "quietHours": {
            "$ref": "#/components/schemas/QuietHoursConfiguration"
          },
          "customSounds": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CustomSoundReference"
            }
          },
          "emergencyContacts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/EmergencyContactConfig"
            }
          },
          "channels": {
            "$ref": "#/components/schemas/NotificationChannelsConfig"
          }
        }
      },
      "AlarmProfileConfiguration": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string",
            "nullable": true
          },
          "enabled": {
            "type": "boolean"
          },
          "alarmType": {
            "$ref": "#/components/schemas/AlarmTriggerType"
          },
          "threshold": {
            "type": "integer",
            "format": "int32"
          },
          "thresholdHigh": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "forecastLeadTimeMinutes": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "persistenceMinutes": {
            "type": "integer",
            "format": "int32"
          },
          "audio": {
            "$ref": "#/components/schemas/AlarmAudioSettings"
          },
          "vibration": {
            "$ref": "#/components/schemas/AlarmVibrationSettings"
          },
          "visual": {
            "$ref": "#/components/schemas/AlarmVisualSettings"
          },
          "snooze": {
            "$ref": "#/components/schemas/AlarmSnoozeSettings"
          },
          "reraise": {
            "$ref": "#/components/schemas/AlarmReraiseSettings"
          },
          "smartSnooze": {
            "$ref": "#/components/schemas/SmartSnoozeSettings"
          },
          "schedule": {
            "$ref": "#/components/schemas/AlarmScheduleSettings"
          },
          "priority": {
            "$ref": "#/components/schemas/AlarmPriority"
          },
          "overrideQuietHours": {
            "type": "boolean"
          },
          "displayOrder": {
            "type": "integer",
            "format": "int32"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "AlarmTriggerType": {
        "type": "string",
        "description": "",
        "x-enumNames": [
          "High",
          "Low",
          "UrgentHigh",
          "UrgentLow",
          "RisingFast",
          "FallingFast",
          "StaleData",
          "ForecastLow",
          "Custom"
        ],
        "enum": [
          "High",
          "Low",
          "UrgentHigh",
          "UrgentLow",
          "RisingFast",
          "FallingFast",
          "StaleData",
          "ForecastLow",
          "Custom"
        ]
      },
      "AlarmAudioSettings": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "soundId": {
            "type": "string"
          },
          "customSoundUrl": {
            "type": "string",
            "nullable": true
          },
          "ascendingVolume": {
            "type": "boolean"
          },
          "startVolume": {
            "type": "integer",
            "format": "int32"
          },
          "maxVolume": {
            "type": "integer",
            "format": "int32"
          },
          "ascendDurationSeconds": {
            "type": "integer",
            "format": "int32"
          },
          "repeatCount": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "AlarmVibrationSettings": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "pattern": {
            "type": "string"
          },
          "customPattern": {
            "type": "array",
            "nullable": true,
            "items": {
              "type": "integer",
              "format": "int32"
            }
          }
        }
      },
      "AlarmVisualSettings": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "screenFlash": {
            "type": "boolean"
          },
          "flashColor": {
            "type": "string"
          },
          "flashIntervalMs": {
            "type": "integer",
            "format": "int32"
          },
          "persistentBanner": {
            "type": "boolean"
          },
          "wakeScreen": {
            "type": "boolean"
          }
        }
      },
      "AlarmSnoozeSettings": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "defaultMinutes": {
            "type": "integer",
            "format": "int32"
          },
          "options": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int32"
            }
          },
          "maxMinutes": {
            "type": "integer",
            "format": "int32"
          },
          "maxSnoozeCount": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        }
      },
      "AlarmReraiseSettings": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "intervalMinutes": {
            "type": "integer",
            "format": "int32"
          },
          "escalate": {
            "type": "boolean"
          },
          "escalationVolumeStep": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "SmartSnoozeSettings": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "extendWhenTrendingCorrect": {
            "type": "boolean"
          },
          "minDeltaThreshold": {
            "type": "integer",
            "format": "int32"
          },
          "extensionMinutes": {
            "type": "integer",
            "format": "int32"
          },
          "maxTotalMinutes": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "AlarmScheduleSettings": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "activeRanges": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TimeRange"
            }
          },
          "activeDays": {
            "type": "array",
            "nullable": true,
            "items": {
              "type": "integer",
              "format": "int32"
            }
          },
          "timezone": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "TimeRange": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "startTime": {
            "type": "string"
          },
          "endTime": {
            "type": "string"
          }
        }
      },
      "AlarmPriority": {
        "type": "string",
        "description": "",
        "x-enumNames": [
          "Low",
          "Normal",
          "High",
          "Critical"
        ],
        "enum": [
          "Low",
          "Normal",
          "High",
          "Critical"
        ]
      },
      "QuietHoursConfiguration": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "startTime": {
            "type": "string"
          },
          "endTime": {
            "type": "string"
          },
          "allowCritical": {
            "type": "boolean"
          },
          "reduceVolume": {
            "type": "boolean"
          },
          "quietVolume": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "CustomSoundReference": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "url": {
            "type": "string"
          },
          "durationSeconds": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "uploadedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "EmergencyContactConfig": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "phone": {
            "type": "string",
            "nullable": true
          },
          "email": {
            "type": "string",
            "nullable": true
          },
          "criticalOnly": {
            "type": "boolean"
          },
          "delayMinutes": {
            "type": "integer",
            "format": "int32"
          },
          "enabled": {
            "type": "boolean"
          }
        }
      },
      "NotificationChannelsConfig": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "push": {
            "$ref": "#/components/schemas/ChannelConfig"
          },
          "email": {
            "$ref": "#/components/schemas/ChannelConfig"
          },
          "sms": {
            "$ref": "#/components/schemas/ChannelConfig"
          },
          "pushover": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/PushoverChannelConfig"
              }
            ]
          }
        }
      },
      "ChannelConfig": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "minPriority": {
            "$ref": "#/components/schemas/AlarmPriority"
          }
        }
      },
      "PushoverChannelConfig": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ChannelConfig"
          },
          {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "userKey": {
                "type": "string",
                "nullable": true
              },
              "apiToken": {
                "type": "string",
                "nullable": true
              }
            }
          }
        ]
      },
      "ServicesSettings": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "connectedServices": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ConnectedService"
            }
          },
          "availableServices": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AvailableService"
            }
          },
          "syncSettings": {
            "$ref": "#/components/schemas/SyncSettings"
          }
        }
      },
      "ConnectedService": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "lastSync": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "icon": {
            "type": "string"
          },
          "configured": {
            "type": "boolean"
          },
          "enabled": {
            "type": "boolean"
          }
        }
      },
      "AvailableService": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "icon": {
            "type": "string"
          }
        }
      },
      "SyncSettings": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "autoSync": {
            "type": "boolean"
          },
          "syncOnAppOpen": {
            "type": "boolean"
          },
          "backgroundRefresh": {
            "type": "boolean"
          }
        }
      },
      "UserPreferencesResponse": {
        "type": "object",
        "description": "User preferences response",
        "additionalProperties": false,
        "properties": {
          "preferredLanguage": {
            "type": "string",
            "description": "User's preferred language code (e.g., \"en\", \"fr\", \"de\")",
            "nullable": true
          }
        }
      },
      "UpdateUserPreferencesRequest": {
        "type": "object",
        "description": "Request to update user preferences",
        "additionalProperties": false,
        "properties": {
          "preferredLanguage": {
            "type": "string",
            "description": "User's preferred language code (e.g., \"en\", \"fr\", \"de\")",
            "nullable": true
          }
        }
      },
      "V3CollectionResponseOfObject": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "status": {
            "type": "string"
          },
          "data": {
            "type": "array",
            "items": {}
          },
          "total": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "skip": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "limit": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "meta": {
            "$ref": "#/components/schemas/V3ResponseMetadata"
          }
        }
      },
      "V3ResponseMetadata": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "timestamp": {
            "type": "string",
            "format": "date-time"
          },
          "version": {
            "type": "string"
          },
          "executionTime": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "requestId": {
            "type": "string",
            "nullable": true
          },
          "eTag": {
            "type": "string",
            "nullable": true
          },
          "lastModified": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "totalCount": {
            "type": "integer",
            "format": "int32"
          },
          "limit": {
            "type": "integer",
            "format": "int32"
          },
          "offset": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "V3ErrorResponse": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "status": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "code": {
            "type": "string",
            "nullable": true
          },
          "timestamp": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "path": {
            "type": "string",
            "nullable": true
          },
          "details": {
            "type": "object",
            "nullable": true,
            "additionalProperties": {}
          }
        }
      },
      "DeviceStatus": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ProcessableDocumentBase"
          },
          {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "_id": {
                "type": "string",
                "nullable": true
              },
              "mills": {
                "type": "integer",
                "format": "int64"
              },
              "created_at": {
                "type": "string",
                "nullable": true
              },
              "utcOffset": {
                "type": "integer",
                "format": "int32",
                "nullable": true
              },
              "device": {
                "type": "string"
              },
              "isCharging": {
                "type": "boolean",
                "nullable": true
              },
              "uploader": {
                "nullable": true,
                "oneOf": [
                  {
                    "$ref": "#/components/schemas/UploaderStatus"
                  }
                ]
              },
              "pump": {
                "nullable": true,
                "oneOf": [
                  {
                    "$ref": "#/components/schemas/PumpStatus"
                  }
                ]
              },
              "openaps": {
                "nullable": true,
                "oneOf": [
                  {
                    "$ref": "#/components/schemas/OpenApsStatus"
                  }
                ]
              },
              "loop": {
                "nullable": true,
                "oneOf": [
                  {
                    "$ref": "#/components/schemas/LoopStatus"
                  }
                ]
              },
              "xdripjs": {
                "nullable": true,
                "oneOf": [
                  {
                    "$ref": "#/components/schemas/XDripJsStatus"
                  }
                ]
              },
              "radioAdapter": {
                "nullable": true,
                "oneOf": [
                  {
                    "$ref": "#/components/schemas/RadioAdapterStatus"
                  }
                ]
              },
              "connect": {
                "nullable": true
              },
              "override": {
                "nullable": true,
                "oneOf": [
                  {
                    "$ref": "#/components/schemas/OverrideStatus"
                  }
                ]
              },
              "cgm": {
                "nullable": true,
                "oneOf": [
                  {
                    "$ref": "#/components/schemas/CgmStatus"
                  }
                ]
              },
              "meter": {
                "nullable": true,
                "oneOf": [
                  {
                    "$ref": "#/components/schemas/MeterStatus"
                  }
                ]
              },
              "insulinPen": {
                "nullable": true,
                "oneOf": [
                  {
                    "$ref": "#/components/schemas/InsulinPenStatus"
                  }
                ]
              },
              "mmtune": {
                "nullable": true,
                "oneOf": [
                  {
                    "$ref": "#/components/schemas/OpenApsMmTune"
                  }
                ]
              }
            }
          }
        ]
      },
      "UploaderStatus": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "battery": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "batteryVoltage": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "temperature": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "type": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "PumpStatus": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "battery": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/PumpBattery"
              }
            ]
          },
          "reservoir": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "clock": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/PumpStatusDetails"
              }
            ]
          },
          "iob": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/PumpIob"
              }
            ]
          },
          "reservoir_display_override": {
            "type": "string",
            "nullable": true
          },
          "reservoir_level_override": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/PumpAlertLevel"
              }
            ]
          },
          "manufacturer": {
            "type": "string",
            "nullable": true
          },
          "model": {
            "type": "string",
            "nullable": true
          },
          "extended": {
            "type": "object",
            "nullable": true,
            "additionalProperties": {}
          }
        }
      },
      "PumpBattery": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "percent": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "voltage": {
            "type": "number",
            "format": "double",
            "nullable": true
          }
        }
      },
      "PumpStatusDetails": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "status": {
            "type": "string",
            "nullable": true
          },
          "bolusing": {
            "type": "boolean",
            "nullable": true
          },
          "suspended": {
            "type": "boolean",
            "nullable": true
          }
        }
      },
      "PumpIob": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "timestamp": {
            "type": "string",
            "nullable": true
          },
          "bolusiob": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "basaliob": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "iob": {
            "type": "number",
            "format": "double",
            "nullable": true
          }
        }
      },
      "PumpAlertLevel": {
        "type": "integer",
        "description": "",
        "x-enumNames": [
          "None",
          "Info",
          "Warn",
          "Urgent"
        ],
        "enum": [
          0,
          1,
          2,
          3
        ]
      },
      "OpenApsStatus": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "suggested": {
            "nullable": true
          },
          "enacted": {
            "nullable": true
          },
          "iob": {
            "nullable": true
          },
          "cob": {
            "type": "number",
            "format": "double",
            "nullable": true
          }
        }
      },
      "LoopStatus": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "iob": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/LoopIob"
              }
            ]
          },
          "cob": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/LoopCob"
              }
            ]
          },
          "predicted": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/LoopPredicted"
              }
            ]
          },
          "recommendedBolus": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "name": {
            "type": "string",
            "nullable": true
          },
          "version": {
            "type": "string",
            "nullable": true
          },
          "timestamp": {
            "type": "string",
            "nullable": true
          },
          "recommended": {
            "nullable": true
          },
          "enacted": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/LoopEnacted"
              }
            ]
          },
          "recommendedTempBasal": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/LoopRecommendedTempBasal"
              }
            ]
          },
          "failureReason": {
            "type": "string",
            "nullable": true
          },
          "rileylinks": {
            "type": "array",
            "nullable": true,
            "items": {
              "$ref": "#/components/schemas/RileyLinkStatus"
            }
          },
          "automaticDoseRecommendation": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/LoopAutomaticDoseRecommendation"
              }
            ]
          },
          "currentCorrectionRange": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/CorrectionRange"
              }
            ]
          },
          "forecastError": {
            "nullable": true
          }
        }
      },
      "LoopIob": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "timestamp": {
            "type": "string",
            "nullable": true
          },
          "iob": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "basaliob": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "netbasalinsulin": {
            "type": "number",
            "format": "double",
            "nullable": true
          }
        }
      },
      "LoopCob": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "timestamp": {
            "type": "string",
            "nullable": true
          },
          "cob": {
            "type": "number",
            "format": "double",
            "nullable": true
          }
        }
      },
      "LoopPredicted": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "values": {
            "type": "array",
            "nullable": true,
            "items": {
              "type": "number",
              "format": "double"
            }
          },
          "startDate": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "LoopEnacted": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "bolusVolume": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "rate": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "duration": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "timestamp": {
            "type": "string",
            "nullable": true
          },
          "reason": {
            "type": "string",
            "nullable": true
          },
          "received": {
            "type": "boolean",
            "nullable": true
          }
        }
      },
      "LoopRecommendedTempBasal": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "rate": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "duration": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "timestamp": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "RileyLinkStatus": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "name": {
            "type": "string",
            "nullable": true
          },
          "signal": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "timestamp": {
            "type": "string",
            "nullable": true
          },
          "radioFirmware": {
            "type": "string",
            "nullable": true
          },
          "bleFirmware": {
            "type": "string",
            "nullable": true
          },
          "connected": {
            "type": "boolean",
            "nullable": true
          }
        }
      },
      "LoopAutomaticDoseRecommendation": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "bolus": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "tempBasal": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/LoopRecommendedTempBasal"
              }
            ]
          },
          "timestamp": {
            "type": "string",
            "nullable": true
          },
          "notice": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "CorrectionRange": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "maxValue": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "minValue": {
            "type": "number",
            "format": "double",
            "nullable": true
          }
        }
      },
      "XDripJsStatus": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "state": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "stateString": {
            "type": "string",
            "nullable": true
          },
          "voltagea": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "voltageb": {
            "type": "number",
            "format": "double",
            "nullable": true
          }
        }
      },
      "RadioAdapterStatus": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "pumpRSSI": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "RSSI": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        }
      },
      "OverrideStatus": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "name": {
            "type": "string",
            "nullable": true
          },
          "timestamp": {
            "type": "string",
            "nullable": true
          },
          "duration": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "active": {
            "type": "boolean",
            "nullable": true
          },
          "multiplier": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "currentCorrectionRange": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/CorrectionRange"
              }
            ]
          }
        }
      },
      "CgmStatus": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "sensorAge": {
            "type": "string",
            "nullable": true
          },
          "transmitterAge": {
            "type": "string",
            "nullable": true
          },
          "signalStrength": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "calibrationStatus": {
            "type": "string",
            "nullable": true
          },
          "lastReading": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "sensorState": {
            "type": "string",
            "nullable": true
          },
          "sessionTimeRemaining": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "transmitterBattery": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        }
      },
      "MeterStatus": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "batteryLevel": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "testStripsRemaining": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "lastReading": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "clockStatus": {
            "type": "string",
            "nullable": true
          },
          "meterModel": {
            "type": "string",
            "nullable": true
          },
          "memoryUsage": {
            "type": "number",
            "format": "double",
            "nullable": true
          }
        }
      },
      "InsulinPenStatus": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "batteryLevel": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "cartridgeRemaining": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "lastInjection": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "penModel": {
            "type": "string",
            "nullable": true
          },
          "insulinType": {
            "type": "string",
            "nullable": true
          },
          "needleAttached": {
            "type": "boolean",
            "nullable": true
          },
          "cartridgeExpiration": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        }
      },
      "OpenApsMmTune": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "scanDetails": {
            "type": "array",
            "nullable": true,
            "items": {
              "type": "array",
              "items": {}
            }
          },
          "setFreq": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "timestamp": {
            "type": "string",
            "nullable": true
          },
          "usedDefault": {
            "type": "boolean",
            "nullable": true
          },
          "moment": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        }
      },
      "LastModifiedResponse": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "entries": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "treatments": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "profile": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "deviceStatus": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "food": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "settings": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "activity": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "serverTime": {
            "type": "string",
            "format": "date-time"
          },
          "additional": {
            "type": "object",
            "additionalProperties": {
              "type": "string",
              "format": "date-time"
            }
          }
        }
      },
      "Profile": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "_id": {
            "type": "string",
            "nullable": true
          },
          "defaultProfile": {
            "type": "string"
          },
          "startDate": {
            "type": "string"
          },
          "mills": {
            "type": "integer",
            "format": "int64"
          },
          "created_at": {
            "type": "string",
            "nullable": true
          },
          "units": {
            "type": "string"
          },
          "store": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/ProfileData"
            }
          },
          "enteredBy": {
            "type": "string",
            "nullable": true
          },
          "loopSettings": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/LoopProfileSettings"
              }
            ]
          },
          "isExternallyManaged": {
            "type": "boolean"
          }
        }
      },
      "ProfileData": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "dia": {
            "type": "number",
            "format": "double"
          },
          "carbs_hr": {
            "type": "integer",
            "format": "int32"
          },
          "delay": {
            "type": "integer",
            "format": "int32"
          },
          "timezone": {
            "type": "string",
            "nullable": true
          },
          "units": {
            "type": "string",
            "nullable": true
          },
          "perGIvalues": {
            "type": "boolean",
            "nullable": true
          },
          "carbs_hr_high": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "carbs_hr_medium": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "carbs_hr_low": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "delay_high": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "delay_medium": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "delay_low": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "basal": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TimeValue"
            }
          },
          "carbratio": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TimeValue"
            }
          },
          "sens": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TimeValue"
            }
          },
          "target_low": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TimeValue"
            }
          },
          "target_high": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TimeValue"
            }
          }
        }
      },
      "TimeValue": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "time": {
            "type": "string"
          },
          "value": {
            "type": "number",
            "format": "double"
          },
          "timeAsSeconds": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        }
      },
      "LoopProfileSettings": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "deviceToken": {
            "type": "string",
            "nullable": true
          },
          "bundleIdentifier": {
            "type": "string",
            "nullable": true
          },
          "overridePresets": {
            "type": "array",
            "nullable": true,
            "items": {
              "$ref": "#/components/schemas/LoopOverridePreset"
            }
          },
          "dosingEnabled": {
            "type": "boolean",
            "nullable": true
          },
          "minimumBGGuard": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "preMealTargetRange": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/LoopTargetRange"
              }
            ]
          },
          "workoutTargetRange": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/LoopTargetRange"
              }
            ]
          },
          "maximumBolus": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "maximumBasalRatePerHour": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "dosingStrategy": {
            "type": "string",
            "nullable": true
          },
          "scheduleOverride": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/LoopOverridePreset"
              }
            ]
          }
        }
      },
      "LoopOverridePreset": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "name": {
            "type": "string",
            "nullable": true
          },
          "symbol": {
            "type": "string",
            "nullable": true
          },
          "duration": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "targetRange": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/LoopTargetRange"
              }
            ]
          },
          "insulinNeedsScaleFactor": {
            "type": "number",
            "format": "double",
            "nullable": true
          }
        }
      },
      "LoopTargetRange": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "minValue": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "maxValue": {
            "type": "number",
            "format": "double",
            "nullable": true
          }
        }
      },
      "Settings": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ProcessableDocumentBase"
          },
          {
            "type": "object",
            "additionalProperties": false,
            "required": [
              "key"
            ],
            "properties": {
              "_id": {
                "type": "string",
                "nullable": true
              },
              "key": {
                "type": "string",
                "minLength": 1
              },
              "value": {
                "nullable": true
              },
              "created_at": {
                "type": "string",
                "nullable": true
              },
              "mills": {
                "type": "integer",
                "format": "int64"
              },
              "utcOffset": {
                "type": "integer",
                "format": "int32",
                "nullable": true
              },
              "srvCreated": {
                "type": "string",
                "format": "date-time",
                "nullable": true
              },
              "srvModified": {
                "type": "string",
                "format": "date-time",
                "nullable": true
              },
              "app": {
                "type": "string",
                "nullable": true
              },
              "device": {
                "type": "string",
                "nullable": true
              },
              "enteredBy": {
                "type": "string",
                "nullable": true
              },
              "version": {
                "type": "integer",
                "format": "int32",
                "nullable": true
              },
              "isActive": {
                "type": "boolean"
              },
              "notes": {
                "type": "string",
                "nullable": true
              }
            }
          }
        ]
      },
      "V3StatusResponse": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "status": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "version": {
            "type": "string"
          },
          "serverTime": {
            "type": "string",
            "format": "date-time"
          },
          "apiEnabled": {
            "type": "boolean"
          },
          "careportalEnabled": {
            "type": "boolean"
          },
          "head": {
            "type": "string"
          },
          "settings": {
            "type": "object",
            "additionalProperties": {}
          },
          "extended": {
            "$ref": "#/components/schemas/ExtendedStatusInfo"
          }
        }
      },
      "ExtendedStatusInfo": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "authorization": {
            "$ref": "#/components/schemas/AuthorizationInfo"
          },
          "permissions": {
            "type": "object",
            "additionalProperties": {
              "type": "boolean"
            }
          },
          "uptimeMs": {
            "type": "integer",
            "format": "int64"
          },
          "collections": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "apiVersions": {
            "type": "object",
            "additionalProperties": {
              "type": "boolean"
            }
          }
        }
      },
      "AuthorizationInfo": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "isAuthorized": {
            "type": "boolean"
          },
          "scope": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "subject": {
            "type": "string",
            "nullable": true
          },
          "roles": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "VersionResponse": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "version": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "serverTime": {
            "type": "string",
            "format": "date-time"
          },
          "head": {
            "type": "string"
          },
          "build": {
            "type": "string"
          },
          "apiCompatibility": {
            "type": "string"
          }
        }
      },
      "DDataResponse": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "devicestatus": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DeviceStatus"
            }
          },
          "sgvs": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Entry"
            }
          },
          "cals": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Entry"
            }
          },
          "profiles": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Profile"
            }
          },
          "mbgs": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Entry"
            }
          },
          "food": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Food"
            }
          },
          "treatments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Treatment"
            }
          },
          "dbstats": {
            "$ref": "#/components/schemas/DbStats"
          }
        }
      },
      "DbStats": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "dataSize": {
            "type": "integer",
            "format": "int64"
          },
          "collections": {
            "type": "integer",
            "format": "int32"
          },
          "indexes": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "DData": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "sgvs": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Entry"
            }
          },
          "treatments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Treatment"
            }
          },
          "mbgs": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Entry"
            }
          },
          "cals": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Entry"
            }
          },
          "cal": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/Entry"
              }
            ]
          },
          "profiles": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Profile"
            }
          },
          "devicestatus": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DeviceStatus"
            }
          },
          "food": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Food"
            }
          },
          "activity": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Activity"
            }
          },
          "dbstats": {
            "$ref": "#/components/schemas/DbStats"
          },
          "lastUpdated": {
            "type": "integer",
            "format": "int64"
          },
          "inRetroMode": {
            "type": "boolean",
            "nullable": true
          },
          "sitechangeTreatments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Treatment"
            }
          },
          "insulinchangeTreatments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Treatment"
            }
          },
          "batteryTreatments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Treatment"
            }
          },
          "sensorTreatments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Treatment"
            }
          },
          "combobolusTreatments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Treatment"
            }
          },
          "profileTreatments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Treatment"
            }
          },
          "tempbasalTreatments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Treatment"
            }
          },
          "tempTargetTreatments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Treatment"
            }
          }
        }
      },
      "Activity": {
        "allOf": [
          {
            "$ref": "#/components/schemas/ProcessableDocumentBase"
          },
          {
            "type": "object",
            "additionalProperties": {},
            "properties": {
              "_id": {
                "type": "string",
                "nullable": true
              },
              "created_at": {
                "type": "string",
                "nullable": true
              },
              "timestamp": {
                "type": "integer",
                "format": "int64",
                "nullable": true
              },
              "mills": {
                "type": "integer",
                "format": "int64"
              },
              "utcOffset": {
                "type": "integer",
                "format": "int32",
                "nullable": true
              },
              "type": {
                "type": "string",
                "nullable": true
              },
              "description": {
                "type": "string",
                "nullable": true
              },
              "duration": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "intensity": {
                "type": "string",
                "nullable": true
              },
              "notes": {
                "type": "string",
                "nullable": true
              },
              "enteredBy": {
                "type": "string",
                "nullable": true
              },
              "dateString": {
                "type": "string",
                "nullable": true
              },
              "distance": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "distanceUnits": {
                "type": "string",
                "nullable": true
              },
              "energy": {
                "type": "number",
                "format": "double",
                "nullable": true
              },
              "energyUnits": {
                "type": "string",
                "nullable": true
              },
              "name": {
                "type": "string",
                "nullable": true
              }
            }
          }
        ]
      },
      "LoopNotificationResponse": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "success": {
            "type": "boolean"
          },
          "message": {
            "type": "string"
          },
          "timestamp": {
            "type": "integer",
            "format": "int64"
          },
          "data": {
            "nullable": true
          }
        }
      },
      "LoopSendRequest": {
        "type": "object",
        "description": "Loop notification request model for the direct Loop endpoint\nCombines the data and loopSettings for a complete notification request",
        "additionalProperties": false,
        "properties": {
          "data": {
            "description": "Loop notification data (matches legacy data structure)",
            "oneOf": [
              {
                "$ref": "#/components/schemas/LoopNotificationData"
              }
            ]
          },
          "loopSettings": {
            "description": "Loop settings from user profile containing device token and bundle ID",
            "oneOf": [
              {
                "$ref": "#/components/schemas/LoopSettings2"
              }
            ]
          }
        }
      },
      "LoopNotificationData": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "eventType": {
            "type": "string"
          },
          "notes": {
            "type": "string",
            "nullable": true
          },
          "enteredBy": {
            "type": "string",
            "nullable": true
          },
          "reason": {
            "type": "string",
            "nullable": true
          },
          "reasonDisplay": {
            "type": "string",
            "nullable": true
          },
          "duration": {
            "type": "string",
            "nullable": true
          },
          "remoteCarbs": {
            "type": "string",
            "nullable": true
          },
          "remoteAbsorption": {
            "type": "string",
            "nullable": true
          },
          "remoteBolus": {
            "type": "string",
            "nullable": true
          },
          "otp": {
            "type": "string",
            "nullable": true
          },
          "created_at": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "LoopSettings2": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "deviceToken": {
            "type": "string",
            "nullable": true
          },
          "bundleIdentifier": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "NotificationV2Response": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "success": {
            "type": "boolean"
          },
          "message": {
            "type": "string"
          },
          "data": {
            "nullable": true
          },
          "timestamp": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "LoopNotificationRequest": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "type": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "title": {
            "type": "string",
            "nullable": true
          },
          "urgency": {
            "type": "string",
            "nullable": true
          },
          "sound": {
            "type": "string",
            "nullable": true
          },
          "group": {
            "type": "string",
            "nullable": true
          },
          "timestamp": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "data": {
            "type": "object",
            "nullable": true,
            "additionalProperties": {}
          },
          "isAnnouncement": {
            "type": "boolean",
            "nullable": true
          }
        }
      },
      "NotificationBase": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "level": {
            "type": "integer",
            "format": "int32"
          },
          "title": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "group": {
            "type": "string"
          },
          "timestamp": {
            "type": "integer",
            "format": "int64"
          },
          "plugin": {
            "type": "string",
            "nullable": true
          },
          "isAnnouncement": {
            "type": "boolean"
          },
          "debug": {
            "nullable": true
          },
          "count": {
            "type": "integer",
            "format": "int32"
          },
          "lastRecorded": {
            "type": "integer",
            "format": "int64"
          },
          "persistent": {
            "type": "boolean"
          },
          "clear": {
            "type": "boolean"
          }
        }
      },
      "SummaryResponse": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "sgvs": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SummarySgv"
            }
          },
          "treatments": {
            "$ref": "#/components/schemas/SummaryTreatments"
          },
          "profile": {
            "nullable": true
          },
          "state": {
            "$ref": "#/components/schemas/SummaryState"
          }
        }
      },
      "SummarySgv": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "sgv": {
            "type": "integer",
            "format": "int32"
          },
          "mills": {
            "type": "integer",
            "format": "int64"
          },
          "noise": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        }
      },
      "SummaryTreatments": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "tempBasals": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SummaryTempBasal"
            }
          },
          "treatments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SummaryTreatment"
            }
          },
          "targets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SummaryTarget"
            }
          }
        }
      },
      "SummaryTempBasal": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "start": {
            "type": "integer",
            "format": "int64"
          },
          "duration": {
            "type": "integer",
            "format": "int32"
          },
          "absolute": {
            "type": "number",
            "format": "double"
          },
          "profile": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        }
      },
      "SummaryTreatment": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "mills": {
            "type": "integer",
            "format": "int64"
          },
          "carbs": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "insulin": {
            "type": "number",
            "format": "double",
            "nullable": true
          }
        }
      },
      "SummaryTarget": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "targetTop": {
            "type": "integer",
            "format": "int32"
          },
          "targetBottom": {
            "type": "integer",
            "format": "int32"
          },
          "duration": {
            "type": "integer",
            "format": "int32"
          },
          "mills": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "SummaryState": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "iob": {
            "type": "number",
            "format": "double"
          },
          "cob": {
            "type": "integer",
            "format": "int32"
          },
          "bwp": {
            "type": "number",
            "format": "double"
          },
          "cage": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "sage": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "iage": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "bage": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "battery": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "calib_age": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "sensor_expires_in": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        }
      },
      "AlexaResponse": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "version": {
            "type": "string"
          },
          "sessionAttributes": {
            "type": "object",
            "additionalProperties": {}
          },
          "response": {
            "$ref": "#/components/schemas/AlexaResponseBody"
          }
        }
      },
      "AlexaResponseBody": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "outputSpeech": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/AlexaOutputSpeech"
              }
            ]
          },
          "shouldEndSession": {
            "type": "boolean"
          },
          "card": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/AlexaCard"
              }
            ]
          },
          "reprompt": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/AlexaReprompt"
              }
            ]
          }
        }
      },
      "AlexaOutputSpeech": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "type": {
            "type": "string"
          },
          "text": {
            "type": "string"
          },
          "ssml": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "AlexaCard": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "type": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "text": {
            "type": "string",
            "nullable": true
          },
          "smallImageUrl": {
            "type": "string",
            "nullable": true
          },
          "largeImageUrl": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "AlexaReprompt": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "outputSpeech": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/AlexaOutputSpeech"
              }
            ]
          }
        }
      },
      "AlexaRequest": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "version": {
            "type": "string"
          },
          "session": {
            "$ref": "#/components/schemas/AlexaSession"
          },
          "request": {
            "$ref": "#/components/schemas/AlexaRequestDetails"
          }
        }
      },
      "AlexaSession": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "sessionId": {
            "type": "string"
          },
          "new": {
            "type": "boolean"
          },
          "attributes": {
            "type": "object",
            "additionalProperties": {}
          },
          "user": {
            "$ref": "#/components/schemas/AlexaUser"
          }
        }
      },
      "AlexaUser": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "userId": {
            "type": "string"
          }
        }
      },
      "AlexaRequestDetails": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "type": {
            "type": "string"
          },
          "requestId": {
            "type": "string"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          },
          "intent": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/AlexaIntent"
              }
            ]
          },
          "locale": {
            "type": "string"
          }
        }
      },
      "AlexaIntent": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "name": {
            "type": "string"
          },
          "slots": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/AlexaSlot"
            }
          }
        }
      },
      "AlexaSlot": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "name": {
            "type": "string"
          },
          "value": {
            "type": "string"
          }
        }
      },
      "CountResponse": {
        "type": "object",
        "description": "Response object for count endpoints",
        "additionalProperties": false,
        "properties": {
          "count": {
            "type": "integer",
            "description": "Number of records matching the query criteria",
            "format": "int64"
          }
        }
      },
      "AsyncProcessingResponse": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "correlationId": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "statusUrl": {
            "type": "string"
          },
          "estimatedProcessingTime": {
            "type": "string",
            "format": "duration"
          },
          "estimatedCompletion": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        }
      },
      "IobResult": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "iob": {
            "type": "number",
            "format": "double"
          },
          "activity": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "lastBolus": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/Treatment"
              }
            ]
          },
          "source": {
            "type": "string",
            "nullable": true
          },
          "device": {
            "type": "string",
            "nullable": true
          },
          "mills": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "basalIob": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "treatmentIob": {
            "type": "number",
            "format": "double",
            "nullable": true
          },
          "display": {
            "type": "string",
            "nullable": true
          },
          "displayLine": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "HourlyIobResponse": {
        "type": "object",
        "description": "Response model for hourly IOB breakdown",
        "additionalProperties": false,
        "properties": {
          "startTime": {
            "type": "integer",
            "format": "int64"
          },
          "endTime": {
            "type": "integer",
            "format": "int64"
          },
          "intervalMinutes": {
            "type": "integer",
            "format": "int32"
          },
          "hours": {
            "type": "integer",
            "format": "int32"
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/HourlyIobData"
            }
          }
        }
      },
      "HourlyIobData": {
        "type": "object",
        "description": "Individual hourly IOB data point",
        "additionalProperties": false,
        "properties": {
          "timeSlot": {
            "type": "integer",
            "format": "int64"
          },
          "hour": {
            "type": "integer",
            "format": "int32"
          },
          "minute": {
            "type": "integer",
            "format": "int32"
          },
          "timeLabel": {
            "type": "string"
          },
          "totalIOB": {
            "type": "number",
            "format": "double"
          },
          "bolusIOB": {
            "type": "number",
            "format": "double"
          },
          "basalIOB": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "DeviceAgeInfo": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "found": {
            "type": "boolean"
          },
          "age": {
            "type": "integer",
            "format": "int32"
          },
          "days": {
            "type": "integer",
            "format": "int32"
          },
          "hours": {
            "type": "integer",
            "format": "int32"
          },
          "treatmentDate": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "notes": {
            "type": "string",
            "nullable": true
          },
          "minFractions": {
            "type": "integer",
            "format": "int32"
          },
          "level": {
            "type": "integer",
            "format": "int32"
          },
          "display": {
            "type": "string"
          },
          "notification": {
            "nullable": true,
            "oneOf": [
              {
                "$ref": "#/components/schemas/DeviceAgeNotification"
              }
            ]
          }
        }
      },
      "DeviceAgeNotification": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "title": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "pushoverSound": {
            "type": "string"
          },
          "level": {
            "type": "integer",
            "format": "int32"
          },
          "group": {
            "type": "string"
          }
        }
      },
      "SensorAgeInfo": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "Sensor Start": {
            "$ref": "#/components/schemas/DeviceAgeInfo"
          },
          "Sensor Change": {
            "$ref": "#/components/schemas/DeviceAgeInfo"
          },
          "min": {
            "type": "string"
          }
        }
      },
      "NotificationAckResponse": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "success": {
            "type": "boolean"
          },
          "message": {
            "type": "string"
          },
          "timestamp": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "NotificationAckRequest": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "level": {
            "type": "integer",
            "format": "int32"
          },
          "group": {
            "type": "string"
          },
          "time": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "sendClear": {
            "type": "boolean",
            "nullable": true
          }
        }
      },
      "PushoverCallbackRequest": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "receipt": {
            "type": "string",
            "nullable": true
          },
          "status": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "acknowledged_at": {
            "type": "integer",
            "format": "int64",
            "nullable": true
          },
          "acknowledged_by": {
            "type": "string",
            "nullable": true
          },
          "user_key": {
            "type": "string",
            "nullable": true
          },
          "callback": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "AdminNotifiesResponse": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "status": {
            "type": "integer",
            "format": "int32"
          },
          "message": {
            "$ref": "#/components/schemas/AdminNotifiesMessage"
          }
        }
      },
      "AdminNotifiesMessage": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "notifies": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AdminNotification"
            }
          },
          "notifyCount": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "AdminNotification": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "title": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "count": {
            "type": "integer",
            "format": "int32"
          },
          "lastRecorded": {
            "type": "integer",
            "format": "int64"
          },
          "persistent": {
            "type": "boolean"
          }
        }
      },
      "PushoverNotificationRequest": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "title": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "level": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "group": {
            "type": "string",
            "nullable": true
          },
          "priority": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "sound": {
            "type": "string",
            "nullable": true
          },
          "device": {
            "type": "string",
            "nullable": true
          },
          "url": {
            "type": "string",
            "nullable": true
          },
          "urlTitle": {
            "type": "string",
            "nullable": true
          },
          "retry": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          },
          "expire": {
            "type": "integer",
            "format": "int32",
            "nullable": true
          }
        }
      },
      "TimeQueryEcho": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "req": {
            "$ref": "#/components/schemas/TimeQueryRequest"
          },
          "pattern": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "query": {
            "type": "object",
            "additionalProperties": {}
          }
        }
      },
      "TimeQueryRequest": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "params": {
            "type": "object",
            "additionalProperties": {
              "type": "string",
              "nullable": true
            }
          },
          "query": {
            "type": "object",
            "additionalProperties": {}
          }
        }
      }
    }
  }
}