// AUTO-GENERATED - DO NOT EDIT
// Generated by @nocturne/remote-function-codegen
// Source: openapi.json

import { getRequestEvent, query } from '$app/server';
import { error } from '@sveltejs/kit';
import { z } from 'zod';

/** Get glucose predictions based on current data.
Returns predicted glucose values for the next 4 hours in 5-minute intervals. */
export const getPredictions = query(z.object({ profileId: z.string().optional() }).optional(), async (params) => {
  const { locals } = getRequestEvent();
  const { apiClient } = locals;
  try {
    return await apiClient.predictions.getPredictions(params?.profileId);
  } catch (err) {
    console.error('Error in predictions.getPredictions:', err);
    throw error(500, 'Failed to get predictions');
  }
});

/** Check the status of the prediction service. */
export const getStatus = query(async () => {
  const { locals } = getRequestEvent();
  const { apiClient } = locals;
  try {
    return await apiClient.predictions.getStatus();
  } catch (err) {
    console.error('Error in predictions.getStatus:', err);
    throw error(500, 'Failed to get status');
  }
});
