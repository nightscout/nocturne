// AUTO-GENERATED - DO NOT EDIT
// Generated by @nocturne/remote-function-codegen
// Source: openapi.json

import { getRequestEvent, query } from '$app/server';
import { error, redirect } from '@sveltejs/kit';
import { z } from 'zod';

/** Get APS snapshots with optional filtering */
export const getApsSnapshots = query(z.object({ from: z.number().optional(), to: z.number().optional(), limit: z.number().optional(), offset: z.number().optional(), sort: z.string().optional(), device: z.string().optional(), source: z.string().optional() }).optional(), async (params) => {
  const { locals } = getRequestEvent();
  const { apiClient } = locals;
  try {
    return await apiClient.deviceStatus.getApsSnapshots(params?.from, params?.to, params?.limit, params?.offset, params?.sort, params?.device, params?.source);
  } catch (err) {
    const status = (err as any)?.status;
    if (status === 401) { const { url } = getRequestEvent(); throw redirect(302, `/login?redirectTo=${encodeURIComponent(url.pathname + url.search)}`); }
    if (status === 403) throw error(403, 'Forbidden');
    console.error('Error in deviceStatus.getApsSnapshots:', err);
    throw error(500, 'Failed to get aps snapshots');
  }
});

/** Get an APS snapshot by ID */
export const getApsSnapshotById = query(z.string(), async (id) => {
  const { locals } = getRequestEvent();
  const { apiClient } = locals;
  try {
    return await apiClient.deviceStatus.getApsSnapshotById(id);
  } catch (err) {
    const status = (err as any)?.status;
    if (status === 401) { const { url } = getRequestEvent(); throw redirect(302, `/login?redirectTo=${encodeURIComponent(url.pathname + url.search)}`); }
    if (status === 403) throw error(403, 'Forbidden');
    console.error('Error in deviceStatus.getApsSnapshotById:', err);
    throw error(500, 'Failed to get aps snapshot by id');
  }
});

/** Get pump snapshots with optional filtering */
export const getPumpSnapshots = query(z.object({ from: z.number().optional(), to: z.number().optional(), limit: z.number().optional(), offset: z.number().optional(), sort: z.string().optional(), device: z.string().optional(), source: z.string().optional() }).optional(), async (params) => {
  const { locals } = getRequestEvent();
  const { apiClient } = locals;
  try {
    return await apiClient.deviceStatus.getPumpSnapshots(params?.from, params?.to, params?.limit, params?.offset, params?.sort, params?.device, params?.source);
  } catch (err) {
    const status = (err as any)?.status;
    if (status === 401) { const { url } = getRequestEvent(); throw redirect(302, `/login?redirectTo=${encodeURIComponent(url.pathname + url.search)}`); }
    if (status === 403) throw error(403, 'Forbidden');
    console.error('Error in deviceStatus.getPumpSnapshots:', err);
    throw error(500, 'Failed to get pump snapshots');
  }
});

/** Get a pump snapshot by ID */
export const getPumpSnapshotById = query(z.string(), async (id) => {
  const { locals } = getRequestEvent();
  const { apiClient } = locals;
  try {
    return await apiClient.deviceStatus.getPumpSnapshotById(id);
  } catch (err) {
    const status = (err as any)?.status;
    if (status === 401) { const { url } = getRequestEvent(); throw redirect(302, `/login?redirectTo=${encodeURIComponent(url.pathname + url.search)}`); }
    if (status === 403) throw error(403, 'Forbidden');
    console.error('Error in deviceStatus.getPumpSnapshotById:', err);
    throw error(500, 'Failed to get pump snapshot by id');
  }
});

/** Get uploader snapshots with optional filtering */
export const getUploaderSnapshots = query(z.object({ from: z.number().optional(), to: z.number().optional(), limit: z.number().optional(), offset: z.number().optional(), sort: z.string().optional(), device: z.string().optional(), source: z.string().optional() }).optional(), async (params) => {
  const { locals } = getRequestEvent();
  const { apiClient } = locals;
  try {
    return await apiClient.deviceStatus.getUploaderSnapshots(params?.from, params?.to, params?.limit, params?.offset, params?.sort, params?.device, params?.source);
  } catch (err) {
    const status = (err as any)?.status;
    if (status === 401) { const { url } = getRequestEvent(); throw redirect(302, `/login?redirectTo=${encodeURIComponent(url.pathname + url.search)}`); }
    if (status === 403) throw error(403, 'Forbidden');
    console.error('Error in deviceStatus.getUploaderSnapshots:', err);
    throw error(500, 'Failed to get uploader snapshots');
  }
});

/** Get an uploader snapshot by ID */
export const getUploaderSnapshotById = query(z.string(), async (id) => {
  const { locals } = getRequestEvent();
  const { apiClient } = locals;
  try {
    return await apiClient.deviceStatus.getUploaderSnapshotById(id);
  } catch (err) {
    const status = (err as any)?.status;
    if (status === 401) { const { url } = getRequestEvent(); throw redirect(302, `/login?redirectTo=${encodeURIComponent(url.pathname + url.search)}`); }
    if (status === 403) throw error(403, 'Forbidden');
    console.error('Error in deviceStatus.getUploaderSnapshotById:', err);
    throw error(500, 'Failed to get uploader snapshot by id');
  }
});
